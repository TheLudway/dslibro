<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 8 Visualizar distribuciones de datos | Introducción a la Ciencia de Datos</title>
  <meta name="description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 8 Visualizar distribuciones de datos | Introducción a la Ciencia de Datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 8 Visualizar distribuciones de datos | Introducción a la Ciencia de Datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-04-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ggplot2.html">
<link rel="next" href="gapminder.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a la Ciencia de Datos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#los-casos-de-estudio"><i class="fa fa-check"></i>Los casos de estudio</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#quien-encontrara-util-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-cubre-este-libro"><i class="fa fa-check"></i>¿Que cubre este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-que-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#paneles"><i class="fa fa-check"></i><b>1.4.1</b> Paneles</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#key-bindings"><i class="fa fa-check"></i><b>1.4.2</b> <em>Key bindings</em></a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#como-ejecutar-comandos-mientras-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Cómo ejecutar comandos mientras edita <em>scripts</em></a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#como-cambiar-las-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cómo cambiar las opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalacion-de-paquetes-de-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes de R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> Lo básico de R</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#caso-de-estudio-los-asesinatos-con-armas-en-ee.-uu."><i class="fa fa-check"></i><b>2.1</b> Caso de estudio: los asesinatos con armas en EE. UU.</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#lo-basico"><i class="fa fa-check"></i><b>2.2</b> Lo básico</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funciones"><i class="fa fa-check"></i><b>2.2.3</b> Funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-predefinidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos predefinidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#como-guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Cómo guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivantes"><i class="fa fa-check"></i><b>2.2.7</b> <em>Scripts</em> motivantes</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#como-comentar-su-codigo"><i class="fa fa-check"></i><b>2.2.8</b> Cómo comentar su código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> <em>data frames</em></a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#como-examinar-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Cómo examinar un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-operador-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El operador de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numericos-de-caracteres-y-logicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, de caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectores"><i class="fa fa-check"></i><b>2.6</b> Vectores</a><ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#como-crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Cómo crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#como-crear-un-subconjunto"><i class="fa fa-check"></i><b>2.6.4</b> Cómo crear un subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#la-conversion-forzada"><i class="fa fa-check"></i><b>2.7</b> La conversión forzada</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#not-available-na"><i class="fa fa-check"></i><b>2.7.1</b> <em>Not available</em> (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#sorting"><i class="fa fa-check"></i><b>2.9</b> <em>Sorting</em></a><ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.10</b> Ejercicios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmetica-de-vectores"><i class="fa fa-check"></i><b>2.11</b> Aritmética de vectores</a><ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#rescaling-un-vector"><i class="fa fa-check"></i><b>2.11.1</b> <em>Rescaling</em> un vector</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.11.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.12</b> Ejercicios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#indexacion"><i class="fa fa-check"></i><b>2.13</b> Indexación</a><ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#crear-subconjuntos-con-logicos"><i class="fa fa-check"></i><b>2.13.1</b> Crear subconjuntos con lógicos</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#operadores-logicos"><i class="fa fa-check"></i><b>2.13.2</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#graficos-basicos"><i class="fa fa-check"></i><b>2.15</b> Gráficos básicos</a><ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.16</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a><ul>
<li class="chapter" data-level="3.1" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#como-definir-funciones"><i class="fa fa-check"></i><b>3.2</b> Cómo definir funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#bucles-for"><i class="fa fa-check"></i><b>3.4</b> Bucles-for</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorización y funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <em>tidyverse</em></a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Data <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#como-manipular-los-data-frames"><i class="fa fa-check"></i><b>4.3</b> Cómo manipular los <em>data frames</em></a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#como-agregar-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Cómo agregar una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#como-crear-subconjuntos-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Cómo crear subconjuntos con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#como-seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Cómo seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-pipe"><i class="fa fa-check"></i><b>4.5</b> El <em>pipe</em>: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#como-resumir-datos"><i class="fa fa-check"></i><b>4.7</b> Cómo resumir datos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Cómo agrupar y luego resumir con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#como-ordenar-los-data-frames"><i class="fa fa-check"></i><b>4.8</b> Cómo ordenar los <em>data frames</em></a><ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#como-ordenar-anidadamente"><i class="fa fa-check"></i><b>4.8.1</b> Cómo ordenar anidadamente</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#los-primeros-n"><i class="fa fa-check"></i><b>4.8.2</b> Los primeros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> <em>Tibbles</em></a><ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-ven-mejor"><i class="fa fa-check"></i><b>4.10.1</b> Los <em>tibbles</em> se ven mejor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.10.2</b> Los subconjuntos de <em>tibbles</em> son <em>tibbles</em></a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-pueden-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.10.3</b> Los <em>tibbles</em> pueden tener entradas complejas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.10.4</b> Los <em>tibbles</em> se pueden agrupar</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#como-crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Cómo crear un <em>tibble</em> usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.11</b> El operador punto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#los-condicionales-de-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Los condicionales de <em>tidyverse</em></a><ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#las-rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Las rutas y el directorio de trabajo</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#las-rutas-relativas-y-completas"><i class="fa fa-check"></i><b>5.1.2</b> Las rutas relativas y completas</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#como-generar-los-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Cómo generar los nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#como-copiar-los-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Cómo copiar los archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#como-descargar-archivos"><i class="fa fa-check"></i><b>5.4</b> Cómo descargar archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#las-funciones-de-importacion-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Las funciones de importación de base R</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#archivos-de-texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Archivos de texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#como-organizar-datos-con-hojas-de-calculo"><i class="fa fa-check"></i><b>5.8</b> Cómo organizar datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="part"><span><b>II Visualización de datos EN CONSTRUCCION</b></span></li>
<li class="chapter" data-level="6" data-path="introduccion-a-la-visualizacion-de-datos.html"><a href="introduccion-a-la-visualizacion-de-datos.html"><i class="fa fa-check"></i><b>6</b> Introducción a la visualización de datos</a></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a><ul>
<li class="chapter" data-level="7.1" data-path="ggplot2.html"><a href="ggplot2.html#los-componentes-de-un-grafico"><i class="fa fa-check"></i><b>7.1</b> Los componentes de un gráfico</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot-objetos"><i class="fa fa-check"></i><b>7.2</b> <code>ggplot</code> objetos</a></li>
<li class="chapter" data-level="7.3" data-path="ggplot2.html"><a href="ggplot2.html#geometrias"><i class="fa fa-check"></i><b>7.3</b> Geometrías</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot2.html"><a href="ggplot2.html#mapeos-esteticos"><i class="fa fa-check"></i><b>7.4</b> Mapeos estéticos</a></li>
<li class="chapter" data-level="7.5" data-path="ggplot2.html"><a href="ggplot2.html#capas"><i class="fa fa-check"></i><b>7.5</b> Capas</a><ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot2.html"><a href="ggplot2.html#jugueteando-con-argumentos"><i class="fa fa-check"></i><b>7.5.1</b> Jugueteando con argumentos</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot2.html"><a href="ggplot2.html#mapeos-esteticos-globales-versus-locales"><i class="fa fa-check"></i><b>7.6</b> Mapeos estéticos globales versus locales</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot2.html"><a href="ggplot2.html#escamas"><i class="fa fa-check"></i><b>7.7</b> Escamas</a></li>
<li class="chapter" data-level="7.8" data-path="ggplot2.html"><a href="ggplot2.html#etiquetas-y-titulos"><i class="fa fa-check"></i><b>7.8</b> Etiquetas y títulos</a></li>
<li class="chapter" data-level="7.9" data-path="ggplot2.html"><a href="ggplot2.html#categorias-como-colores"><i class="fa fa-check"></i><b>7.9</b> Categorías como colores</a></li>
<li class="chapter" data-level="7.10" data-path="ggplot2.html"><a href="ggplot2.html#anotacion-formas-y-ajustes"><i class="fa fa-check"></i><b>7.10</b> Anotación, formas y ajustes</a></li>
<li class="chapter" data-level="7.11" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.11</b> Paquetes complementarios</a></li>
<li class="chapter" data-level="7.12" data-path="ggplot2.html"><a href="ggplot2.html#poniendolo-todo-junto"><i class="fa fa-check"></i><b>7.12</b> Poniendolo todo junto</a></li>
<li class="chapter" data-level="7.13" data-path="ggplot2.html"><a href="ggplot2.html#qplot"><i class="fa fa-check"></i><b>7.13</b> Trazados rápidos con <code>qplot</code></a></li>
<li class="chapter" data-level="7.14" data-path="ggplot2.html"><a href="ggplot2.html#cuadriculas-de-parcelas"><i class="fa fa-check"></i><b>7.14</b> Cuadrículas de parcelas</a></li>
<li class="chapter" data-level="7.15" data-path="ggplot2.html"><a href="ggplot2.html#ejercicios-15"><i class="fa fa-check"></i><b>7.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>8</b> Visualizar distribuciones de datos</a><ul>
<li class="chapter" data-level="8.1" data-path="distributions.html"><a href="distributions.html#tipos-de-variables"><i class="fa fa-check"></i><b>8.1</b> Tipos de variables</a></li>
<li class="chapter" data-level="8.2" data-path="distributions.html"><a href="distributions.html#estudio-de-caso-descripcion-de-las-alturas-de-los-estudiantes"><i class="fa fa-check"></i><b>8.2</b> Estudio de caso: descripción de las alturas de los estudiantes</a></li>
<li class="chapter" data-level="8.3" data-path="distributions.html"><a href="distributions.html#funcion-de-distribucion"><i class="fa fa-check"></i><b>8.3</b> Función de distribución</a></li>
<li class="chapter" data-level="8.4" data-path="distributions.html"><a href="distributions.html#cdf-intro"><i class="fa fa-check"></i><b>8.4</b> Funciones de distribución acumulativa</a></li>
<li class="chapter" data-level="8.5" data-path="distributions.html"><a href="distributions.html#histogramas"><i class="fa fa-check"></i><b>8.5</b> Histogramas</a></li>
<li class="chapter" data-level="8.6" data-path="distributions.html"><a href="distributions.html#densidad-suavizada"><i class="fa fa-check"></i><b>8.6</b> Densidad suavizada</a><ul>
<li class="chapter" data-level="8.6.1" data-path="distributions.html"><a href="distributions.html#interpretando-el-eje-y"><i class="fa fa-check"></i><b>8.6.1</b> Interpretando el eje y</a></li>
<li class="chapter" data-level="8.6.2" data-path="distributions.html"><a href="distributions.html#las-densidades-permiten-la-estratificacion"><i class="fa fa-check"></i><b>8.6.2</b> Las densidades permiten la estratificación</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="distributions.html"><a href="distributions.html#ejercicios-16"><i class="fa fa-check"></i><b>8.7</b> Ejercicios</a></li>
<li class="chapter" data-level="8.8" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>8.8</b> La distribución normal</a></li>
<li class="chapter" data-level="8.9" data-path="distributions.html"><a href="distributions.html#unidades-estandar"><i class="fa fa-check"></i><b>8.9</b> Unidades estándar</a></li>
<li class="chapter" data-level="8.10" data-path="distributions.html"><a href="distributions.html#graficos-cuantil-cuantil"><i class="fa fa-check"></i><b>8.10</b> Gráficos cuantil-cuantil</a></li>
<li class="chapter" data-level="8.11" data-path="distributions.html"><a href="distributions.html#percentiles"><i class="fa fa-check"></i><b>8.11</b> Percentiles</a></li>
<li class="chapter" data-level="8.12" data-path="distributions.html"><a href="distributions.html#graficos-de-caja"><i class="fa fa-check"></i><b>8.12</b> Gráficos de caja</a></li>
<li class="chapter" data-level="8.13" data-path="distributions.html"><a href="distributions.html#stratification"><i class="fa fa-check"></i><b>8.13</b> Estratificación</a></li>
<li class="chapter" data-level="8.14" data-path="distributions.html"><a href="distributions.html#student-height-cont"><i class="fa fa-check"></i><b>8.14</b> Estudio de caso: descripción de las alturas de los estudiantes (continuación)</a></li>
<li class="chapter" data-level="8.15" data-path="distributions.html"><a href="distributions.html#ejercicios-17"><i class="fa fa-check"></i><b>8.15</b> Ejercicios</a></li>
<li class="chapter" data-level="8.16" data-path="distributions.html"><a href="distributions.html#other-geometries"><i class="fa fa-check"></i><b>8.16</b> geometrías ggplot2</a><ul>
<li class="chapter" data-level="8.16.1" data-path="distributions.html"><a href="distributions.html#barplots"><i class="fa fa-check"></i><b>8.16.1</b> Barplots</a></li>
<li class="chapter" data-level="8.16.2" data-path="distributions.html"><a href="distributions.html#histogramas-1"><i class="fa fa-check"></i><b>8.16.2</b> Histogramas</a></li>
<li class="chapter" data-level="8.16.3" data-path="distributions.html"><a href="distributions.html#graficos-de-densidad"><i class="fa fa-check"></i><b>8.16.3</b> Gráficos de densidad</a></li>
<li class="chapter" data-level="8.16.4" data-path="distributions.html"><a href="distributions.html#boxplots"><i class="fa fa-check"></i><b>8.16.4</b> Boxplots</a></li>
<li class="chapter" data-level="8.16.5" data-path="distributions.html"><a href="distributions.html#qq-plot"><i class="fa fa-check"></i><b>8.16.5</b> QQ-plot</a></li>
<li class="chapter" data-level="8.16.6" data-path="distributions.html"><a href="distributions.html#imagenes"><i class="fa fa-check"></i><b>8.16.6</b> Imágenes</a></li>
<li class="chapter" data-level="8.16.7" data-path="distributions.html"><a href="distributions.html#trazados-rapidos"><i class="fa fa-check"></i><b>8.16.7</b> Trazados rápidos</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="distributions.html"><a href="distributions.html#ejercicios-18"><i class="fa fa-check"></i><b>8.17</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>9</b> Visualización de datos en la práctica</a><ul>
<li class="chapter" data-level="9.1" data-path="gapminder.html"><a href="gapminder.html#estudio-de-caso-nuevas-ideas-sobre-la-pobreza"><i class="fa fa-check"></i><b>9.1</b> Estudio de caso: nuevas ideas sobre la pobreza</a><ul>
<li class="chapter" data-level="9.1.1" data-path="gapminder.html"><a href="gapminder.html#prueba-de-hans-rosling"><i class="fa fa-check"></i><b>9.1.1</b> Prueba de Hans Rosling</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="gapminder.html"><a href="gapminder.html#grafico-de-dispersion"><i class="fa fa-check"></i><b>9.2</b> Gráfico de dispersión</a></li>
<li class="chapter" data-level="9.3" data-path="gapminder.html"><a href="gapminder.html#facetado"><i class="fa fa-check"></i><b>9.3</b> Facetado</a><ul>
<li class="chapter" data-level="9.3.1" data-path="gapminder.html"><a href="gapminder.html#facet_wrap"><i class="fa fa-check"></i><b>9.3.1</b> <code>facet_wrap</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="gapminder.html"><a href="gapminder.html#escalas-fijas-para-mejores-comparaciones"><i class="fa fa-check"></i><b>9.3.2</b> Escalas fijas para mejores comparaciones</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="gapminder.html"><a href="gapminder.html#graficos-de-series-de-tiempo"><i class="fa fa-check"></i><b>9.4</b> Gráficos de series de tiempo</a><ul>
<li class="chapter" data-level="9.4.1" data-path="gapminder.html"><a href="gapminder.html#etiquetas-en-lugar-de-leyendas"><i class="fa fa-check"></i><b>9.4.1</b> Etiquetas en lugar de leyendas</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="gapminder.html"><a href="gapminder.html#transformaciones-de-datos"><i class="fa fa-check"></i><b>9.5</b> Transformaciones de datos</a><ul>
<li class="chapter" data-level="9.5.1" data-path="gapminder.html"><a href="gapminder.html#transformacion-de-registro"><i class="fa fa-check"></i><b>9.5.1</b> Transformación de registro</a></li>
<li class="chapter" data-level="9.5.2" data-path="gapminder.html"><a href="gapminder.html#que-base"><i class="fa fa-check"></i><b>9.5.2</b> ¿Qué base?</a></li>
<li class="chapter" data-level="9.5.3" data-path="gapminder.html"><a href="gapminder.html#transformar-los-valores-o-la-escala"><i class="fa fa-check"></i><b>9.5.3</b> ¿Transformar los valores o la escala?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="gapminder.html"><a href="gapminder.html#visualizando-distribuciones-multimodales"><i class="fa fa-check"></i><b>9.6</b> Visualizando distribuciones multimodales</a></li>
<li class="chapter" data-level="9.7" data-path="gapminder.html"><a href="gapminder.html#comparar-multiples-distribuciones-con-graficos-de-caja-y-graficos-de-cresta"><i class="fa fa-check"></i><b>9.7</b> Comparar múltiples distribuciones con gráficos de caja y gráficos de cresta</a><ul>
<li class="chapter" data-level="9.7.1" data-path="gapminder.html"><a href="gapminder.html#boxplots-1"><i class="fa fa-check"></i><b>9.7.1</b> Boxplots</a></li>
<li class="chapter" data-level="9.7.2" data-path="gapminder.html"><a href="gapminder.html#parcelas-de-cresta"><i class="fa fa-check"></i><b>9.7.2</b> Parcelas de cresta</a></li>
<li class="chapter" data-level="9.7.3" data-path="gapminder.html"><a href="gapminder.html#ejemplo-distribuciones-de-ingresos-de-1970-versus-2010"><i class="fa fa-check"></i><b>9.7.3</b> Ejemplo: distribuciones de ingresos de 1970 versus 2010</a></li>
<li class="chapter" data-level="9.7.4" data-path="gapminder.html"><a href="gapminder.html#acceso-a-variables-calculadas"><i class="fa fa-check"></i><b>9.7.4</b> Acceso a variables calculadas</a></li>
<li class="chapter" data-level="9.7.5" data-path="gapminder.html"><a href="gapminder.html#densidades-ponderadas"><i class="fa fa-check"></i><b>9.7.5</b> Densidades ponderadas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="gapminder.html"><a href="gapminder.html#la-falacia-ecologica-y-la-importancia-de-mostrar-los-datos"><i class="fa fa-check"></i><b>9.8</b> La falacia ecológica y la importancia de mostrar los datos</a><ul>
<li class="chapter" data-level="9.8.1" data-path="gapminder.html"><a href="gapminder.html#logit"><i class="fa fa-check"></i><b>9.8.1</b> Transformación logística</a></li>
<li class="chapter" data-level="9.8.2" data-path="gapminder.html"><a href="gapminder.html#mostrar-los-datos"><i class="fa fa-check"></i><b>9.8.2</b> Mostrar los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html"><i class="fa fa-check"></i><b>10</b> Principios de visualización de datos</a><ul>
<li class="chapter" data-level="10.1" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#codificacion-de-datos-utilizando-senales-visuales"><i class="fa fa-check"></i><b>10.1</b> Codificación de datos utilizando señales visuales</a></li>
<li class="chapter" data-level="10.2" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#sepa-cuando-incluir-0"><i class="fa fa-check"></i><b>10.2</b> Sepa cuándo incluir 0</a></li>
<li class="chapter" data-level="10.3" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#no-distorsionar-cantidades"><i class="fa fa-check"></i><b>10.3</b> No distorsionar cantidades</a></li>
<li class="chapter" data-level="10.4" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#ordenar-categorias-por-un-valor-significativo"><i class="fa fa-check"></i><b>10.4</b> Ordenar categorías por un valor significativo</a></li>
<li class="chapter" data-level="10.5" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#mostrar-los-datos-1"><i class="fa fa-check"></i><b>10.5</b> Mostrar los datos</a></li>
<li class="chapter" data-level="10.6" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#facilita-las-comparaciones"><i class="fa fa-check"></i><b>10.6</b> Facilita las comparaciones</a><ul>
<li class="chapter" data-level="10.6.1" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#usar-ejes-comunes"><i class="fa fa-check"></i><b>10.6.1</b> Usar ejes comunes</a></li>
<li class="chapter" data-level="10.6.2" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#alinee-las-parcelas-verticalmente-para-ver-cambios-horizontales-y-horizontalmente-para-ver-cambios-verticales"><i class="fa fa-check"></i><b>10.6.2</b> Alinee las parcelas verticalmente para ver cambios horizontales y horizontalmente para ver cambios verticales</a></li>
<li class="chapter" data-level="10.6.3" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#considere-transformaciones"><i class="fa fa-check"></i><b>10.6.3</b> Considere transformaciones</a></li>
<li class="chapter" data-level="10.6.4" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#las-senales-visuales-a-comparar-deben-ser-adyacentes"><i class="fa fa-check"></i><b>10.6.4</b> Las señales visuales a comparar deben ser adyacentes</a></li>
<li class="chapter" data-level="10.6.5" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#usar-color"><i class="fa fa-check"></i><b>10.6.5</b> Usar color</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#piensa-en-el-daltonico"><i class="fa fa-check"></i><b>10.7</b> Piensa en el daltónico</a></li>
<li class="chapter" data-level="10.8" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#graficos-para-dos-variables"><i class="fa fa-check"></i><b>10.8</b> Gráficos para dos variables</a><ul>
<li class="chapter" data-level="10.8.1" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#graficos-de-pendiente"><i class="fa fa-check"></i><b>10.8.1</b> Gráficos de pendiente</a></li>
<li class="chapter" data-level="10.8.2" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#trama-de-bland-altman"><i class="fa fa-check"></i><b>10.8.2</b> Trama de Bland-Altman</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#codificacion-de-una-tercera-variable"><i class="fa fa-check"></i><b>10.9</b> Codificación de una tercera variable</a></li>
<li class="chapter" data-level="10.10" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#evite-las-tramas-pseudo-tridimensionales"><i class="fa fa-check"></i><b>10.10</b> Evite las tramas pseudo-tridimensionales</a></li>
<li class="chapter" data-level="10.11" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#evite-demasiados-digitos-significativos"><i class="fa fa-check"></i><b>10.11</b> Evite demasiados dígitos significativos</a></li>
<li class="chapter" data-level="10.12" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#conoce-a-tu-audiencia"><i class="fa fa-check"></i><b>10.12</b> Conoce a tu audiencia</a></li>
<li class="chapter" data-level="10.13" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#ejercicios-19"><i class="fa fa-check"></i><b>10.13</b> Ejercicios</a></li>
<li class="chapter" data-level="10.14" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#vaccines"><i class="fa fa-check"></i><b>10.14</b> Estudio de caso: vacunas y enfermedades infecciosas</a></li>
<li class="chapter" data-level="10.15" data-path="principios-de-visualizacion-de-datos.html"><a href="principios-de-visualizacion-de-datos.html#ejercicios-20"><i class="fa fa-check"></i><b>10.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>11</b> Resúmenes robustos</a><ul>
<li class="chapter" data-level="11.1" data-path="robust-summaries.html"><a href="robust-summaries.html#valores-atipicos"><i class="fa fa-check"></i><b>11.1</b> Valores atípicos</a></li>
<li class="chapter" data-level="11.2" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana"><i class="fa fa-check"></i><b>11.2</b> Mediana</a></li>
<li class="chapter" data-level="11.3" data-path="robust-summaries.html"><a href="robust-summaries.html#el-rango-intercuartil-iqr"><i class="fa fa-check"></i><b>11.3</b> El rango intercuartil (IQR)</a></li>
<li class="chapter" data-level="11.4" data-path="robust-summaries.html"><a href="robust-summaries.html#la-definicion-de-tukey-de-un-valor-atipico"><i class="fa fa-check"></i><b>11.4</b> La definición de Tukey de un valor atípico</a></li>
<li class="chapter" data-level="11.5" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana-desviacion-absoluta"><i class="fa fa-check"></i><b>11.5</b> Mediana desviación absoluta</a></li>
<li class="chapter" data-level="11.6" data-path="robust-summaries.html"><a href="robust-summaries.html#ejercicios-21"><i class="fa fa-check"></i><b>11.6</b> Ejercicios</a></li>
<li class="chapter" data-level="11.7" data-path="robust-summaries.html"><a href="robust-summaries.html#estudio-de-caso-alturas-de-estudiantes-autoinformadas"><i class="fa fa-check"></i><b>11.7</b> Estudio de caso: alturas de estudiantes autoinformadas</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la Ciencia de Datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="distributions" class="section level1">
<h1><span class="header-section-number">Capítulo 8</span> Visualizar distribuciones de datos</h1>
<p>Es posible que haya notado que los datos numéricos a menudo se resumen con el valor <em>average</em>. Por ejemplo, la calidad de una escuela secundaria a veces se resume con un número: el puntaje promedio en una prueba estandarizada. Ocasionalmente, se informa un segundo número: la <em>desviación estándar</em>. Por ejemplo, puede leer un informe que indique que las puntuaciones fueron 680 más o menos 50 (la desviación estándar). El informe ha resumido un vector completo de puntajes con solo dos números. ¿Es esto apropiado? ¿Hay alguna información importante que nos falta al mirar este resumen en lugar de la lista completa?</p>
<p>Nuestro primer componente básico de visualización de datos es aprender a resumir listas de factores o vectores numéricos. La mayoría de las veces, la mejor manera de compartir o explorar este resumen es a través de la visualización de datos. El resumen estadístico más básico de una lista de objetos o números es su distribución. Una vez que un vector se ha resumido como una distribución, existen varias técnicas de visualización de datos para transmitir esta información de manera efectiva.</p>
<p>En este capítulo, primero discutimos las propiedades de una variedad de distribuciones y cómo visualizar las distribuciones usando un ejemplo motivador de las alturas de los estudiantes. Luego discutimos las geometrías <strong>ggplot2</strong> para estas visualizaciones en la Sección <a href="distributions.html#other-geometries">8.16</a>.</p>
<div id="tipos-de-variables" class="section level2">
<h2><span class="header-section-number">8.1</span> Tipos de variables</h2>
<p>Trabajaremos con dos tipos de variables: categóricas y numéricas. Cada uno puede dividirse en otros dos grupos: los categóricos pueden ser ordinales o no, mientras que las variables numéricas pueden ser discretas o continuas.</p>
<p>Cuando cada entrada en un vector proviene de uno de un pequeño número de grupos, nos referimos a los datos como <em>categorical data</em>. Dos ejemplos simples son el sexo (masculino o femenino) y las regiones (noreste, sur, norte central, oeste). Algunos datos categóricos se pueden ordenar incluso si no son números en sí, como picante (leve, medio, picante). En los libros de texto de estadísticas, los datos categóricos ordenados se denominan datos <em>ordinales</em>.</p>
<p>Ejemplos de datos numéricos son el tamaño de la población, las tasas de asesinatos y las alturas. Algunos datos numéricos pueden tratarse como ordenados categóricos. Podemos dividir aún más los datos numéricos en continuos y discretos. Las variables continuas son aquellas que pueden tomar cualquier valor, como las alturas, si se miden con suficiente precisión. Por ejemplo, un par de gemelos puede tener 68.12 y 68.11 pulgadas, respectivamente. Los recuentos, como el tamaño de la población, son discretos porque tienen que ser números redondos.</p>
<p>Tenga en cuenta que los datos numéricos discretos pueden considerarse ordinales. Aunque esto es técnicamente cierto, generalmente reservamos el término datos ordinales para variables que pertenecen a un pequeño número de grupos diferentes, y cada grupo tiene muchos miembros. En contraste, cuando tenemos muchos grupos con pocos casos en cada grupo, generalmente nos referimos a ellos como variables numéricas discretas. Entonces, por ejemplo, el número de paquetes de cigarrillos que una persona fuma al día, redondeado al paquete más cercano, se consideraría ordinal, mientras que el número real de cigarrillos se consideraría una variable numérica. Pero, de hecho, hay ejemplos que pueden considerarse tanto numéricos como ordinales cuando se trata de visualizar datos.</p>
</div>
<div id="estudio-de-caso-descripcion-de-las-alturas-de-los-estudiantes" class="section level2">
<h2><span class="header-section-number">8.2</span> Estudio de caso: descripción de las alturas de los estudiantes</h2>
<p>Aquí presentamos un nuevo problema motivador. Es artificial, pero nos ayudará a ilustrar los conceptos necesarios para comprender las distribuciones.</p>
<p>Finja que tenemos que describir las alturas de nuestros compañeros de clase a ET, un extraterrestre que nunca ha visto humanos. Como primer paso, necesitamos recopilar datos. Para hacer esto, les pedimos a los estudiantes que informen sus alturas en pulgadas. Les pedimos que proporcionen información sobre el sexo porque sabemos que hay dos distribuciones diferentes por sexo. Recopilamos los datos y los guardamos en el <code>heights</code> marco de datos:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb305-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb305-2" data-line-number="2"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb305-3" data-line-number="3"><span class="kw">data</span>(heights)</a></code></pre></div>
<p>Una forma de transmitir las alturas a ET es simplemente enviarle esta lista de 1050 alturas Pero hay formas mucho más efectivas de transmitir esta información, y comprender el concepto de distribución ayudará. Para simplificar la explicación, primero nos enfocamos en las alturas masculinas. Examinamos los datos de altura femenina en la Sección <a href="distributions.html#student-height-cont">8.14</a>.</p>
</div>
<div id="funcion-de-distribucion" class="section level2">
<h2><span class="header-section-number">8.3</span> Función de distribución</h2>
<p>Resulta que, en algunos casos, el promedio y la desviación estándar son prácticamente todo lo que necesitamos para comprender los datos. Aprenderemos técnicas de visualización de datos que nos ayudarán a determinar cuándo este resumen de dos números es apropiado. Estas mismas técnicas servirán como una alternativa para cuando dos números no son suficientes.</p>
<p>El resumen estadístico más básico de una lista de objetos o números es su distribución. La forma más sencilla de pensar en una distribución es como una descripción compacta de una lista con muchas entradas. Este concepto no debería ser nuevo para los lectores de este libro. Por ejemplo, con datos categóricos, la distribución simplemente describe la proporción de cada categoría única. El sexo representado en el conjunto de datos de alturas es:</p>
<pre><code>#&gt; 
#&gt; Female   Male 
#&gt;  0.227  0.773</code></pre>
<p>Esta tabla de frecuencia de dos categorías es la forma más simple de una distribución. Realmente no necesitamos visualizarlo ya que un número describe todo lo que necesitamos saber: 23% son mujeres y el resto son hombres. Cuando hay más categorías, un diagrama de barras simple describe la distribución. Aquí hay un ejemplo con las regiones estatales de EE. UU .:</p>
<p><img src="libro_files/figure-html/state-region-distribution-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Este gráfico en particular simplemente nos muestra cuatro números, uno para cada categoría. Usualmente usamos gráficos de barras para mostrar algunos números. Aunque este gráfico en particular no proporciona mucha más información que una tabla de frecuencias en sí, es un primer ejemplo de cómo convertimos un vector en un gráfico que resume de manera sucinta toda la información en el vector. Cuando los datos son numéricos, la tarea de mostrar distribuciones es más desafiante.</p>
</div>
<div id="cdf-intro" class="section level2">
<h2><span class="header-section-number">8.4</span> Funciones de distribución acumulativa</h2>
<p>Los datos numéricos que no son categóricos también tienen distribuciones. En general, cuando los datos no son categóricos, informar la frecuencia de cada entrada no es un resumen efectivo, ya que la mayoría de las entradas son únicas. En nuestro estudio de caso, mientras varios estudiantes reportaron una altura de 68 pulgadas, solo un estudiante reportó una altura de <code>68.503937007874</code> pulgadas y solo un estudiante informó una altura <code>68.8976377952756</code> pulgadas. Suponemos que se convirtieron de 174 y 175 centímetros, respectivamente.</p>
<p>Los libros de texto de estadísticas nos enseñan que una forma más útil de definir una distribución de datos numéricos es definir una función que informe la proporción de los datos a continuación <span class="math inline">\(a\)</span> para todos los valores posibles de <span class="math inline">\(a\)</span>. Esta función se llama función de distribución acumulativa (CDF). En estadística, se usa la siguiente notación:</p>
<p><span class="math display">\[ F(a) = \mbox{Pr}(x \leq a) \]</span></p>
<p>Aquí hay una trama de <span class="math inline">\(F\)</span> para los datos de estatura masculina:</p>
<p><img src="libro_files/figure-html/ecdf-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Similar a lo que hace la tabla de frecuencias para datos categóricos, el CDF
define la distribución de datos numéricos. De la trama, podemos ver que 16% de los valores están por debajo de 65, ya que <span class="math inline">\(F(66)=\)</span> 0.164, or that <code>r round(ecdf (heights$height[heights$sex == &quot;Male&quot;])(72) * 100)</code>% de los valores están por debajo de 72, ya que <span class="math inline">\(F(72)=\)</span> 0.841,
y así. De hecho, podemos informar la proporción de valores entre dos alturas, digamos <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>, por computación <span class="math inline">\(F(b) - F(a)\)</span>. Esto significa que si enviamos este diagrama a ET, él tendrá toda la información necesaria para reconstruir la lista completa. Parafraseando la expresión “una imagen vale más que mil palabras”, en este caso, una imagen es tan informativa como 812 números.</p>
<p>Una nota final: debido a que los CDF pueden definirse matemáticamente, la palabra <em>empirical</em> se agrega para hacer la distinción cuando se usan los datos. Por lo tanto, utilizamos el término empírico CDF (eCDF).</p>
</div>
<div id="histogramas" class="section level2">
<h2><span class="header-section-number">8.5</span> Histogramas</h2>
<p>Aunque el concepto CDF se discute ampliamente en los libros de texto de estadística, la trama en realidad no es muy popular en la práctica. La razón principal es que no transmite fácilmente características de interés como: ¿en qué valor se centra la distribución? ¿La distribución es simétrica? ¿Qué rangos contienen el 95% de los valores? Los histogramas son muy preferidos porque facilitan enormemente la respuesta a tales preguntas. Los histogramas sacrifican solo un poco de información para producir gráficos que son mucho más fáciles de interpretar.</p>
<p>La forma más sencilla de hacer un histograma es dividir el alcance de nuestros datos en contenedores no superpuestos del mismo tamaño. Luego, para cada bin, contamos el número de valores que se encuentran en ese intervalo. El histograma traza estos recuentos como barras con la base de la barra definida por los intervalos. Aquí está el histograma para los datos de altura que dividen el rango de valores en intervalos de una pulgada: <span class="math inline">\([49.5, 50.5], [51.5,52.5],(53.5,54.5],...,(82.5,83.5]\)</span></p>
<p><img src="libro_files/figure-html/height-histogram-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Como puede ver en la figura anterior, un histograma es similar a un diagrama de barras, pero difiere en que el eje x es numérico, no categórico.</p>
<p>Si enviamos este diagrama a ET, él aprenderá de inmediato algunas propiedades importantes sobre nuestros datos. Primero, el rango de datos es de 50 a 84 con la mayoría (más del 95%) entre 63 y 75 pulgadas. En segundo lugar, las alturas son casi simétricas alrededor de 69 pulgadas. Además, al sumar conteos, ET podría obtener una muy buena aproximación de la proporción de los datos en cualquier intervalo. Por lo tanto, el histograma anterior no solo es fácil de interpretar, sino que también proporciona casi toda la información contenida en la lista cruda de 812 alturas con aproximadamente 30 conteos de basura.</p>
<p>¿Qué información perdemos? Tenga en cuenta que todos los valores en cada intervalo se tratan de la misma manera cuando se calculan las alturas del contenedor. Entonces, por ejemplo, el histograma no distingue entre 64, 64.1 y 64.2 pulgadas. Dado que estas diferencias son casi imperceptibles a la vista, las implicaciones prácticas son insignificantes y pudimos resumir los datos a solo 23 números.</p>
<p>Discutimos cómo codificar histogramas en la Sección <a href="distributions.html#other-geometries">8.16</a>.</p>
</div>
<div id="densidad-suavizada" class="section level2">
<h2><span class="header-section-number">8.6</span> Densidad suavizada</h2>
<p>Las gráficas de densidad suave son estéticamente más atractivas que los histogramas. Así es como se ve un gráfico de densidad uniforme para nuestros datos de altura:</p>
<p><img src="libro_files/figure-html/example-of-smoothed-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>En este gráfico, ya no tenemos bordes afilados en los límites de intervalo y muchos de los picos locales se han eliminado. Además, la escala del eje y cambió de conteos a <em>densidad</em>.</p>
<p>Para comprender las densidades suaves, tenemos que entender las estimaciones, un tema que no cubrimos hasta más tarde. Sin embargo, proporcionamos una explicación heurística para ayudarlo a comprender los conceptos básicos para que pueda utilizar esta útil herramienta de visualización de datos.</p>
<p>El nuevo concepto principal que debe comprender es que suponemos que nuestra lista de valores observados es un subconjunto de una lista mucho más grande de valores no observados. En el caso de las alturas, puedes imaginar que nuestra lista de 812 los estudiantes varones provienen de una lista hipotética que contiene todas las alturas de todos los estudiantes varones en todo el mundo, medidos con mucha precisión. Digamos que hay 1,000,000 de estas medidas. Esta lista de valores tiene una distribución, como cualquier lista de valores, y esta distribución más grande es realmente lo que queremos informar a ET, ya que es mucho más general. Desafortunadamente, no podemos verlo.</p>
<p>Sin embargo, hacemos una suposición que nos ayuda quizás a aproximarnos. Si tuviéramos 1,000,000 de valores, medidos con mucha precisión, podríamos hacer un histograma con contenedores muy, muy pequeños. La suposición es que si mostramos esto, la altura de los contenedores consecutivos será similar. Esto es lo que queremos decir con suave: no tenemos grandes saltos en las alturas de los contenedores consecutivos. A continuación tenemos un histograma hipotético con contenedores de tamaño 1:</p>
<p><img src="libro_files/figure-html/simulated-data-histogram-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Cuanto más pequeños hacemos los contenedores, más suave se vuelve el histograma. Aquí están los histogramas con ancho de bin de 1, 0.5 y 0.1:</p>
<p><img src="libro_files/figure-html/simulated-data-histogram-2-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>La densidad suave es básicamente la curva que atraviesa la parte superior de las barras de histograma cuando los contenedores son muy, muy pequeños. Para que la curva no dependa del tamaño hipotético de la lista hipotética, calculamos la curva en frecuencias en lugar de conteos:</p>
<p><img src="libro_files/figure-html/simulated-density-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Ahora, de vuelta a la realidad. No tenemos millones de medidas. En cambio, tenemos 812 y no podemos hacer un histograma con contenedores muy pequeños.</p>
<p>Por lo tanto, hacemos un histograma, utilizando tamaños de bin apropiados para nuestros datos y frecuencias de cómputo en lugar de conteos, y dibujamos una curva suave que pasa por la parte superior de las barras de histograma. Los siguientes gráficos muestran los pasos que conducen a una densidad uniforme:</p>
<p><img src="libro_files/figure-html/smooth-density-2-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Sin embargo, recuerde que <em>smooth</em> es un término relativo. De hecho, podemos controlar la suavidad de la curva que define la densidad uniforme a través de una opción en la función que calcula la curva de densidad uniforme. Aquí hay dos ejemplos que usan diferentes grados de suavidad en el mismo histograma:</p>
<p><img src="libro_files/figure-html/densities-different-smoothness-1.png" width="100%" style="display: block; margin: auto;" />
Necesitamos tomar esta decisión con cuidado ya que las visualizaciones resultantes pueden cambiar nuestra interpretación de los datos. Debemos seleccionar un grado de suavidad que podamos defender como representativo de los datos subyacentes. En el caso de la altura, realmente tenemos razones para creer que la proporción de personas con alturas similares debería ser la misma. Por ejemplo, la proporción que es 72 pulgadas debería ser más similar a la proporción que es 71 que a la proporción que es 78 o 65. Esto implica que la curva debe ser bastante suave; es decir, la curva debería parecerse más al ejemplo de la derecha que a la izquierda.</p>
<p>Si bien el histograma es un resumen sin supuestos, la densidad suavizada se basa en algunos supuestos.</p>
<div id="interpretando-el-eje-y" class="section level3">
<h3><span class="header-section-number">8.6.1</span> Interpretando el eje y</h3>
<p>Tenga en cuenta que interpretar el eje y de un gráfico de densidad uniforme no es sencillo. Se escala para que el área bajo la curva de densidad se sume a 1. Si imagina que formamos un contenedor con una base de 1 unidad de longitud, el valor del eje y nos indica la proporción de valores en ese contenedor. Sin embargo, esto solo es cierto para contenedores de tamaño 1. Para otros intervalos de tamaño, la mejor manera de determinar la proporción de datos en ese intervalo es calculando la proporción del área total contenida en ese intervalo. Por ejemplo, aquí están la proporción de valores entre 65 y 68:</p>
<p><img src="libro_files/figure-html/area-under-curve-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La proporción de esta área es aproximadamente
NaN,
lo que significa que aproximadamente esa proporción es entre 65 y 68 pulgadas.</p>
<p>Al comprender esto, estamos listos para usar la densidad uniforme como resumen. Para este conjunto de datos, nos sentiríamos bastante cómodos con el supuesto de suavidad y, por lo tanto, al compartir esta figura estéticamente agradable con ET, que podría usar para comprender nuestros datos de alturas masculinas:</p>
<p><img src="libro_files/figure-html/example-of-smoothed-density-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="las-densidades-permiten-la-estratificacion" class="section level3">
<h3><span class="header-section-number">8.6.2</span> Las densidades permiten la estratificación</h3>
<p>Como nota final, señalamos que una ventaja de las densidades suaves sobre los histogramas para fines de visualización es que las densidades facilitan la comparación de dos distribuciones. Esto se debe en gran parte a que los bordes irregulares del histograma agregan desorden. Aquí hay un ejemplo que compara las alturas masculinas y femeninas:</p>
<p><img src="libro_files/figure-html/two-densities-one-plot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Con el argumento correcto, <code>ggplot</code> sombrea automáticamente la región de intersección con un color diferente. Mostraremos ejemplos de código <strong>ggplot2</strong> para densidades en la Sección <a href="gapminder.html#gapminder">9</a> así como Sección <a href="distributions.html#other-geometries">8.16</a>.</p>
</div>
</div>
<div id="ejercicios-16" class="section level2">
<h2><span class="header-section-number">8.7</span> Ejercicios</h2>
<p>1. En el <code>murders</code> conjunto de datos, la región es una variable categórica y la siguiente es su distribución:</p>
<p><img src="libro_files/figure-html/barplot-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Al 5% más cercano, ¿qué proporción de los estados se encuentran en la región Centro Norte?</p>
<p>2. Cual de los siguientes es verdadero:</p>
<ol style="list-style-type: lower-alpha">
<li>El gráfico de arriba es un histograma.
si. El gráfico anterior muestra solo cuatro números con un diagrama de barras.</li>
<li>Las categorías no son números, por lo que no tiene sentido graficar la distribución.
re. Los colores, no la altura de las barras, describen la distribución.</li>
</ol>
<p>3. La siguiente gráfica muestra el eCDF para las alturas masculinas:</p>
<p><img src="libro_files/figure-html/ecdf-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Según el gráfico, ¿qué porcentaje de hombres son más cortos que 75 pulgadas?</p>
<ol style="list-style-type: lower-alpha">
<li>100%
si. 95%</li>
<li>80%
re. 72 pulgadas</li>
</ol>
<p>4. A la pulgada más cercana, qué altura <code>m</code> tiene la propiedad de que la mitad de los estudiantes varones son más altos que <code>m</code> y 1/2 son más cortos?</p>
<ol style="list-style-type: lower-alpha">
<li>61 pulgadas
si. 64 pulgadas</li>
<li>69 pulgadas
re. 74 pulgadas</li>
</ol>
<p>5. Aquí hay un eCDF de las tasas de asesinatos en todos los estados:</p>
<p><img src="libro_files/figure-html/ecdf-exercise-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Sabiendo que hay 51 estados (contando DC) y en base a esta trama, ¿cuántos estados tienen tasas de homicidio superiores a 10 por cada 100,000 personas?</p>
<ol style="list-style-type: lower-alpha">
<li>1
si. 5 5</li>
<li>10
re. 50</li>
</ol>
<p>6. Según el eCDF anterior, cuál de las siguientes afirmaciones es verdadera:</p>
<ol style="list-style-type: lower-alpha">
<li>Alrededor de la mitad de los estados tienen tasas de homicidios superiores a 7 por 100.000 y la otra mitad a continuación.
si. La mayoría de los estados tienen tasas de homicidio por debajo de 2 por 100,000.</li>
<li>Todos los estados tienen tasas de asesinatos superiores a 2 por 100,000.
re. Con la excepción de 4 estados, las tasas de asesinatos son inferiores a 5 por cada 100,000.</li>
</ol>
<p>7. A continuación se muestra un histograma de alturas masculinas en nuestro <code>heights</code> conjunto de datos:</p>
<p><img src="libro_files/figure-html/height-histogram-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Según esta gráfica, ¿cuántos hombres hay entre 63.5 y 65.5?</p>
<ol style="list-style-type: lower-alpha">
<li>10
si. 24</li>
<li>34
re. 100</li>
</ol>
<p>8. ¿Aproximadamente qué <strong>porcentaje</strong> son más cortos que 60 pulgadas?</p>
<ol style="list-style-type: lower-alpha">
<li>1%
si. 10%</li>
<li>25%
re. 50%</li>
</ol>
<p>9. Según la gráfica de densidad a continuación, ¿aproximadamente qué proporción de estados de EE. UU. Tienen poblaciones mayores de 10 millones?</p>
<p><img src="libro_files/figure-html/density-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<ol style="list-style-type: lower-alpha">
<li>0,02
si. 0,15</li>
<li>0,50
re. 0,55</li>
</ol>
<p>10. Debajo hay tres diagramas de densidad. ¿Es posible que sean del mismo conjunto de datos?</p>
<p><img src="libro_files/figure-html/density-exercise-2-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Cuál de las siguientes afirmaciones es verdadera:</p>
<ol style="list-style-type: lower-alpha">
<li>Es imposible que sean del mismo conjunto de datos.
si. Son del mismo conjunto de datos, pero los gráficos son diferentes debido a errores de código.</li>
<li>Son el mismo conjunto de datos, pero el primer y el segundo diagrama son poco profundos y los terceros son demasiado suaves.
re. Son el mismo conjunto de datos, pero el primero no está en la escala logarítmica, el segundo undermooths y el tercero oversmooths.</li>
</ol>
</div>
<div id="normal-distribution" class="section level2">
<h2><span class="header-section-number">8.8</span> La distribución normal</h2>
<p>Los histogramas y las gráficas de densidad proporcionan excelentes resúmenes de una distribución. ¿Pero podemos resumir aún más? A menudo vemos la desviación promedio y estándar utilizada como resumen estadístico: ¡un resumen de dos números! Para comprender cuáles son estos resúmenes y por qué se usan tanto, necesitamos comprender la distribución normal.</p>
<p>La distribución normal, también conocida como curva de campana y distribución gaussiana, es uno de los conceptos matemáticos más famosos de la historia. Una razón para esto es que se producen distribuciones aproximadamente normales en muchas situaciones, incluidas las ganancias de juego, las alturas, los pesos, la presión arterial, los puntajes de las pruebas estandarizadas y los errores de medición experimentales. Hay explicaciones para esto, pero las describimos más adelante. Aquí nos centramos en cómo la distribución normal nos ayuda a resumir los datos.</p>
<p>En lugar de usar datos, la distribución normal se define con una fórmula matemática. Para cualquier intervalo <span class="math inline">\((a,b)\)</span>, la proporción de valores en ese intervalo se puede calcular utilizando esta fórmula:</p>
<p><span class="math display">\[\mbox{Pr}(a &lt; x &lt; b) = \int_a^b \frac{1}{\sqrt{2\pi}s} e^{-\frac{1}{2}\left( \frac{x-m}{s} \right)^2} \, dx\]</span></p>
<p>No necesita memorizar o comprender los detalles de la fórmula. Pero tenga en cuenta que está completamente definido por solo dos parámetros: <span class="math inline">\(m\)</span> y <span class="math inline">\(s\)</span>. El resto de los símbolos en la fórmula representan los extremos de intervalo que determinamos, <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span> y constantes matemáticas conocidas <span class="math inline">\(\pi\)</span> y <span class="math inline">\(e\)</span>. Estos dos parámetros <span class="math inline">\(m\)</span> y <span class="math inline">\(s\)</span>, se conocen como <em>average</em> (también llamado <em>mean</em>) y <em>standard deviation</em> (SD) de la distribución, respectivamente.</p>
<p>La distribución es simétrica, centrada en el promedio, y la mayoría de los valores (alrededor del 95%) están dentro de 2 SD del promedio. Así es como se ve la distribución normal cuando el promedio es 0 y el SD es 1:</p>
<p><img src="libro_files/figure-html/normal-distribution-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>El hecho de que la distribución esté definida por solo dos parámetros implica que si un conjunto de datos se aproxima por una distribución normal, toda la información necesaria para describir la distribución se puede codificar en solo dos números: el promedio y la desviación estándar. Ahora definimos estos valores para una lista arbitraria de números.</p>
<p>Para una lista de números contenidos en un vector <code>x</code>, el promedio se define como:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb307-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span><span class="st"> </span><span class="kw">length</span>(x)</a></code></pre></div>
<p>y la SD se define como:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb308-1" data-line-number="1">s &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">sum</span>((x<span class="op">-</span>mu)<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span><span class="st"> </span><span class="kw">length</span>(x))</a></code></pre></div>
<p>que puede interpretarse como la distancia promedio entre valores y su promedio.</p>
<p>Calculemos los valores para la altura de los machos que almacenaremos en el objeto <span class="math inline">\(x\)</span>:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb309-1" data-line-number="1">index &lt;-<span class="st"> </span>heights<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;Male&quot;</span></a>
<a class="sourceLine" id="cb309-2" data-line-number="2">x &lt;-<span class="st"> </span>heights<span class="op">$</span>height[index]</a></code></pre></div>
<p>Las funciones preconstruidas <code>mean</code> y <code>sd</code> (tenga en cuenta que por razones explicadas en la Sección <a href="#data-driven-model"><strong>??</strong></a>, <code>sd</code> divide por <code>length(x)-1</code> más bien que <code>length(x)</code>) se puede usar aquí:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb310-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb310-2" data-line-number="2">s &lt;-<span class="st"> </span><span class="kw">sd</span>(x)</a>
<a class="sourceLine" id="cb310-3" data-line-number="3"><span class="kw">c</span>(<span class="dt">average =</span> m, <span class="dt">sd =</span> s)</a>
<a class="sourceLine" id="cb310-4" data-line-number="4"><span class="co">#&gt; average      sd </span></a>
<a class="sourceLine" id="cb310-5" data-line-number="5"><span class="co">#&gt;   69.31    3.61</span></a></code></pre></div>
<p>Aquí hay una gráfica de la densidad suave y la distribución normal con media = 69.3 y SD = 3.6 trazado como una línea negra con la densidad suave de nuestra altura de estudiante en azul:</p>
<p><img src="libro_files/figure-html/data-and-normal-densities-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La distribución normal parece ser una buena aproximación aquí. Ahora veremos qué tan bien funciona esta aproximación para predecir la proporción de valores dentro de los intervalos.</p>
</div>
<div id="unidades-estandar" class="section level2">
<h2><span class="header-section-number">8.9</span> Unidades estándar</h2>
<p>Para los datos que se distribuyen aproximadamente normalmente, es conveniente pensar en términos de <em>unidades estándar</em>. La unidad estándar de un valor nos dice cuántas desviaciones estándar se alejan del promedio. Específicamente, por un valor <code>x</code> de un vector <code>X</code>, definimos el valor de <code>x</code> en unidades estándar como <code>z = (x - m)/s</code> con <code>m</code> y <code>s</code> la desviación promedio y estándar de <code>X</code>, respectivamente. ¿Por qué es esto conveniente?</p>
<p>Primero revise la fórmula para la distribución normal y observe que lo que se está exponiendo es <span class="math inline">\(-z^2/2\)</span> con <span class="math inline">\(z\)</span> equivalente a <span class="math inline">\(x\)</span> en unidades estándar Porque el máximo de <span class="math inline">\(e^{-z^2/2}\)</span> es cuando <span class="math inline">\(z=0\)</span>, esto explica por qué el máximo de la distribución ocurre en el promedio. También explica la simetría desde <span class="math inline">\(- z^2/2\)</span> es simétrico alrededor de 0. En segundo lugar, tenga en cuenta que si convertimos los datos distribuidos normalmente a unidades estándar, podemos saber rápidamente si, por ejemplo, una persona es aproximadamente promedio ( <span class="math inline">\(z=0\)</span>), uno de los más largos ( <span class="math inline">\(z \approx 2\)</span>), uno de los más pequeños ( <span class="math inline">\(z \approx -2\)</span>), o una ocurrencia extremadamente rara ( <span class="math inline">\(z &gt; 3\)</span> o <span class="math inline">\(z &lt; -3\)</span>) Recuerde que no importa cuáles sean las unidades originales, estas reglas se aplican a cualquier dato que sea aproximadamente normal.</p>
<p>En R, podemos obtener unidades estándar usando la función <code>scale</code>:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb311-1" data-line-number="1">z &lt;-<span class="st"> </span><span class="kw">scale</span>(x)</a></code></pre></div>
<p>Ahora para ver cuántos hombres hay dentro de 2 SD del promedio, simplemente escribimos:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb312-1" data-line-number="1"><span class="kw">mean</span>(<span class="kw">abs</span>(z) <span class="op">&lt;</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb312-2" data-line-number="2"><span class="co">#&gt; [1] 0.95</span></a></code></pre></div>
<p>¡La proporción es de aproximadamente el 95%, que es lo que predice la distribución normal! Para confirmar aún más que, de hecho, la aproximación es buena, podemos usar gráficas cuantil-cuantil.</p>
</div>
<div id="graficos-cuantil-cuantil" class="section level2">
<h2><span class="header-section-number">8.10</span> Gráficos cuantil-cuantil</h2>
<p>Una forma sistemática de evaluar qué tan bien se ajusta la distribución normal a los datos es verificar si las proporciones observadas y predichas coinciden. En general, este es el enfoque del gráfico cuantil-cuantil (gráfico QQ).</p>
<p>Primero definamos los cuantiles teóricos para la distribución normal. En los libros de estadísticas usamos el símbolo <span class="math inline">\(\Phi(x)\)</span> para definir la función que nos da la probabilidad de que una distribución normal estándar sea menor que <span class="math inline">\(x\)</span>. Así por ejemplo, <span class="math inline">\(\Phi(-1.96) = 0.025\)</span> y <span class="math inline">\(\Phi(1.96) = 0.975\)</span>. En R, podemos evaluar <span class="math inline">\(\Phi\)</span> utilizando la <code>pnorm</code> función:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb313-1" data-line-number="1"><span class="kw">pnorm</span>(<span class="op">-</span><span class="fl">1.96</span>)</a>
<a class="sourceLine" id="cb313-2" data-line-number="2"><span class="co">#&gt; [1] 0.025</span></a></code></pre></div>
<p>La función inversa <span class="math inline">\(\Phi^{-1}(x)\)</span> nos da los <em>cuantiles teóricos</em> para la distribución normal. Así por ejemplo, <span class="math inline">\(\Phi^{-1}(0.975) = 1.96\)</span>. En R, podemos evaluar el inverso de <span class="math inline">\(\Phi\)</span> utilizando la <code>qnorm</code> función.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb314-1" data-line-number="1"><span class="kw">qnorm</span>(<span class="fl">0.975</span>)</a>
<a class="sourceLine" id="cb314-2" data-line-number="2"><span class="co">#&gt; [1] 1.96</span></a></code></pre></div>
<p>Tenga en cuenta que estos cálculos son para la distribución normal estándar por defecto (media = 0, desviación estándar = 1), pero también podemos definirlos para cualquier distribución normal. Podemos hacer esto usando el <code>mean</code> y <code>sd</code> argumentos en el <code>pnorm</code> y <code>qnorm</code> función. Por ejemplo, podemos usar <code>qnorm</code> para determinar cuantiles de una distribución con un promedio específico y desviación estándar</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb315-1" data-line-number="1"><span class="kw">qnorm</span>(<span class="fl">0.975</span>, <span class="dt">mean =</span> <span class="dv">5</span>, <span class="dt">sd =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb315-2" data-line-number="2"><span class="co">#&gt; [1] 8.92</span></a></code></pre></div>
<p>Para la distribución normal, todos los cálculos relacionados con los cuantiles se realizan sin datos, de ahí el nombre de cuantiles teóricos. Pero los cuantiles se pueden definir para cualquier distribución, incluida una empírica. Entonces, si tenemos datos en un vector <span class="math inline">\(x\)</span>, podemos definir el cuantil asociado con cualquier proporción <span class="math inline">\(p\)</span> como el <span class="math inline">\(q\)</span> para el cual la proporción de valores por debajo <span class="math inline">\(q\)</span> es <span class="math inline">\(p\)</span>. Usando el código R, podemos definir <code>q</code> como el valor para el cual <code>mean(x &lt;= q) = p</code>. Tenga en cuenta que no todos <span class="math inline">\(p\)</span> tener un <span class="math inline">\(q\)</span> para lo cual la proporción es exactamente <span class="math inline">\(p\)</span>. Hay varias formas de definir lo mejor <span class="math inline">\(q\)</span> como se discutió en la ayuda para el NA función.</p>
<p>Para dar un ejemplo rápido, para los datos de alturas masculinas, tenemos que:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb316-1" data-line-number="1"><span class="kw">mean</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="fl">69.5</span>)</a>
<a class="sourceLine" id="cb316-2" data-line-number="2"><span class="co">#&gt; [1] 0.515</span></a></code></pre></div>
<p>Entonces, alrededor del 50% son más cortos o iguales a 69 pulgadas. Esto implica que si <span class="math inline">\(p=0.50\)</span> luego <span class="math inline">\(q=69.5\)</span>.</p>
<p>La idea de un gráfico QQ es que si sus datos están bien aproximados por la distribución normal, los cuantiles de sus datos deberían ser similares a los cuantiles de una distribución normal. Para construir un diagrama QQ, hacemos lo siguiente:</p>
<ol style="list-style-type: decimal">
<li>Definir un vector de <span class="math inline">\(m\)</span> dimensiones <span class="math inline">\(p_1, p_2, \dots, p_m\)</span>.</li>
<li>Definir un vector de cuantiles <span class="math inline">\(q_1, \dots, q_m\)</span> para sus datos para las proporciones <span class="math inline">\(p_1, \dots, p_m\)</span>. Nos referimos a estos como los <em>cuantiles de muestra</em>.</li>
<li>Definir un vector de cuantiles teóricos para las proporciones. <span class="math inline">\(p_1, \dots, p_m\)</span> para una distribución normal con el mismo promedio y desviación estándar que los datos.</li>
<li>Graficar los cuantiles de la muestra versus los cuantiles teóricos.</li>
</ol>
<p>Construyamos un diagrama QQ usando el código R. Comience definiendo el vector de proporciones.</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb317-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="fl">0.05</span>, <span class="fl">0.95</span>, <span class="fl">0.05</span>)</a></code></pre></div>
<p>Para obtener los cuantiles de los datos, podemos usar el <code>quantile</code> funciona así:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb318-1" data-line-number="1">sample_quantiles &lt;-<span class="st"> </span><span class="kw">quantile</span>(x, p)</a></code></pre></div>
<p>Para obtener los cuantiles teóricos de distribución normal con el promedio correspondiente y SD, utilizamos el <code>qnorm</code> función:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb319-1" data-line-number="1">theoretical_quantiles &lt;-<span class="st"> </span><span class="kw">qnorm</span>(p, <span class="dt">mean =</span> <span class="kw">mean</span>(x), <span class="dt">sd =</span> <span class="kw">sd</span>(x))</a></code></pre></div>
<p>Para ver si coinciden o no, los trazamos uno contra el otro y dibujamos la línea de identidad:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb320-1" data-line-number="1"><span class="kw">qplot</span>(theoretical_quantiles, sample_quantiles) <span class="op">+</span><span class="st"> </span><span class="kw">geom_abline</span>()</a></code></pre></div>
<p><img src="libro_files/figure-html/qqplot-original-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Tenga en cuenta que este código se vuelve mucho más limpio si usamos unidades estándar:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb321-1" data-line-number="1">sample_quantiles &lt;-<span class="st"> </span><span class="kw">quantile</span>(z, p)</a>
<a class="sourceLine" id="cb321-2" data-line-number="2">theoretical_quantiles &lt;-<span class="st"> </span><span class="kw">qnorm</span>(p)</a>
<a class="sourceLine" id="cb321-3" data-line-number="3"><span class="kw">qplot</span>(theoretical_quantiles, sample_quantiles) <span class="op">+</span><span class="st"> </span><span class="kw">geom_abline</span>()</a></code></pre></div>
<p>El código anterior se incluye para ayudar a describir los gráficos QQ. Sin embargo, en la práctica es más fácil usar el código <strong>ggplot2</strong> descrito en la Sección <a href="distributions.html#other-geometries">8.16</a>:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb322-1" data-line-number="1">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Male&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb322-2" data-line-number="2"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> <span class="kw">scale</span>(height))) <span class="op">+</span></a>
<a class="sourceLine" id="cb322-3" data-line-number="3"><span class="kw">geom_qq</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb322-4" data-line-number="4"><span class="kw">geom_abline</span>()</a></code></pre></div>
<p>Mientras que para la ilustración anterior usamos 20 cuantiles, el valor predeterminado de <code>geom_qq</code> la función es utilizar tantos cuantiles como puntos de datos.</p>
</div>
<div id="percentiles" class="section level2">
<h2><span class="header-section-number">8.11</span> Percentiles</h2>
<p>Antes de continuar, definamos algunos términos que se usan comúnmente en el análisis exploratorio de datos.</p>
<p><em>Percentiles_son casos especiales de_quantiles</em> que se usan comúnmente. Los percentiles son los cuantiles que obtienes al configurar el <span class="math inline">\(p\)</span> a <span class="math inline">\(0.01, 0.02, ..., 0.99\)</span>. Llamamos, por ejemplo, el caso de <span class="math inline">\(p=0.25\)</span> el percentil 25, que nos da un número para el cual el 25% de los datos está debajo. El percentil más famoso es el 50, también conocido como el <em>medio</em>.</p>
<p>Para la distribución normal, <em>median</em> y average son los mismos, pero generalmente este no es el caso.</p>
<p>Otro caso especial que recibe un nombre son los <em>cuartiles</em>, que se obtienen al configurar <span class="math inline">\(p=0.25,0.50\)</span> y <span class="math inline">\(0.75\)</span>.</p>
</div>
<div id="graficos-de-caja" class="section level2">
<h2><span class="header-section-number">8.12</span> Gráficos de caja</h2>
<p>Para presentar los diagramas de caja volveremos a los datos de asesinatos de los EE.
Supongamos que queremos resumir la distribución de la tasa de asesinatos. Usando la técnica de visualización de datos que hemos aprendido, podemos ver rápidamente que la aproximación normal no se aplica aquí:</p>
<p><img src="libro_files/figure-html/hist-qqplot-non-normal-data-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>En este caso, el histograma anterior o un gráfico de densidad uniforme serviría como un resumen relativamente sucinto.</p>
<p>Ahora supongamos que los que están acostumbrados a recibir solo dos números como resúmenes nos solicitan un resumen numérico más compacto.</p>
<p>Aquí Tukey ofreció algunos consejos. Proporcione un resumen de cinco números compuesto por el rango junto con los cuartiles (los percentiles 25, 50 y 75). Tukey sugirió además que ignoremos <em>outliers</em> cuando calcule el rango y, en su lugar, grafiquemos estos como puntos independientes. Proporcionamos una explicación detallada de los valores atípicos más adelante. Finalmente, sugirió que trazáramos estos números como una “caja” con “bigotes” como este:</p>
<p><img src="libro_files/figure-html/first-boxplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>con el cuadro definido por el percentil 25% y 75% y los bigotes que muestran el rango. La distancia entre estos dos se llama rango <em>intercuartil</em>. Los dos puntos son valores atípicos según la definición de Tukey. La mediana se muestra con una línea horizontal. Hoy, los llamamos <em>boxplots</em>.</p>
<p>A partir de este simple diagrama, sabemos que la mediana es de aproximadamente 2.5, que la distribución no es simétrica y que el rango es de 0 a 5 para la gran mayoría de los estados con dos excepciones.</p>
<p>Discutimos cómo hacer diagramas de caja en la Sección <a href="distributions.html#other-geometries">8.16</a>.</p>
</div>
<div id="stratification" class="section level2">
<h2><span class="header-section-number">8.13</span> Estratificación</h2>
<p>En el análisis de datos, a menudo dividimos las observaciones en grupos según los valores de una o más variables asociadas con esas observaciones. Por ejemplo, en la siguiente sección dividimos los valores de altura en grupos según una variable de sexo: mujeres y hombres. Llamamos a este procedimiento <em>estratificación_y nos referimos a los grupos resultantes como_estrata</em>.</p>
<p>La estratificación es común en la visualización de datos porque a menudo estamos interesados en cómo la distribución de variables difiere entre los diferentes subgrupos. Veremos varios ejemplos a lo largo de esta parte del libro. Revisaremos el concepto de estratificación cuando aprendamos regresión en el Capítulo <a href="#regression"><strong>??</strong></a> y en la parte de aprendizaje automático del libro.</p>
</div>
<div id="student-height-cont" class="section level2">
<h2><span class="header-section-number">8.14</span> Estudio de caso: descripción de las alturas de los estudiantes (continuación)</h2>
<p>Usando el histograma, los gráficos de densidad y los gráficos QQ, nos hemos convencido de que los datos de altura masculina se aproximan bien con una distribución normal. En este caso, informamos a ET un resumen muy sucinto: las alturas masculinas siguen una distribución normal con un promedio de 69.3 pulgadas y una SD de 3.6 pulgadas. Con esta información, ET tendrá una buena idea de qué esperar cuando conozca a nuestros estudiantes varones.
Sin embargo, para proporcionar una imagen completa, también debemos proporcionar un resumen de las alturas femeninas.</p>
<p>Aprendimos que los diagramas de caja son útiles cuando queremos comparar rápidamente dos o más distribuciones. Aquí están las alturas para hombres y mujeres:</p>
<p><img src="libro_files/figure-html/female-male-boxplots-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La trama revela de inmediato que los machos son, en promedio, más altos que las hembras. Las desviaciones estándar parecen ser similares. Pero, ¿la aproximación normal también funciona para los datos de estatura femenina recopilados por la encuesta? Esperamos que sigan una distribución normal, al igual que los machos. Sin embargo, los gráficos exploratorios revelan que la aproximación no es tan útil:</p>
<p><img src="libro_files/figure-html/histogram-qqplot-female-heights-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Vemos algo que no vimos para los machos: la gráfica de densidad tiene una segunda “protuberancia”. Además, el gráfico QQ muestra que los puntos más altos tienden a ser más altos de lo esperado por la distribución normal. Finalmente, también vemos cinco puntos en el gráfico QQ que sugieren alturas más cortas de lo esperado para una distribución normal. Al informar de nuevo a ET, es posible que necesitemos proporcionar un histograma en lugar de solo la desviación promedio y estándar para las alturas femeninas.</p>
<p>Sin embargo, regrese y lea la cita de Tukey. Hemos notado lo que no esperábamos ver. Si observamos otras distribuciones de estatura femenina, encontramos que están bien aproximadas con una distribución normal. Entonces, ¿por qué nuestras alumnas son diferentes? ¿Es nuestra clase un requisito para el equipo femenino de baloncesto? ¿Son pequeñas proporciones de mujeres que dicen ser más altas de lo que son? Otra explicación, quizás más probable, es que en la forma en que los estudiantes solían ingresar a sus alturas, <code>FEMALE</code> era el sexo predeterminado y algunos machos ingresaron a sus alturas, pero olvidaron cambiar la variable de sexo. En cualquier caso, la visualización de datos ha ayudado a descubrir una falla potencial en nuestros datos.</p>
<p>Con respecto a los cinco valores más pequeños, tenga en cuenta que estos valores son:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb323-1" data-line-number="1">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb323-2" data-line-number="2"><span class="kw">top_n</span>(<span class="dv">5</span>, <span class="kw">desc</span>(height)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb323-3" data-line-number="3"><span class="kw">pull</span>(height)</a>
<a class="sourceLine" id="cb323-4" data-line-number="4"><span class="co">#&gt; [1] 51 53 55 52 52</span></a></code></pre></div>
<p>Debido a que estas son alturas reportadas, una posibilidad es que el estudiante esté destinado a ingresar <code>5'1&quot;</code>, <code>5'2&quot;</code>, <code>5'3&quot;</code> o <code>5'5&quot;</code>.</p>
</div>
<div id="ejercicios-17" class="section level2">
<h2><span class="header-section-number">8.15</span> Ejercicios</h2>
<p>1. Defina variables que contengan las alturas de hombres y mujeres de esta manera:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb324-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb324-2" data-line-number="2"><span class="kw">data</span>(heights)</a>
<a class="sourceLine" id="cb324-3" data-line-number="3">male &lt;-<span class="st"> </span>heights<span class="op">$</span>height[heights<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;Male&quot;</span>]</a>
<a class="sourceLine" id="cb324-4" data-line-number="4">female &lt;-<span class="st"> </span>heights<span class="op">$</span>height[heights<span class="op">$</span>sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>]</a></code></pre></div>
<p>¿Cuántas medidas tenemos para cada uno?</p>
<p>2. Supongamos que no podemos hacer un diagrama y queremos comparar las distribuciones una al lado de la otra. No podemos simplemente enumerar todos los números. En cambio, veremos los percentiles. Cree una tabla de cinco filas que muestre <code>female_percentiles</code> y <code>male_percentiles</code> con los percentiles 10, 30, 50, …, 90 para cada sexo. Luego cree un marco de datos con estos dos como columnas.</p>
<p>3. Estudie los siguientes diagramas de caja que muestran los tamaños de población por país:</p>
<p><img src="libro_files/figure-html/boxplot-exercise-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>¿Qué continente tiene el país con el mayor tamaño de población?</p>
<p>4. ¿Qué continente tiene el mayor tamaño de población promedio?</p>
<p>5. ¿Cuál es el tamaño medio de la población de África al millón más cercano?</p>
<p>6. ¿Qué proporción de países en Europa tienen poblaciones inferiores a 14 millones?</p>
<ol style="list-style-type: lower-alpha">
<li>0,99
si. 0,75</li>
<li>0,50
re. 0.25</li>
</ol>
<p>7. Si utilizamos una transformación logarítmica, ¿qué continente que se muestra arriba tiene el mayor rango intercuartil?</p>
<p>8. Cargue el conjunto de datos de altura y cree un vector <code>x</code> con solo las alturas masculinas:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb325-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb325-2" data-line-number="2"><span class="kw">data</span>(heights)</a>
<a class="sourceLine" id="cb325-3" data-line-number="3">x &lt;-<span class="st"> </span>heights<span class="op">$</span>height[heights<span class="op">$</span>sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>]</a></code></pre></div>
<p>¿Qué proporción de los datos está entre 69 y 72 pulgadas (más alto que 69, pero más corto o igual a 72)? Sugerencia: use un operador lógico y <code>mean</code>.</p>
<p>9. Supongamos que todo lo que sabe sobre los datos es el promedio y la desviación estándar. Use la aproximación normal para estimar la proporción que acaba de calcular. Sugerencia: comience calculando la desviación promedio y estándar. Luego usa el <code>pnorm</code> función para predecir las proporciones.</p>
<p>10. Observe que la aproximación calculada en la pregunta nueve está muy cerca del cálculo exacto en la primera pregunta. Ahora realice la misma tarea para valores más extremos. Compare el cálculo exacto y la aproximación normal para el intervalo (79,81]. ¿Cuántas veces mayor es la proporción real que la aproximación?</p>
<p>11. La distribución aproximada de hombres adultos en el mundo se distribuye normalmente con un promedio de 69 pulgadas y una desviación estándar de 3 pulgadas. Usando esta aproximación, calcule la proporción de hombres adultos que miden 7 pies de alto o más, conocidos como “siete pies de página”. Sugerencia: use el <code>pnorm</code> función.</p>
<p>12. Hay alrededor de mil millones de hombres entre las edades de 18 y 40 en el mundo. Usa tu respuesta a la pregunta anterior para estimar cuántos de estos hombres (de 18 a 40 años) miden siete pies de altura o más en el mundo.</p>
<p>13. Hay alrededor de 10 jugadores de la Asociación Nacional de Baloncesto (NBA) que miden 7 pies de altura o más. Usando la respuesta a las dos preguntas anteriores, ¿qué proporción de los siete pies de página del mundo de 18 a 40 años están en la NBA?</p>
<p>14. Repita los cálculos realizados en la pregunta anterior para la altura de Lebron James: 6 pies y 8 pulgadas. Hay alrededor de 150 jugadores que son al menos tan altos.</p>
<p>15. Al responder las preguntas anteriores, descubrimos que no es raro que un jugador de siete pies se convierta en jugador de la NBA. Lo que sería una crítica justa de nuestros cálculos:</p>
<ol style="list-style-type: lower-alpha">
<li>La práctica y el talento son los que hacen a un gran jugador de baloncesto, no la altura.
si. La aproximación normal no es apropiada para alturas.</li>
<li>Como se ve en la pregunta 10, la aproximación normal tiende a subestimar los valores extremos. Es posible que haya más siete pies de página de lo que predijimos.
re. Como se ve en la pregunta 10, la aproximación normal tiende a sobreestimar los valores extremos. Es posible que haya menos siete pies de página de lo que predijimos.</li>
</ol>
</div>
<div id="other-geometries" class="section level2">
<h2><span class="header-section-number">8.16</span> geometrías ggplot2</h2>
<p>En el capitulo <a href="ggplot2.html#ggplot2">7</a>, presentamos el paquete <strong>ggplot2</strong> para la visualización de datos. Aquí demostramos cómo generar gráficos relacionados con las distribuciones, específicamente los gráficos que se muestran anteriormente en este capítulo.</p>
<div id="barplots" class="section level3">
<h3><span class="header-section-number">8.16.1</span> Barplots</h3>
<p>Para generar un diagrama de barras podemos usar el <code>geom_bar</code> geometría. El valor predeterminado es contar el número de cada categoría y dibujar una barra. Aquí está la trama para las regiones de los Estados Unidos.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb326-1" data-line-number="1">murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(region)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</a></code></pre></div>
<p><img src="libro_files/figure-html/barplot-geom-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>A menudo ya tenemos una tabla con una distribución que queremos presentar como diagrama de barras. Aquí hay un ejemplo de tal tabla:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb327-1" data-line-number="1"><span class="kw">data</span>(murders)</a>
<a class="sourceLine" id="cb327-2" data-line-number="2">tab &lt;-<span class="st"> </span>murders <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb327-3" data-line-number="3"><span class="kw">count</span>(region) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb327-4" data-line-number="4"><span class="kw">mutate</span>(<span class="dt">proportion =</span> n<span class="op">/</span><span class="kw">sum</span>(n))</a>
<a class="sourceLine" id="cb327-5" data-line-number="5">tab</a>
<a class="sourceLine" id="cb327-6" data-line-number="6"><span class="co">#&gt; # A tibble: 4 x 3</span></a>
<a class="sourceLine" id="cb327-7" data-line-number="7"><span class="co">#&gt;   region            n proportion</span></a>
<a class="sourceLine" id="cb327-8" data-line-number="8"><span class="co">#&gt;   &lt;fct&gt;         &lt;int&gt;      &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb327-9" data-line-number="9"><span class="co">#&gt; 1 Northeast         9      0.176</span></a>
<a class="sourceLine" id="cb327-10" data-line-number="10"><span class="co">#&gt; 2 South            17      0.333</span></a>
<a class="sourceLine" id="cb327-11" data-line-number="11"><span class="co">#&gt; 3 North Central    12      0.235</span></a>
<a class="sourceLine" id="cb327-12" data-line-number="12"><span class="co">#&gt; 4 West             13      0.255</span></a></code></pre></div>
<p>Ya no queremos <code>geom_bar</code> para contar, sino simplemente trazar una barra a la altura proporcionada por el <code>proportion</code> variable. Para esto necesitamos proporcionar <code>x</code> (las categorías) y <code>y</code> (los valores) y use el <code>stat=&quot;identity&quot;</code> opción.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb328-1" data-line-number="1">tab <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(region, proportion)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>)</a></code></pre></div>
<p><img src="libro_files/figure-html/region-freq-barplot-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="histogramas-1" class="section level3">
<h3><span class="header-section-number">8.16.2</span> Histogramas</h3>
<p>Para generar histogramas utilizamos <code>geom_histogram</code>. Al mirar el archivo de ayuda para esta función, aprendemos que el único argumento requerido es <code>x</code>, la variable para la cual construiremos un histograma. Dejamos caer el <code>x</code> porque sabemos que es el primer argumento.
El código se ve así:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb329-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb329-2" data-line-number="2"><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb329-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb329-4" data-line-number="4"><span class="kw">geom_histogram</span>()</a></code></pre></div>
<p>Si ejecutamos el código anterior, nos da un mensaje:</p>
<blockquote>
<p><code>stat_bin()</code> utilizando <code>bins = 30</code>. Elija un mejor valor con
<code>binwidth</code>.</p>
</blockquote>
<p>Anteriormente utilizamos un tamaño de contenedor de 1 pulgada, por lo que el código se ve así:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb330-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb330-2" data-line-number="2"><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb330-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb330-4" data-line-number="4"><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">1</span>)</a></code></pre></div>
<p>Finalmente, si por razones estéticas queremos agregar color, usamos los argumentos descritos en el archivo de ayuda. También agregamos etiquetas y un título:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb331-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb331-2" data-line-number="2"><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb331-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb331-4" data-line-number="4"><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">1</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb331-5" data-line-number="5"><span class="kw">xlab</span>(<span class="st">&quot;Male heights in inches&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb331-6" data-line-number="6"><span class="kw">ggtitle</span>(<span class="st">&quot;Histogram&quot;</span>)</a></code></pre></div>
<p><img src="libro_files/figure-html/height-histogram-geom-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="graficos-de-densidad" class="section level3">
<h3><span class="header-section-number">8.16.3</span> Gráficos de densidad</h3>
<p>Para crear una densidad suave, usamos el <code>geom_density</code>. Para hacer un diagrama de densidad uniforme con los datos mostrados previamente como un histograma, podemos usar este código:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb332-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb332-2" data-line-number="2"><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb332-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb332-4" data-line-number="4"><span class="kw">geom_density</span>()</a></code></pre></div>
<p>Para rellenar con color, podemos usar el <code>fill</code> argumento.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb333-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb333-2" data-line-number="2"><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb333-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb333-4" data-line-number="4"><span class="kw">geom_density</span>(<span class="dt">fill=</span><span class="st">&quot;blue&quot;</span>)</a></code></pre></div>
<p><img src="libro_files/figure-html/ggplot-density-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Para cambiar la suavidad de la densidad, utilizamos el <code>adjust</code> argumento para multiplicar el valor predeterminado por ese <code>adjust</code>. Por ejemplo, si queremos que el ancho de banda sea el doble de grande, usamos:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb334-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb334-2" data-line-number="2"><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb334-3" data-line-number="3"><span class="kw">geom_density</span>(<span class="dt">fill=</span><span class="st">&quot;blue&quot;</span>, <span class="dt">adjust =</span> <span class="dv">2</span>)</a></code></pre></div>
</div>
<div id="boxplots" class="section level3">
<h3><span class="header-section-number">8.16.4</span> Boxplots</h3>
<p>La geometría para boxplot es <code>geom_boxplot</code>. Como se discutió, los diagramas de caja son útiles para comparar distribuciones. Por ejemplo, a continuación se muestran las alturas mostradas anteriormente para las mujeres, pero en comparación con los hombres. Para esta geometría, necesitamos argumentos <code>x</code> como las categorías, y <code>y</code> como los valores</p>
<p><img src="libro_files/figure-html/female-male-boxplots-geom-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="qq-plot" class="section level3">
<h3><span class="header-section-number">8.16.5</span> QQ-plot</h3>
<p>Para qq-plot usamos el <code>geom_qq</code> geometría. Del archivo de ayuda, aprendemos que necesitamos especificar el <code>sample</code> (aprenderemos sobre muestras en un capítulo posterior). Aquí está el qqplot para hombres de altura.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb335-1" data-line-number="1">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb335-2" data-line-number="2"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb335-3" data-line-number="3"><span class="kw">geom_qq</span>()</a></code></pre></div>
<p><img src="libro_files/figure-html/ggplot-qq-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Por defecto, la variable de muestra se compara con una distribución normal con un promedio de 0 y una desviación estándar 1. Para cambiar esto, utilizamos el <code>dparams</code> argumentos basados en el archivo de ayuda. Agregar una línea de identidad es tan simple como asignar otra capa. Para líneas rectas, usamos el <code>geom_abline</code> función. La línea predeterminada es la línea de identidad (pendiente = 1, intercepción = 0).</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb336-1" data-line-number="1">params &lt;-<span class="st"> </span>heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb336-2" data-line-number="2"><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(height), <span class="dt">sd =</span> <span class="kw">sd</span>(height))</a>
<a class="sourceLine" id="cb336-3" data-line-number="3"></a>
<a class="sourceLine" id="cb336-4" data-line-number="4">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb336-5" data-line-number="5"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> height)) <span class="op">+</span></a>
<a class="sourceLine" id="cb336-6" data-line-number="6"><span class="kw">geom_qq</span>(<span class="dt">dparams =</span> params) <span class="op">+</span></a>
<a class="sourceLine" id="cb336-7" data-line-number="7"><span class="kw">geom_abline</span>()</a></code></pre></div>
<p>Otra opción aquí es escalar los datos primero y luego hacer un qqplot contra el estándar normal.</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb337-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb337-2" data-line-number="2"><span class="kw">filter</span>(sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb337-3" data-line-number="3"><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> <span class="kw">scale</span>(height))) <span class="op">+</span></a>
<a class="sourceLine" id="cb337-4" data-line-number="4"><span class="kw">geom_qq</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb337-5" data-line-number="5"><span class="kw">geom_abline</span>()</a></code></pre></div>
</div>
<div id="imagenes" class="section level3">
<h3><span class="header-section-number">8.16.6</span> Imágenes</h3>
<p>No se necesitaban imágenes para los conceptos descritos en este capítulo, pero usaremos imágenes en la Sección <a href="principios-de-visualizacion-de-datos.html#vaccines">10.14</a>, así que presentamos las dos geometrías utilizadas para crear imágenes: __geom_tile__y<strong>geom_raster</strong>. Se comportan de manera similar; Para ver cómo difieren, consulte el archivo de ayuda. Para crear una imagen en <strong>ggplot2</strong> necesitamos un marco de datos con las coordenadas xey, así como los valores asociados con cada uno de estos. Aquí hay un marco de datos.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb338-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">y =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb338-2" data-line-number="2"><span class="kw">mutate</span>(<span class="dt">z =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">120</span>)</a></code></pre></div>
<p>Tenga en cuenta que esta es la versión ordenada de una matriz, <code>matrix(1:120, 12, 10)</code>. Para trazar la imagen usamos el siguiente código:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb339-1" data-line-number="1">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(x, y, <span class="dt">fill =</span> z)) <span class="op">+</span></a>
<a class="sourceLine" id="cb339-2" data-line-number="2"><span class="kw">geom_raster</span>()</a></code></pre></div>
<p>Con estas imágenes, a menudo querrá cambiar la escala de color. Esto se puede hacer a través de <code>scale_fill_gradientn</code> capa.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb340-1" data-line-number="1">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(x, y, <span class="dt">fill =</span> z)) <span class="op">+</span></a>
<a class="sourceLine" id="cb340-2" data-line-number="2"><span class="kw">geom_raster</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb340-3" data-line-number="3"><span class="kw">scale_fill_gradientn</span>(<span class="dt">colors =</span> <span class="kw">terrain.colors</span>(<span class="dv">10</span>))</a></code></pre></div>
<p><img src="libro_files/figure-html/ggplot2-image-new-colors-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="trazados-rapidos" class="section level3">
<h3><span class="header-section-number">8.16.7</span> Trazados rápidos</h3>
<p>En la sección <a href="ggplot2.html#qplot">7.13</a> presentamos <code>qplot</code> como una función útil cuando necesitamos hacer un diagrama de dispersión rápido. También podemos usar <code>qplot</code> para hacer histogramas, diagramas de densidad, diagrama de caja, diagramas qq y más. Aunque no proporciona el nivel de control de <code>ggplot</code>, <code>qplot</code> es definitivamente útil, ya que nos permite hacer un diagrama con un pequeño fragmento de código.</p>
<p>Supongamos que tenemos las alturas femeninas en un objeto <code>x</code>:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb341-1" data-line-number="1">x &lt;-<span class="st"> </span>heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb341-2" data-line-number="2"><span class="kw">filter</span>(sex<span class="op">==</span><span class="st">&quot;Male&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb341-3" data-line-number="3"><span class="kw">pull</span>(height)</a></code></pre></div>
<p>Para hacer un histograma rápido podemos usar:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb342-1" data-line-number="1"><span class="kw">qplot</span>(x)</a></code></pre></div>
<p>La función adivina que queremos hacer un histograma porque solo proporcionamos una variable. En la sección <a href="ggplot2.html#qplot">7.13</a> vimos que si suministramos <code>qplot</code> dos variables, crea automáticamente un diagrama de dispersión.</p>
<p>Para hacer un qqplot rápido tienes que usar el <code>sample</code> argumento. Tenga en cuenta que podemos agregar capas tal como lo hacemos con <code>ggplot</code>.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb343-1" data-line-number="1"><span class="kw">qplot</span>(<span class="dt">sample =</span> <span class="kw">scale</span>(x)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_abline</span>()</a></code></pre></div>
<p>Si suministramos un factor y un vector numérico, obtenemos una gráfica como la siguiente. Tenga en cuenta que en el siguiente código estamos utilizando el <code>data</code> argumento. Porque el marco de datos no es el primer argumento en <code>qplot</code>, tenemos que usar el operador de punto.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb344-1" data-line-number="1">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">qplot</span>(sex, height, <span class="dt">data =</span> .)</a></code></pre></div>
<p>También podemos seleccionar una geometría específica mediante el uso de <code>geom</code> argumento. Entonces, para convertir el diagrama anterior en un diagrama de caja, usamos el siguiente código:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb345-1" data-line-number="1">heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">qplot</span>(sex, height, <span class="dt">data =</span> ., <span class="dt">geom =</span> <span class="st">&quot;boxplot&quot;</span>)</a></code></pre></div>
<p>También podemos usar el <code>geom</code> argumento para generar una gráfica de densidad en lugar de un histograma:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb346-1" data-line-number="1"><span class="kw">qplot</span>(x, <span class="dt">geom =</span> <span class="st">&quot;density&quot;</span>)</a></code></pre></div>
<p>Aunque no tanto como con <code>ggplot</code>, tenemos cierta flexibilidad para mejorar los resultados de <code>qplot</code>. Mirando el archivo de ayuda, vemos varias formas en que podemos mejorar el aspecto del histograma anterior. Aquí hay un ejemplo:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb347-1" data-line-number="1"><span class="kw">qplot</span>(x, <span class="dt">bins=</span><span class="dv">15</span>, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>), <span class="dt">xlab =</span> <span class="st">&quot;Population&quot;</span>)</a></code></pre></div>
<p><img src="libro_files/figure-html/qplot-example-6-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>Nota técnica</strong>: La razón por la que usamos <code>I(&quot;black&quot;)</code> es porque queremos <code>qplot</code> para tratar <code>&quot;black&quot;</code> como un carácter en lugar de convertirlo en un factor, que es el comportamiento predeterminado dentro de <code>aes</code>, que se llama internamente aquí. En general, la función <code>I</code> se usa en R para decir “mantenerlo como está”.</p>
</div>
</div>
<div id="ejercicios-18" class="section level2">
<h2><span class="header-section-number">8.17</span> Ejercicios</h2>
<p>1. Ahora vamos a usar el <code>geom_histogram</code> función para hacer un histograma de las alturas en el <code>height</code> marco de datos. Al leer la documentación para esta función, vemos que requiere solo una asignación, los valores que se utilizarán para el histograma. Haz un histograma de todas las parcelas.</p>
<p>¿Cuál es la variable que contiene las alturas?</p>
<ol style="list-style-type: lower-alpha">
<li><code>sex</code>
si. <code>heights</code></li>
<li><code>height</code>
re. <code>heights$height</code></li>
</ol>
<p>2. Ahora cree un objeto ggplot usando la tubería para asignar los datos de altura a un objeto ggplot. Asignar <code>height</code> a los valores de x a través de la <code>aes</code> función.</p>
<p>3. Ahora estamos listos para agregar una capa para hacer realmente el histograma. Utilice el objeto creado en el ejercicio anterior y el <code>geom_histogram</code> función para hacer el histograma.</p>
<p>4. Tenga en cuenta que cuando ejecutamos el código en el ejercicio anterior recibimos la advertencia:
<code>stat_bin()</code> utilizando <code>bins = 30</code>. Elija un mejor valor con <code>binwidth</code>.`</p>
<p>Utilizar el <code>binwidth</code> argumento para cambiar el histograma realizado en el ejercicio anterior para usar contenedores de tamaño 1 pulgada.</p>
<p>5. En lugar de un histograma, vamos a hacer un diagrama de densidad uniforme. En este caso, no haremos un objeto, sino que representaremos el gráfico con una línea de código. Cambie la geometría en el código utilizado anteriormente para hacer una densidad uniforme en lugar de un histograma.</p>
<p>6. Ahora vamos a hacer un diagrama de densidad para hombres y mujeres por separado. Podemos hacer esto usando el <code>group</code> argumento. Asignamos grupos a través del mapeo estético, ya que cada punto necesita un grupo antes de hacer los cálculos necesarios para estimar una densidad.</p>
<p>7. También podemos asignar grupos a través de <code>color</code> argumento. Esto tiene el beneficio adicional de que utiliza el color para distinguir los grupos. Cambie el código anterior para usar color.</p>
<p>8. También podemos asignar grupos a través de <code>fill</code> argumento. Esto tiene el beneficio adicional de que usa colores para distinguir los grupos, de esta manera:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb348-1" data-line-number="1">heights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb348-2" data-line-number="2"><span class="kw">ggplot</span>(<span class="kw">aes</span>(height, <span class="dt">fill =</span> sex)) <span class="op">+</span></a>
<a class="sourceLine" id="cb348-3" data-line-number="3"><span class="kw">geom_density</span>()</a></code></pre></div>
<p>Sin embargo, aquí la segunda densidad se dibuja sobre la otra. Podemos hacer que las curvas sean más visibles mediante el uso de la combinación alfa para agregar transparencia. Establezca el parámetro alfa a 0.2 en el <code>geom_density</code> función para hacer este cambio.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ggplot2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="gapminder.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslibro/edit/master/dataviz/distributions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
