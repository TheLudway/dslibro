<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 18 Modelos lineales | Introducción a la ciencia de datos</title>
  <meta name="description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 18 Modelos lineales | Introducción a la ciencia de datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 18 Modelos lineales | Introducción a la ciencia de datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2021-07-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="regression.html"/>
<link rel="next" href="la-correlación-no-implica-causalidad.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a la Ciencia de Datos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i>Introducción</a>
<ul>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#los-casos-de-estudio"><i class="fa fa-check"></i>Los casos de estudio</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#quién-encontrará-útil-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#que-cubre-este-libro"><i class="fa fa-check"></i>¿Que cubre este libro?</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#qué-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-qué-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>Scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#paneles"><i class="fa fa-check"></i><b>1.4.1</b> Paneles</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#atajos-de-teclado"><i class="fa fa-check"></i><b>1.4.2</b> Atajos de teclado</a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#cómo-ejecutar-comandos-mientras-editan-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Cómo ejecutar comandos mientras editan <em>scripts</em></a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#cómo-cambiar-las-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cómo cambiar las opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalación-de-paquetes-de-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes de R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> Lo básico de R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#caso-de-estudio-los-asesinatos-con-armas-en-ee.-uu."><i class="fa fa-check"></i><b>2.1</b> Caso de estudio: los asesinatos con armas en EE. UU.</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#lo-básico"><i class="fa fa-check"></i><b>2.2</b> Lo básico</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funciones"><i class="fa fa-check"></i><b>2.2.3</b> Funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-predefinidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos predefinidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#cómo-guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Cómo guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivantes"><i class="fa fa-check"></i><b>2.2.7</b> <em>Scripts</em> motivantes</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#cómo-comentar-su-código"><i class="fa fa-check"></i><b>2.2.8</b> Cómo comentar su código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> <em>Data frames</em></a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#cómo-examinar-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Cómo examinar un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-operador-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El operador de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numéricos-de-caracteres-y-lógicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, de caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectors"><i class="fa fa-check"></i><b>2.6</b> Vectores</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#cómo-crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Cómo crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#cómo-crear-un-subconjunto"><i class="fa fa-check"></i><b>2.6.4</b> Cómo crear un subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#la-conversión-forzada"><i class="fa fa-check"></i><b>2.7</b> La conversión forzada</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#not-available-na"><i class="fa fa-check"></i><b>2.7.1</b> <em>Not available</em> (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#sorting"><i class="fa fa-check"></i><b>2.9</b> <em>Sorting</em></a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.10</b> Ejercicios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmética-de-vectores"><i class="fa fa-check"></i><b>2.11</b> Aritmética de vectores</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#rescaling-un-vector"><i class="fa fa-check"></i><b>2.11.1</b> <em>Rescaling</em> un vector</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.11.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.12</b> Ejercicios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#indexación"><i class="fa fa-check"></i><b>2.13</b> Indexación</a>
<ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#cómo-crear-subconjuntos-con-lógicos"><i class="fa fa-check"></i><b>2.13.1</b> Cómo crear subconjuntos con lógicos</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#operadores-lógicos"><i class="fa fa-check"></i><b>2.13.2</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#gráficos-básicos"><i class="fa fa-check"></i><b>2.15</b> Gráficos básicos</a>
<ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.16</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a>
<ul>
<li class="chapter" data-level="3.1" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#cómo-definir-funciones"><i class="fa fa-check"></i><b>3.2</b> Cómo definir funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#bucles-for"><i class="fa fa-check"></i><b>3.4</b> Bucles-for</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorización y funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Datos <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#cómo-manipular-los-data-frames"><i class="fa fa-check"></i><b>4.3</b> Cómo manipular los <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#cómo-añadir-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Cómo añadir una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#cómo-crear-subconjuntos-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Cómo crear subconjuntos con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#cómo-seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Cómo seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-pipe"><i class="fa fa-check"></i><b>4.5</b> El <em>pipe</em>: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#cómo-resumir-datos"><i class="fa fa-check"></i><b>4.7</b> Cómo resumir datos</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#resúmenes-múltiples"><i class="fa fa-check"></i><b>4.7.2</b> Resúmenes múltiples</a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Cómo agrupar y luego resumir con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.8</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#cómo-ordenar-los-data-frames"><i class="fa fa-check"></i><b>4.9</b> Cómo ordenar los <em>data frames</em></a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="tidyverse.html"><a href="tidyverse.html#cómo-ordenar-anidadamente"><i class="fa fa-check"></i><b>4.9.1</b> Cómo ordenar anidadamente</a></li>
<li class="chapter" data-level="4.9.2" data-path="tidyverse.html"><a href="tidyverse.html#los-primeros-n"><i class="fa fa-check"></i><b>4.9.2</b> Los primeros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.10</b> Ejercicios</a></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.11</b> <em>Tibbles</em></a>
<ul>
<li class="chapter" data-level="4.11.1" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-ven-mejor"><i class="fa fa-check"></i><b>4.11.1</b> Los <em>tibbles</em> se ven mejor</a></li>
<li class="chapter" data-level="4.11.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.11.2</b> Los subconjuntos de <em>tibbles</em> son <em>tibbles</em></a></li>
<li class="chapter" data-level="4.11.3" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-pueden-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.11.3</b> Los <em>tibbles</em> pueden tener entradas complejas</a></li>
<li class="chapter" data-level="4.11.4" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.11.4</b> Los <em>tibbles</em> se pueden agrupar</a></li>
<li class="chapter" data-level="4.11.5" data-path="tidyverse.html"><a href="tidyverse.html#cómo-crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.11.5</b> Cómo crear un <em>tibble</em> usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.12</b> El operador punto</a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#los-condicionales-de-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Los condicionales de <em>tidyverse</em></a>
<ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a>
<ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#las-rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Las rutas y el directorio de trabajo</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#las-rutas-relativas-y-completas"><i class="fa fa-check"></i><b>5.1.2</b> Las rutas relativas y completas</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#cómo-generar-los-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Cómo generar los nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#cómo-copiar-los-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Cómo copiar los archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#cómo-descargar-archivos"><i class="fa fa-check"></i><b>5.4</b> Cómo descargar archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#las-funciones-de-importación-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Las funciones de importación de base R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#archivos-de-texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Archivos de texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#cómo-organizar-datos-con-hojas-de-cálculo"><i class="fa fa-check"></i><b>5.8</b> Cómo organizar datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="part"><span><b>II Visualización de datos</b></span></li>
<li class="chapter" data-level="6" data-path="introducción-a-la-visualización-de-datos.html"><a href="introducción-a-la-visualización-de-datos.html"><i class="fa fa-check"></i><b>6</b> Introducción a la visualización de datos</a></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ggplot2.html"><a href="ggplot2.html#los-componentes-de-un-gráfico"><i class="fa fa-check"></i><b>7.1</b> Los componentes de un gráfico</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot2.html"><a href="ggplot2.html#objetos-ggplot"><i class="fa fa-check"></i><b>7.2</b> Objetos <code>ggplot</code></a></li>
<li class="chapter" data-level="7.3" data-path="ggplot2.html"><a href="ggplot2.html#geometrías"><i class="fa fa-check"></i><b>7.3</b> Geometrías</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot2.html"><a href="ggplot2.html#mapeos-estéticos"><i class="fa fa-check"></i><b>7.4</b> Mapeos estéticos</a></li>
<li class="chapter" data-level="7.5" data-path="ggplot2.html"><a href="ggplot2.html#capas"><i class="fa fa-check"></i><b>7.5</b> Capas</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot2.html"><a href="ggplot2.html#cómo-probar-varios-argumentos"><i class="fa fa-check"></i><b>7.5.1</b> Cómo probar varios argumentos</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot2.html"><a href="ggplot2.html#mapeos-estéticos-globales-versus-locales"><i class="fa fa-check"></i><b>7.6</b> Mapeos estéticos globales versus locales</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot2.html"><a href="ggplot2.html#escalas"><i class="fa fa-check"></i><b>7.7</b> Escalas</a></li>
<li class="chapter" data-level="7.8" data-path="ggplot2.html"><a href="ggplot2.html#etiquetas-y-títulos"><i class="fa fa-check"></i><b>7.8</b> Etiquetas y títulos</a></li>
<li class="chapter" data-level="7.9" data-path="ggplot2.html"><a href="ggplot2.html#categorías-como-colores"><i class="fa fa-check"></i><b>7.9</b> Categorías como colores</a></li>
<li class="chapter" data-level="7.10" data-path="ggplot2.html"><a href="ggplot2.html#anotación-formas-y-ajustes"><i class="fa fa-check"></i><b>7.10</b> Anotación, formas y ajustes</a></li>
<li class="chapter" data-level="7.11" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.11</b> Paquetes complementarios</a></li>
<li class="chapter" data-level="7.12" data-path="ggplot2.html"><a href="ggplot2.html#cómo-combinarlo-todo"><i class="fa fa-check"></i><b>7.12</b> Cómo combinarlo todo</a></li>
<li class="chapter" data-level="7.13" data-path="ggplot2.html"><a href="ggplot2.html#qplot"><i class="fa fa-check"></i><b>7.13</b> Gráficos rápidos con <code>qplot</code></a></li>
<li class="chapter" data-level="7.14" data-path="ggplot2.html"><a href="ggplot2.html#cuadrículas-de-gráficos"><i class="fa fa-check"></i><b>7.14</b> Cuadrículas de gráficos</a></li>
<li class="chapter" data-level="7.15" data-path="ggplot2.html"><a href="ggplot2.html#ejercicios-15"><i class="fa fa-check"></i><b>7.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>8</b> Cómo visualizar distribuciones de datos</a>
<ul>
<li class="chapter" data-level="8.1" data-path="distributions.html"><a href="distributions.html#tipos-de-variables"><i class="fa fa-check"></i><b>8.1</b> Tipos de variables</a></li>
<li class="chapter" data-level="8.2" data-path="distributions.html"><a href="distributions.html#estudio-de-caso-describiendo-alturas-de-estudiantes"><i class="fa fa-check"></i><b>8.2</b> Estudio de caso: describiendo alturas de estudiantes</a></li>
<li class="chapter" data-level="8.3" data-path="distributions.html"><a href="distributions.html#la-función-de-distribución"><i class="fa fa-check"></i><b>8.3</b> La función de distribución</a></li>
<li class="chapter" data-level="8.4" data-path="distributions.html"><a href="distributions.html#cdf-intro"><i class="fa fa-check"></i><b>8.4</b> Funciones de distribución acumulada</a></li>
<li class="chapter" data-level="8.5" data-path="distributions.html"><a href="distributions.html#histogramas"><i class="fa fa-check"></i><b>8.5</b> Histogramas</a></li>
<li class="chapter" data-level="8.6" data-path="distributions.html"><a href="distributions.html#densidad-suave"><i class="fa fa-check"></i><b>8.6</b> Densidad suave</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="distributions.html"><a href="distributions.html#cómo-interpretar-el-eje-y"><i class="fa fa-check"></i><b>8.6.1</b> Cómo interpretar el eje-y</a></li>
<li class="chapter" data-level="8.6.2" data-path="distributions.html"><a href="distributions.html#densidades-permiten-estratificación"><i class="fa fa-check"></i><b>8.6.2</b> Densidades permiten estratificación</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="distributions.html"><a href="distributions.html#ejercicios-16"><i class="fa fa-check"></i><b>8.7</b> Ejercicios</a></li>
<li class="chapter" data-level="8.8" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>8.8</b> La distribución normal</a></li>
<li class="chapter" data-level="8.9" data-path="distributions.html"><a href="distributions.html#unidades-estándar"><i class="fa fa-check"></i><b>8.9</b> Unidades estándar</a></li>
<li class="chapter" data-level="8.10" data-path="distributions.html"><a href="distributions.html#gráficos-q-q"><i class="fa fa-check"></i><b>8.10</b> Gráficos Q-Q</a></li>
<li class="chapter" data-level="8.11" data-path="distributions.html"><a href="distributions.html#percentiles"><i class="fa fa-check"></i><b>8.11</b> Percentiles</a></li>
<li class="chapter" data-level="8.12" data-path="distributions.html"><a href="distributions.html#diagramas-de-caja"><i class="fa fa-check"></i><b>8.12</b> Diagramas de caja</a></li>
<li class="chapter" data-level="8.13" data-path="distributions.html"><a href="distributions.html#stratification"><i class="fa fa-check"></i><b>8.13</b> Estratificación</a></li>
<li class="chapter" data-level="8.14" data-path="distributions.html"><a href="distributions.html#student-height-cont"><i class="fa fa-check"></i><b>8.14</b> Estudio de caso: describiendo alturas de estudiantes (continuación)</a></li>
<li class="chapter" data-level="8.15" data-path="distributions.html"><a href="distributions.html#ejercicios-17"><i class="fa fa-check"></i><b>8.15</b> Ejercicios</a></li>
<li class="chapter" data-level="8.16" data-path="distributions.html"><a href="distributions.html#other-geometries"><i class="fa fa-check"></i><b>8.16</b> Geometrías ggplot2</a>
<ul>
<li class="chapter" data-level="8.16.1" data-path="distributions.html"><a href="distributions.html#diagramas-de-barras"><i class="fa fa-check"></i><b>8.16.1</b> Diagramas de barras</a></li>
<li class="chapter" data-level="8.16.2" data-path="distributions.html"><a href="distributions.html#histogramas-1"><i class="fa fa-check"></i><b>8.16.2</b> Histogramas</a></li>
<li class="chapter" data-level="8.16.3" data-path="distributions.html"><a href="distributions.html#gráficos-de-densidad"><i class="fa fa-check"></i><b>8.16.3</b> Gráficos de densidad</a></li>
<li class="chapter" data-level="8.16.4" data-path="distributions.html"><a href="distributions.html#diagramas-de-caja-1"><i class="fa fa-check"></i><b>8.16.4</b> Diagramas de caja</a></li>
<li class="chapter" data-level="8.16.5" data-path="distributions.html"><a href="distributions.html#gráficos-q-q-1"><i class="fa fa-check"></i><b>8.16.5</b> Gráficos Q-Q</a></li>
<li class="chapter" data-level="8.16.6" data-path="distributions.html"><a href="distributions.html#imágenes"><i class="fa fa-check"></i><b>8.16.6</b> Imágenes</a></li>
<li class="chapter" data-level="8.16.7" data-path="distributions.html"><a href="distributions.html#gráficos-rápidos"><i class="fa fa-check"></i><b>8.16.7</b> Gráficos rápidos</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="distributions.html"><a href="distributions.html#ejercicios-18"><i class="fa fa-check"></i><b>8.17</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>9</b> Visualización de datos en la práctica</a>
<ul>
<li class="chapter" data-level="9.1" data-path="gapminder.html"><a href="gapminder.html#estudio-de-caso-nuevas-ideas-sobre-la-pobreza"><i class="fa fa-check"></i><b>9.1</b> Estudio de caso: nuevas ideas sobre la pobreza</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="gapminder.html"><a href="gapminder.html#la-prueba-de-hans-rosling"><i class="fa fa-check"></i><b>9.1.1</b> La prueba de Hans Rosling</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="gapminder.html"><a href="gapminder.html#diagramas-de-dispersión"><i class="fa fa-check"></i><b>9.2</b> Diagramas de dispersión</a></li>
<li class="chapter" data-level="9.3" data-path="gapminder.html"><a href="gapminder.html#separar-en-facetas"><i class="fa fa-check"></i><b>9.3</b> Separar en facetas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="gapminder.html"><a href="gapminder.html#facet_wrap"><i class="fa fa-check"></i><b>9.3.1</b> <code>facet_wrap</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="gapminder.html"><a href="gapminder.html#escalas-fijas-para-mejores-comparaciones"><i class="fa fa-check"></i><b>9.3.2</b> Escalas fijas para mejores comparaciones</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="gapminder.html"><a href="gapminder.html#gráficos-de-series-de-tiempo"><i class="fa fa-check"></i><b>9.4</b> Gráficos de series de tiempo</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="gapminder.html"><a href="gapminder.html#etiquetas-en-lugar-de-leyendas"><i class="fa fa-check"></i><b>9.4.1</b> Etiquetas en lugar de leyendas</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="gapminder.html"><a href="gapminder.html#transformaciones-de-datos"><i class="fa fa-check"></i><b>9.5</b> Transformaciones de datos</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="gapminder.html"><a href="gapminder.html#transformación-logarítmica"><i class="fa fa-check"></i><b>9.5.1</b> Transformación logarítmica</a></li>
<li class="chapter" data-level="9.5.2" data-path="gapminder.html"><a href="gapminder.html#qué-base"><i class="fa fa-check"></i><b>9.5.2</b> ¿Qué base?</a></li>
<li class="chapter" data-level="9.5.3" data-path="gapminder.html"><a href="gapminder.html#transformar-los-valores-o-la-escala"><i class="fa fa-check"></i><b>9.5.3</b> ¿Transformar los valores o la escala?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="gapminder.html"><a href="gapminder.html#cómo-visualizar-distribuciones-multimodales"><i class="fa fa-check"></i><b>9.6</b> Cómo visualizar distribuciones multimodales</a></li>
<li class="chapter" data-level="9.7" data-path="gapminder.html"><a href="gapminder.html#cómo-comparar-múltiples-distribuciones-con-diagramas-de-caja-y-gráficos-ridge"><i class="fa fa-check"></i><b>9.7</b> Cómo comparar múltiples distribuciones con diagramas de caja y gráficos <em>ridge</em></a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="gapminder.html"><a href="gapminder.html#diagramas-de-caja-2"><i class="fa fa-check"></i><b>9.7.1</b> Diagramas de caja</a></li>
<li class="chapter" data-level="9.7.2" data-path="gapminder.html"><a href="gapminder.html#gráficos-ridge"><i class="fa fa-check"></i><b>9.7.2</b> Gráficos <em>ridge</em></a></li>
<li class="chapter" data-level="9.7.3" data-path="gapminder.html"><a href="gapminder.html#ejemplo-distribuciones-de-ingresos-de-1970-versus-2010"><i class="fa fa-check"></i><b>9.7.3</b> Ejemplo: distribuciones de ingresos de 1970 versus 2010</a></li>
<li class="chapter" data-level="9.7.4" data-path="gapminder.html"><a href="gapminder.html#cómo-obtener-acceso-a-variables-calculadas"><i class="fa fa-check"></i><b>9.7.4</b> Cómo obtener acceso a variables calculadas</a></li>
<li class="chapter" data-level="9.7.5" data-path="gapminder.html"><a href="gapminder.html#densidades-ponderadas"><i class="fa fa-check"></i><b>9.7.5</b> Densidades ponderadas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="gapminder.html"><a href="gapminder.html#la-falacia-ecológica-y-la-importancia-de-mostrar-los-datos"><i class="fa fa-check"></i><b>9.8</b> La falacia ecológica y la importancia de mostrar los datos</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="gapminder.html"><a href="gapminder.html#logit"><i class="fa fa-check"></i><b>9.8.1</b> Transformación logística</a></li>
<li class="chapter" data-level="9.8.2" data-path="gapminder.html"><a href="gapminder.html#mostrar-los-datos"><i class="fa fa-check"></i><b>9.8.2</b> Mostrar los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html"><i class="fa fa-check"></i><b>10</b> Principios de visualización de datos</a>
<ul>
<li class="chapter" data-level="10.1" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cómo-codificar-datos-utilizando-señales-visuales"><i class="fa fa-check"></i><b>10.1</b> Cómo codificar datos utilizando señales visuales</a></li>
<li class="chapter" data-level="10.2" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cuándo-incluir-0"><i class="fa fa-check"></i><b>10.2</b> Cuándo incluir 0</a></li>
<li class="chapter" data-level="10.3" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#no-distorsionar-cantidades"><i class="fa fa-check"></i><b>10.3</b> No distorsionar cantidades</a></li>
<li class="chapter" data-level="10.4" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#ordenar-categorías-por-un-valor-significativo"><i class="fa fa-check"></i><b>10.4</b> Ordenar categorías por un valor significativo</a></li>
<li class="chapter" data-level="10.5" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#mostrar-los-datos-1"><i class="fa fa-check"></i><b>10.5</b> Mostrar los datos</a></li>
<li class="chapter" data-level="10.6" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cómo-facilitar-comparaciones"><i class="fa fa-check"></i><b>10.6</b> Cómo facilitar comparaciones</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#usen-ejes-comunes"><i class="fa fa-check"></i><b>10.6.1</b> Usen ejes comunes</a></li>
<li class="chapter" data-level="10.6.2" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#alineen-gráficos-verticalmente-para-ver-cambios-horizontales-y-horizontalmente-para-ver-cambios-verticales"><i class="fa fa-check"></i><b>10.6.2</b> Alineen gráficos verticalmente para ver cambios horizontales y horizontalmente para ver cambios verticales</a></li>
<li class="chapter" data-level="10.6.3" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#consideren-transformaciones"><i class="fa fa-check"></i><b>10.6.3</b> Consideren transformaciones</a></li>
<li class="chapter" data-level="10.6.4" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#señales-visuales-comparadas-deben-estar-adyacentes"><i class="fa fa-check"></i><b>10.6.4</b> Señales visuales comparadas deben estar adyacentes</a></li>
<li class="chapter" data-level="10.6.5" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#usen-color"><i class="fa fa-check"></i><b>10.6.5</b> Usen color</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#consideren-los-daltónicos"><i class="fa fa-check"></i><b>10.7</b> Consideren los daltónicos</a></li>
<li class="chapter" data-level="10.8" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#gráficos-para-dos-variables"><i class="fa fa-check"></i><b>10.8</b> Gráficos para dos variables</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#slope-charts"><i class="fa fa-check"></i><b>10.8.1</b> <em>Slope charts</em></a></li>
<li class="chapter" data-level="10.8.2" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#gráfico-bland-altman"><i class="fa fa-check"></i><b>10.8.2</b> Gráfico Bland-Altman</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cómo-codificar-una-tercera-variable"><i class="fa fa-check"></i><b>10.9</b> Cómo codificar una tercera variable</a></li>
<li class="chapter" data-level="10.10" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#eviten-los-gráficos-pseudo-tridimensionales"><i class="fa fa-check"></i><b>10.10</b> Eviten los gráficos pseudo-tridimensionales</a></li>
<li class="chapter" data-level="10.11" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#eviten-demasiados-dígitos-significativos"><i class="fa fa-check"></i><b>10.11</b> Eviten demasiados dígitos significativos</a></li>
<li class="chapter" data-level="10.12" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#consideren-a-su-audiencia"><i class="fa fa-check"></i><b>10.12</b> Consideren a su audiencia</a></li>
<li class="chapter" data-level="10.13" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#ejercicios-19"><i class="fa fa-check"></i><b>10.13</b> Ejercicios</a></li>
<li class="chapter" data-level="10.14" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#vaccines"><i class="fa fa-check"></i><b>10.14</b> Estudio de caso: las vacunas y las enfermedades infecciosas</a></li>
<li class="chapter" data-level="10.15" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#ejercicios-20"><i class="fa fa-check"></i><b>10.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>11</b> Resúmenes robustos</a>
<ul>
<li class="chapter" data-level="11.1" data-path="robust-summaries.html"><a href="robust-summaries.html#valores-atípicos"><i class="fa fa-check"></i><b>11.1</b> Valores atípicos</a></li>
<li class="chapter" data-level="11.2" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana"><i class="fa fa-check"></i><b>11.2</b> Mediana</a></li>
<li class="chapter" data-level="11.3" data-path="robust-summaries.html"><a href="robust-summaries.html#el-rango-intercuartil-iqr"><i class="fa fa-check"></i><b>11.3</b> El rango intercuartil (IQR)</a></li>
<li class="chapter" data-level="11.4" data-path="robust-summaries.html"><a href="robust-summaries.html#la-definición-de-tukey-de-un-valor-atípico"><i class="fa fa-check"></i><b>11.4</b> La definición de Tukey de un valor atípico</a></li>
<li class="chapter" data-level="11.5" data-path="robust-summaries.html"><a href="robust-summaries.html#desviación-absoluta-mediana"><i class="fa fa-check"></i><b>11.5</b> Desviación absoluta mediana</a></li>
<li class="chapter" data-level="11.6" data-path="robust-summaries.html"><a href="robust-summaries.html#ejercicios-21"><i class="fa fa-check"></i><b>11.6</b> Ejercicios</a></li>
<li class="chapter" data-level="11.7" data-path="robust-summaries.html"><a href="robust-summaries.html#estudio-de-caso-alturas-autoreportadas-de-estudiantes"><i class="fa fa-check"></i><b>11.7</b> Estudio de caso: alturas autoreportadas de estudiantes</a></li>
</ul></li>
<li class="part"><span><b>III Estadísticas con R</b></span></li>
<li class="chapter" data-level="12" data-path="introducción-a-las-estadísticas-con-r.html"><a href="introducción-a-las-estadísticas-con-r.html"><i class="fa fa-check"></i><b>12</b> Introducción a las estadísticas con R</a></li>
<li class="chapter" data-level="13" data-path="probabilidad.html"><a href="probabilidad.html"><i class="fa fa-check"></i><b>13</b> Probabilidad</a>
<ul>
<li class="chapter" data-level="13.1" data-path="probabilidad.html"><a href="probabilidad.html#probabilidad-discreta"><i class="fa fa-check"></i><b>13.1</b> Probabilidad discreta</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="probabilidad.html"><a href="probabilidad.html#frecuencia-relativa"><i class="fa fa-check"></i><b>13.1.1</b> Frecuencia relativa</a></li>
<li class="chapter" data-level="13.1.2" data-path="probabilidad.html"><a href="probabilidad.html#notación"><i class="fa fa-check"></i><b>13.1.2</b> Notación</a></li>
<li class="chapter" data-level="13.1.3" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-de-probabilidad"><i class="fa fa-check"></i><b>13.1.3</b> Distribuciones de probabilidad</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="probabilidad.html"><a href="probabilidad.html#simulaciones-monte-carlo-para-datos-categóricos"><i class="fa fa-check"></i><b>13.2</b> Simulaciones Monte Carlo para datos categóricos</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="probabilidad.html"><a href="probabilidad.html#fijar-la-semilla-aleatoria"><i class="fa fa-check"></i><b>13.2.1</b> Fijar la semilla aleatoria</a></li>
<li class="chapter" data-level="13.2.2" data-path="probabilidad.html"><a href="probabilidad.html#con-y-sin-reemplazo"><i class="fa fa-check"></i><b>13.2.2</b> Con y sin reemplazo</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="probabilidad.html"><a href="probabilidad.html#independencia"><i class="fa fa-check"></i><b>13.3</b> Independencia</a></li>
<li class="chapter" data-level="13.4" data-path="probabilidad.html"><a href="probabilidad.html#probabilidades-condicionales"><i class="fa fa-check"></i><b>13.4</b> Probabilidades condicionales</a></li>
<li class="chapter" data-level="13.5" data-path="probabilidad.html"><a href="probabilidad.html#reglas-de-la-adición-y-de-la-multiplicación"><i class="fa fa-check"></i><b>13.5</b> Reglas de la adición y de la multiplicación</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="probabilidad.html"><a href="probabilidad.html#regla-de-la-multiplicación"><i class="fa fa-check"></i><b>13.5.1</b> Regla de la multiplicación</a></li>
<li class="chapter" data-level="13.5.2" data-path="probabilidad.html"><a href="probabilidad.html#regla-de-la-multiplicación-bajo-independencia"><i class="fa fa-check"></i><b>13.5.2</b> Regla de la multiplicación bajo independencia</a></li>
<li class="chapter" data-level="13.5.3" data-path="probabilidad.html"><a href="probabilidad.html#regla-de-la-adición"><i class="fa fa-check"></i><b>13.5.3</b> Regla de la adición</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="probabilidad.html"><a href="probabilidad.html#combinaciones-y-permutaciones"><i class="fa fa-check"></i><b>13.6</b> Combinaciones y permutaciones</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="probabilidad.html"><a href="probabilidad.html#ejemplo-monte-carlo"><i class="fa fa-check"></i><b>13.6.1</b> Ejemplo Monte Carlo</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="probabilidad.html"><a href="probabilidad.html#ejemplos"><i class="fa fa-check"></i><b>13.7</b> Ejemplos</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="probabilidad.html"><a href="probabilidad.html#problema-monty-hall"><i class="fa fa-check"></i><b>13.7.1</b> Problema Monty Hall</a></li>
<li class="chapter" data-level="13.7.2" data-path="probabilidad.html"><a href="probabilidad.html#problema-de-cumpleaños"><i class="fa fa-check"></i><b>13.7.2</b> Problema de cumpleaños</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="probabilidad.html"><a href="probabilidad.html#infinito-en-la-práctica"><i class="fa fa-check"></i><b>13.8</b> Infinito en la práctica</a></li>
<li class="chapter" data-level="13.9" data-path="probabilidad.html"><a href="probabilidad.html#ejercicios-22"><i class="fa fa-check"></i><b>13.9</b> Ejercicios</a></li>
<li class="chapter" data-level="13.10" data-path="probabilidad.html"><a href="probabilidad.html#probabilidad-continua"><i class="fa fa-check"></i><b>13.10</b> Probabilidad continua</a></li>
<li class="chapter" data-level="13.11" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-teóricas-continuas"><i class="fa fa-check"></i><b>13.11</b> Distribuciones teóricas continuas</a>
<ul>
<li class="chapter" data-level="13.11.1" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-teóricas-como-aproximaciones"><i class="fa fa-check"></i><b>13.11.1</b> Distribuciones teóricas como aproximaciones</a></li>
<li class="chapter" data-level="13.11.2" data-path="probabilidad.html"><a href="probabilidad.html#la-densidad-de-probabilidad"><i class="fa fa-check"></i><b>13.11.2</b> La densidad de probabilidad</a></li>
</ul></li>
<li class="chapter" data-level="13.12" data-path="probabilidad.html"><a href="probabilidad.html#simulaciones-monte-carlo-para-variables-continuas"><i class="fa fa-check"></i><b>13.12</b> Simulaciones Monte Carlo para variables continuas</a></li>
<li class="chapter" data-level="13.13" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-continuas"><i class="fa fa-check"></i><b>13.13</b> Distribuciones continuas</a></li>
<li class="chapter" data-level="13.14" data-path="probabilidad.html"><a href="probabilidad.html#ejercicios-23"><i class="fa fa-check"></i><b>13.14</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html"><i class="fa fa-check"></i><b>14</b> Variables aleatorias</a>
<ul>
<li class="chapter" data-level="14.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#variables-aleatorias-1"><i class="fa fa-check"></i><b>14.1</b> Variables aleatorias</a></li>
<li class="chapter" data-level="14.2" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#modelos-de-muestreo"><i class="fa fa-check"></i><b>14.2</b> Modelos de muestreo</a></li>
<li class="chapter" data-level="14.3" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#la-distribución-de-probabilidad-de-una-variable-aleatoria"><i class="fa fa-check"></i><b>14.3</b> La distribución de probabilidad de una variable aleatoria</a></li>
<li class="chapter" data-level="14.4" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#distribuciones-versus-distribuciones-de-probabilidad"><i class="fa fa-check"></i><b>14.4</b> Distribuciones versus distribuciones de probabilidad</a></li>
<li class="chapter" data-level="14.5" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#notación-para-variables-aleatorias"><i class="fa fa-check"></i><b>14.5</b> Notación para variables aleatorias</a></li>
<li class="chapter" data-level="14.6" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#el-valor-esperado-y-el-error-estándar"><i class="fa fa-check"></i><b>14.6</b> El valor esperado y el error estándar</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#población-sd-versus-la-muestra-sd"><i class="fa fa-check"></i><b>14.6.1</b> Población SD versus la muestra SD</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#teorema-del-límite-central"><i class="fa fa-check"></i><b>14.7</b> Teorema del límite central</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#cuán-grande-es-grande-en-el-teorema-del-límite-central"><i class="fa fa-check"></i><b>14.7.1</b> ¿Cuán grande es grande en el teorema del límite central?</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#propiedades-estadísticas-de-promedios"><i class="fa fa-check"></i><b>14.8</b> Propiedades estadísticas de promedios</a></li>
<li class="chapter" data-level="14.9" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#ley-de-los-grandes-números"><i class="fa fa-check"></i><b>14.9</b> Ley de los grandes números</a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#malinterpretando-la-ley-de-promedios"><i class="fa fa-check"></i><b>14.9.1</b> Malinterpretando la ley de promedios</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#ejercicios-24"><i class="fa fa-check"></i><b>14.10</b> Ejercicios</a></li>
<li class="chapter" data-level="14.11" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#estudio-de-caso-the-big-short"><i class="fa fa-check"></i><b>14.11</b> Estudio de caso: <em>The Big Short</em></a>
<ul>
<li class="chapter" data-level="14.11.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#tasas-de-interés-explicadas-con-modelo-de-oportunidad"><i class="fa fa-check"></i><b>14.11.1</b> Tasas de interés explicadas con modelo de oportunidad</a></li>
<li class="chapter" data-level="14.11.2" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#the-big-short"><i class="fa fa-check"></i><b>14.11.2</b> <em>The Big Short</em></a></li>
</ul></li>
<li class="chapter" data-level="14.12" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#ejercicios-25"><i class="fa fa-check"></i><b>14.12</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>15</b> Inferencia estadística</a>
<ul>
<li class="chapter" data-level="15.1" data-path="inference.html"><a href="inference.html#encuestas"><i class="fa fa-check"></i><b>15.1</b> Encuestas</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="inference.html"><a href="inference.html#el-modelo-de-muestreo-para-encuestas"><i class="fa fa-check"></i><b>15.1.1</b> El modelo de muestreo para encuestas</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="inference.html"><a href="inference.html#poblaciones-muestras-parámetros-y-estimadores"><i class="fa fa-check"></i><b>15.2</b> Poblaciones, muestras, parámetros y estimadores</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="inference.html"><a href="inference.html#el-promedio-de-la-muestra"><i class="fa fa-check"></i><b>15.2.1</b> El promedio de la muestra</a></li>
<li class="chapter" data-level="15.2.2" data-path="inference.html"><a href="inference.html#parámetros"><i class="fa fa-check"></i><b>15.2.2</b> Parámetros</a></li>
<li class="chapter" data-level="15.2.3" data-path="inference.html"><a href="inference.html#encuesta-versus-pronóstico"><i class="fa fa-check"></i><b>15.2.3</b> Encuesta versus pronóstico</a></li>
<li class="chapter" data-level="15.2.4" data-path="inference.html"><a href="inference.html#propiedades-de-nuestro-estimador-valor-esperado-y-error-estándar"><i class="fa fa-check"></i><b>15.2.4</b> Propiedades de nuestro estimador: valor esperado y error estándar</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="inference.html"><a href="inference.html#ejercicios-26"><i class="fa fa-check"></i><b>15.3</b> Ejercicios</a></li>
<li class="chapter" data-level="15.4" data-path="inference.html"><a href="inference.html#clt"><i class="fa fa-check"></i><b>15.4</b> Teorema del límite central en la práctica</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="inference.html"><a href="inference.html#una-simulación-monte-carlo"><i class="fa fa-check"></i><b>15.4.1</b> Una simulación Monte Carlo</a></li>
<li class="chapter" data-level="15.4.2" data-path="inference.html"><a href="inference.html#la-diferencia"><i class="fa fa-check"></i><b>15.4.2</b> La diferencia</a></li>
<li class="chapter" data-level="15.4.3" data-path="inference.html"><a href="inference.html#sesgo-por-qué-no-realizar-una-encuesta-bien-grande"><i class="fa fa-check"></i><b>15.4.3</b> Sesgo: ¿por qué no realizar una encuesta bien grande?</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="inference.html"><a href="inference.html#ejercicios-27"><i class="fa fa-check"></i><b>15.5</b> Ejercicios</a></li>
<li class="chapter" data-level="15.6" data-path="inference.html"><a href="inference.html#intervalos-de-confianza"><i class="fa fa-check"></i><b>15.6</b> Intervalos de confianza</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="inference.html"><a href="inference.html#una-simulación-monte-carlo-1"><i class="fa fa-check"></i><b>15.6.1</b> Una simulación Monte Carlo</a></li>
<li class="chapter" data-level="15.6.2" data-path="inference.html"><a href="inference.html#el-idioma-correcto"><i class="fa fa-check"></i><b>15.6.2</b> El idioma correcto</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="inference.html"><a href="inference.html#ejercicios-28"><i class="fa fa-check"></i><b>15.7</b> Ejercicios</a></li>
<li class="chapter" data-level="15.8" data-path="inference.html"><a href="inference.html#poder"><i class="fa fa-check"></i><b>15.8</b> Poder</a></li>
<li class="chapter" data-level="15.9" data-path="inference.html"><a href="inference.html#valores-p"><i class="fa fa-check"></i><b>15.9</b> valores-p</a></li>
<li class="chapter" data-level="15.10" data-path="inference.html"><a href="inference.html#association-tests"><i class="fa fa-check"></i><b>15.10</b> Pruebas de asociación</a>
<ul>
<li class="chapter" data-level="15.10.1" data-path="inference.html"><a href="inference.html#lady-tasting-tea"><i class="fa fa-check"></i><b>15.10.1</b> Lady Tasting Tea</a></li>
<li class="chapter" data-level="15.10.2" data-path="inference.html"><a href="inference.html#tablas-2x2"><i class="fa fa-check"></i><b>15.10.2</b> Tablas 2x2</a></li>
<li class="chapter" data-level="15.10.3" data-path="inference.html"><a href="inference.html#prueba-de-chi-cuadrado"><i class="fa fa-check"></i><b>15.10.3</b> Prueba de chi-cuadrado</a></li>
<li class="chapter" data-level="15.10.4" data-path="inference.html"><a href="inference.html#odds-ratio"><i class="fa fa-check"></i><b>15.10.4</b> Riesgo relativo</a></li>
<li class="chapter" data-level="15.10.5" data-path="inference.html"><a href="inference.html#intervalos-de-confianza-para-el-riesgo-relativo"><i class="fa fa-check"></i><b>15.10.5</b> Intervalos de confianza para el riesgo relativo</a></li>
<li class="chapter" data-level="15.10.6" data-path="inference.html"><a href="inference.html#corrección-de-recuento-pequeño"><i class="fa fa-check"></i><b>15.10.6</b> Corrección de recuento pequeño</a></li>
<li class="chapter" data-level="15.10.7" data-path="inference.html"><a href="inference.html#muestras-grandes-valores-p-pequeños"><i class="fa fa-check"></i><b>15.10.7</b> Muestras grandes, valores-p pequeños</a></li>
</ul></li>
<li class="chapter" data-level="15.11" data-path="inference.html"><a href="inference.html#ejercicios-29"><i class="fa fa-check"></i><b>15.11</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="models.html"><a href="models.html"><i class="fa fa-check"></i><b>16</b> Modelos estadísticos</a>
<ul>
<li class="chapter" data-level="16.1" data-path="models.html"><a href="models.html#agregadores-de-encuestas"><i class="fa fa-check"></i><b>16.1</b> Agregadores de encuestas</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="models.html"><a href="models.html#datos-de-encuesta"><i class="fa fa-check"></i><b>16.1.1</b> Datos de encuesta</a></li>
<li class="chapter" data-level="16.1.2" data-path="models.html"><a href="models.html#sesgo-de-los-encuestadores"><i class="fa fa-check"></i><b>16.1.2</b> Sesgo de los encuestadores</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="models.html"><a href="models.html#data-driven-model"><i class="fa fa-check"></i><b>16.2</b> Modelos basados en datos</a></li>
<li class="chapter" data-level="16.3" data-path="models.html"><a href="models.html#ejercicios-30"><i class="fa fa-check"></i><b>16.3</b> Ejercicios</a></li>
<li class="chapter" data-level="16.4" data-path="models.html"><a href="models.html#bayesian-statistics"><i class="fa fa-check"></i><b>16.4</b> Estadísticas bayesianas</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="models.html"><a href="models.html#teorema-de-bayes"><i class="fa fa-check"></i><b>16.4.1</b> Teorema de Bayes</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="models.html"><a href="models.html#simulación-del-teorema-de-bayes"><i class="fa fa-check"></i><b>16.5</b> Simulación del teorema de Bayes</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="models.html"><a href="models.html#bayes-en-la-práctica"><i class="fa fa-check"></i><b>16.5.1</b> Bayes en la práctica</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="models.html"><a href="models.html#modelos-jerárquicos"><i class="fa fa-check"></i><b>16.6</b> Modelos jerárquicos</a></li>
<li class="chapter" data-level="16.7" data-path="models.html"><a href="models.html#ejercicios-31"><i class="fa fa-check"></i><b>16.7</b> Ejercicios</a></li>
<li class="chapter" data-level="16.8" data-path="models.html"><a href="models.html#election-forecasting"><i class="fa fa-check"></i><b>16.8</b> Estudio de caso: pronóstico de elecciones</a>
<ul>
<li class="chapter" data-level="16.8.1" data-path="models.html"><a href="models.html#bayesian-approach"><i class="fa fa-check"></i><b>16.8.1</b> Enfoque bayesiano</a></li>
<li class="chapter" data-level="16.8.2" data-path="models.html"><a href="models.html#el-sesgo-general"><i class="fa fa-check"></i><b>16.8.2</b> El sesgo general</a></li>
<li class="chapter" data-level="16.8.3" data-path="models.html"><a href="models.html#representaciones-matemáticas-de-modelos"><i class="fa fa-check"></i><b>16.8.3</b> Representaciones matemáticas de modelos</a></li>
<li class="chapter" data-level="16.8.4" data-path="models.html"><a href="models.html#prediciendo-el-colegio-electoral"><i class="fa fa-check"></i><b>16.8.4</b> Prediciendo el colegio electoral</a></li>
<li class="chapter" data-level="16.8.5" data-path="models.html"><a href="models.html#pronósticos"><i class="fa fa-check"></i><b>16.8.5</b> Pronósticos</a></li>
</ul></li>
<li class="chapter" data-level="16.9" data-path="models.html"><a href="models.html#ejercicios-32"><i class="fa fa-check"></i><b>16.9</b> Ejercicios</a></li>
<li class="chapter" data-level="16.10" data-path="models.html"><a href="models.html#t-dist"><i class="fa fa-check"></i><b>16.10</b> La distribución t</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>17</b> Regresión</a>
<ul>
<li class="chapter" data-level="17.1" data-path="regression.html"><a href="regression.html#estudio-de-caso-la-altura-es-hereditaria"><i class="fa fa-check"></i><b>17.1</b> Estudio de caso: ¿la altura es hereditaria?</a></li>
<li class="chapter" data-level="17.2" data-path="regression.html"><a href="regression.html#corr-coef"><i class="fa fa-check"></i><b>17.2</b> El coeficiente de correlación</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="regression.html"><a href="regression.html#la-correlación-de-muestra-es-una-variable-aleatoria"><i class="fa fa-check"></i><b>17.2.1</b> La correlación de muestra es una variable aleatoria</a></li>
<li class="chapter" data-level="17.2.2" data-path="regression.html"><a href="regression.html#la-correlación-no-siempre-es-un-resumen-útil"><i class="fa fa-check"></i><b>17.2.2</b> La correlación no siempre es un resumen útil</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="regression.html"><a href="regression.html#conditional-expectation"><i class="fa fa-check"></i><b>17.3</b> Valor esperado condicional</a></li>
<li class="chapter" data-level="17.4" data-path="regression.html"><a href="regression.html#la-línea-de-regresión"><i class="fa fa-check"></i><b>17.4</b> La línea de regresión</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="regression.html"><a href="regression.html#la-regresión-mejora-la-precisión"><i class="fa fa-check"></i><b>17.4.1</b> La regresión mejora la precisión</a></li>
<li class="chapter" data-level="17.4.2" data-path="regression.html"><a href="regression.html#distribución-normal-de-dos-variables-avanzada"><i class="fa fa-check"></i><b>17.4.2</b> Distribución normal de dos variables (avanzada)</a></li>
<li class="chapter" data-level="17.4.3" data-path="regression.html"><a href="regression.html#varianza-explicada"><i class="fa fa-check"></i><b>17.4.3</b> Varianza explicada</a></li>
<li class="chapter" data-level="17.4.4" data-path="regression.html"><a href="regression.html#advertencia-hay-dos-líneas-de-regresión"><i class="fa fa-check"></i><b>17.4.4</b> Advertencia: hay dos líneas de regresión</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="regression.html"><a href="regression.html#ejercicios-33"><i class="fa fa-check"></i><b>17.5</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>18</b> Modelos lineales</a>
<ul>
<li class="chapter" data-level="18.1" data-path="linear-models.html"><a href="linear-models.html#estudio-de-caso-moneyball"><i class="fa fa-check"></i><b>18.1</b> Estudio de caso: <em>Moneyball</em></a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="linear-models.html"><a href="linear-models.html#sabermetrics"><i class="fa fa-check"></i><b>18.1.1</b> Sabermetrics</a></li>
<li class="chapter" data-level="18.1.2" data-path="linear-models.html"><a href="linear-models.html#conceptos-básicos-de-béisbol"><i class="fa fa-check"></i><b>18.1.2</b> Conceptos básicos de béisbol</a></li>
<li class="chapter" data-level="18.1.3" data-path="linear-models.html"><a href="linear-models.html#no-hay-premios-para-bb"><i class="fa fa-check"></i><b>18.1.3</b> No hay premios para BB</a></li>
<li class="chapter" data-level="18.1.4" data-path="linear-models.html"><a href="linear-models.html#base-por-bolas-o-bases-robadas"><i class="fa fa-check"></i><b>18.1.4</b> ¿Base por bolas o bases robadas?</a></li>
<li class="chapter" data-level="18.1.5" data-path="linear-models.html"><a href="linear-models.html#regresión-aplicada-a-las-estadísticas-de-béisbol"><i class="fa fa-check"></i><b>18.1.5</b> Regresión aplicada a las estadísticas de béisbol</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="linear-models.html"><a href="linear-models.html#confusión"><i class="fa fa-check"></i><b>18.2</b> Confusión</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="linear-models.html"><a href="linear-models.html#cómo-entender-la-confusión-a-través-de-la-estratificación"><i class="fa fa-check"></i><b>18.2.1</b> Cómo entender la confusión a través de la estratificación</a></li>
<li class="chapter" data-level="18.2.2" data-path="linear-models.html"><a href="linear-models.html#regresión-lineal-múltiple"><i class="fa fa-check"></i><b>18.2.2</b> Regresión lineal múltiple</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="linear-models.html"><a href="linear-models.html#lse"><i class="fa fa-check"></i><b>18.3</b> Estimaciones de mínimos cuadrados</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="linear-models.html"><a href="linear-models.html#interpretando-modelos-lineales"><i class="fa fa-check"></i><b>18.3.1</b> Interpretando modelos lineales</a></li>
<li class="chapter" data-level="18.3.2" data-path="linear-models.html"><a href="linear-models.html#estimadores-de-mínimos-cuadrados-lse"><i class="fa fa-check"></i><b>18.3.2</b> Estimadores de mínimos cuadrados (LSE)</a></li>
<li class="chapter" data-level="18.3.3" data-path="linear-models.html"><a href="linear-models.html#la-función-lm"><i class="fa fa-check"></i><b>18.3.3</b> La función <code>lm</code></a></li>
<li class="chapter" data-level="18.3.4" data-path="linear-models.html"><a href="linear-models.html#el-lse-consiste-de-variables-aleatorias"><i class="fa fa-check"></i><b>18.3.4</b> El LSE consiste de variables aleatorias</a></li>
<li class="chapter" data-level="18.3.5" data-path="linear-models.html"><a href="linear-models.html#valores-pronosticados-son-variables-aleatorias"><i class="fa fa-check"></i><b>18.3.5</b> Valores pronosticados son variables aleatorias</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="linear-models.html"><a href="linear-models.html#ejercicios-34"><i class="fa fa-check"></i><b>18.4</b> Ejercicios</a></li>
<li class="chapter" data-level="18.5" data-path="linear-models.html"><a href="linear-models.html#regresión-lineal-en-el-tidyverse"><i class="fa fa-check"></i><b>18.5</b> Regresión lineal en el tidyverse</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="linear-models.html"><a href="linear-models.html#el-paquete-broom"><i class="fa fa-check"></i><b>18.5.1</b> El paquete <strong>broom</strong></a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="linear-models.html"><a href="linear-models.html#ejercicios-35"><i class="fa fa-check"></i><b>18.6</b> Ejercicios</a></li>
<li class="chapter" data-level="18.7" data-path="linear-models.html"><a href="linear-models.html#estudio-de-caso-moneyball-continuación"><i class="fa fa-check"></i><b>18.7</b> Estudio de caso: <em>Moneyball</em> (continuación)</a>
<ul>
<li class="chapter" data-level="18.7.1" data-path="linear-models.html"><a href="linear-models.html#añadiendo-información-sobre-salario-y-posición"><i class="fa fa-check"></i><b>18.7.1</b> Añadiendo información sobre salario y posición</a></li>
<li class="chapter" data-level="18.7.2" data-path="linear-models.html"><a href="linear-models.html#escoger-nueve-jugadores"><i class="fa fa-check"></i><b>18.7.2</b> Escoger nueve jugadores</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="linear-models.html"><a href="linear-models.html#la-falacia-de-la-regresión"><i class="fa fa-check"></i><b>18.8</b> La falacia de la regresión</a></li>
<li class="chapter" data-level="18.9" data-path="linear-models.html"><a href="linear-models.html#modelos-de-error-de-medición"><i class="fa fa-check"></i><b>18.9</b> Modelos de error de medición</a></li>
<li class="chapter" data-level="18.10" data-path="linear-models.html"><a href="linear-models.html#ejercicios-36"><i class="fa fa-check"></i><b>18.10</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html"><i class="fa fa-check"></i><b>19</b> La correlación no implica causalidad</a>
<ul>
<li class="chapter" data-level="19.1" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#correlación-espuria"><i class="fa fa-check"></i><b>19.1</b> Correlación espuria</a></li>
<li class="chapter" data-level="19.2" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#valores-atípicos-1"><i class="fa fa-check"></i><b>19.2</b> Valores atípicos</a></li>
<li class="chapter" data-level="19.3" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#inversión-de-causa-y-efecto"><i class="fa fa-check"></i><b>19.3</b> Inversión de causa y efecto</a></li>
<li class="chapter" data-level="19.4" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#factores-de-confusión"><i class="fa fa-check"></i><b>19.4</b> Factores de confusión</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#ejemplo-admisiones-a-la-universidad-de-california-berkeley"><i class="fa fa-check"></i><b>19.4.1</b> Ejemplo: admisiones a la Universidad de California, Berkeley</a></li>
<li class="chapter" data-level="19.4.2" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#confusión-explicada-gráficamente"><i class="fa fa-check"></i><b>19.4.2</b> Confusión explicada gráficamente</a></li>
<li class="chapter" data-level="19.4.3" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#calcular-promedio-luego-de-estratificar"><i class="fa fa-check"></i><b>19.4.3</b> Calcular promedio luego de estratificar</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#la-paradoja-de-simpson"><i class="fa fa-check"></i><b>19.5</b> La paradoja de Simpson</a></li>
<li class="chapter" data-level="19.6" data-path="la-correlación-no-implica-causalidad.html"><a href="la-correlación-no-implica-causalidad.html#ejercicios-37"><i class="fa fa-check"></i><b>19.6</b> Ejercicios</a></li>
</ul></li>
<li class="part"><span><b>IV Wrangling de datos</b></span></li>
<li class="chapter" data-level="20" data-path="introducción-al-wrangling-de-datos.html"><a href="introducción-al-wrangling-de-datos.html"><i class="fa fa-check"></i><b>20</b> Introducción al wrangling de datos</a></li>
<li class="chapter" data-level="21" data-path="cómo-cambiar-el-formato-de-datos.html"><a href="cómo-cambiar-el-formato-de-datos.html"><i class="fa fa-check"></i><b>21</b> Cómo cambiar el formato de datos</a>
<ul>
<li class="chapter" data-level="21.1" data-path="cómo-cambiar-el-formato-de-datos.html"><a href="cómo-cambiar-el-formato-de-datos.html#pivot_longer"><i class="fa fa-check"></i><b>21.1</b> <code>pivot_longer</code></a></li>
<li class="chapter" data-level="21.2" data-path="cómo-cambiar-el-formato-de-datos.html"><a href="cómo-cambiar-el-formato-de-datos.html#pivot_wider"><i class="fa fa-check"></i><b>21.2</b> <code>pivot_wider</code></a></li>
<li class="chapter" data-level="21.3" data-path="cómo-cambiar-el-formato-de-datos.html"><a href="cómo-cambiar-el-formato-de-datos.html#separate"><i class="fa fa-check"></i><b>21.3</b> <code>separate</code></a></li>
<li class="chapter" data-level="21.4" data-path="cómo-cambiar-el-formato-de-datos.html"><a href="cómo-cambiar-el-formato-de-datos.html#unite"><i class="fa fa-check"></i><b>21.4</b> <code>unite</code></a></li>
<li class="chapter" data-level="21.5" data-path="cómo-cambiar-el-formato-de-datos.html"><a href="cómo-cambiar-el-formato-de-datos.html#ejercicios-38"><i class="fa fa-check"></i><b>21.5</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="unir-tablas.html"><a href="unir-tablas.html"><i class="fa fa-check"></i><b>22</b> Unir tablas</a>
<ul>
<li class="chapter" data-level="22.1" data-path="unir-tablas.html"><a href="unir-tablas.html#joins"><i class="fa fa-check"></i><b>22.1</b> Funciones para unir</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="unir-tablas.html"><a href="unir-tablas.html#left-join"><i class="fa fa-check"></i><b>22.1.1</b> Left join</a></li>
<li class="chapter" data-level="22.1.2" data-path="unir-tablas.html"><a href="unir-tablas.html#right-join"><i class="fa fa-check"></i><b>22.1.2</b> Right join</a></li>
<li class="chapter" data-level="22.1.3" data-path="unir-tablas.html"><a href="unir-tablas.html#inner-join"><i class="fa fa-check"></i><b>22.1.3</b> Inner join</a></li>
<li class="chapter" data-level="22.1.4" data-path="unir-tablas.html"><a href="unir-tablas.html#full-join"><i class="fa fa-check"></i><b>22.1.4</b> Full join</a></li>
<li class="chapter" data-level="22.1.5" data-path="unir-tablas.html"><a href="unir-tablas.html#semi-join"><i class="fa fa-check"></i><b>22.1.5</b> Semi join</a></li>
<li class="chapter" data-level="22.1.6" data-path="unir-tablas.html"><a href="unir-tablas.html#anti-join"><i class="fa fa-check"></i><b>22.1.6</b> Anti join</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="unir-tablas.html"><a href="unir-tablas.html#binding"><i class="fa fa-check"></i><b>22.2</b> Binding</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="unir-tablas.html"><a href="unir-tablas.html#pegando-columnas"><i class="fa fa-check"></i><b>22.2.1</b> Pegando columnas</a></li>
<li class="chapter" data-level="22.2.2" data-path="unir-tablas.html"><a href="unir-tablas.html#pegando-filas"><i class="fa fa-check"></i><b>22.2.2</b> Pegando filas</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="unir-tablas.html"><a href="unir-tablas.html#operadores-de-sets"><i class="fa fa-check"></i><b>22.3</b> Operadores de sets</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="unir-tablas.html"><a href="unir-tablas.html#intersecar"><i class="fa fa-check"></i><b>22.3.1</b> Intersecar</a></li>
<li class="chapter" data-level="22.3.2" data-path="unir-tablas.html"><a href="unir-tablas.html#unión"><i class="fa fa-check"></i><b>22.3.2</b> Unión</a></li>
<li class="chapter" data-level="22.3.3" data-path="unir-tablas.html"><a href="unir-tablas.html#setdiff"><i class="fa fa-check"></i><b>22.3.3</b> <code>setdiff</code></a></li>
<li class="chapter" data-level="22.3.4" data-path="unir-tablas.html"><a href="unir-tablas.html#setequal"><i class="fa fa-check"></i><b>22.3.4</b> <code>setequal</code></a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="unir-tablas.html"><a href="unir-tablas.html#ejercicios-39"><i class="fa fa-check"></i><b>22.4</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="extracción-de-la-web.html"><a href="extracción-de-la-web.html"><i class="fa fa-check"></i><b>23</b> Extracción de la web</a>
<ul>
<li class="chapter" data-level="23.1" data-path="extracción-de-la-web.html"><a href="extracción-de-la-web.html#html"><i class="fa fa-check"></i><b>23.1</b> HTML</a></li>
<li class="chapter" data-level="23.2" data-path="extracción-de-la-web.html"><a href="extracción-de-la-web.html#el-paquete-rvest"><i class="fa fa-check"></i><b>23.2</b> El paquete <strong>rvest</strong></a></li>
<li class="chapter" data-level="23.3" data-path="extracción-de-la-web.html"><a href="extracción-de-la-web.html#css-selectors"><i class="fa fa-check"></i><b>23.3</b> Selectores CSS</a></li>
<li class="chapter" data-level="23.4" data-path="extracción-de-la-web.html"><a href="extracción-de-la-web.html#json"><i class="fa fa-check"></i><b>23.4</b> JSON</a></li>
<li class="chapter" data-level="23.5" data-path="extracción-de-la-web.html"><a href="extracción-de-la-web.html#ejercicios-40"><i class="fa fa-check"></i><b>23.5</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html"><i class="fa fa-check"></i><b>24</b> Procesamiento de cadenas</a>
<ul>
<li class="chapter" data-level="24.1" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#stringr"><i class="fa fa-check"></i><b>24.1</b> El paquete stringr</a></li>
<li class="chapter" data-level="24.2" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#estudio-de-caso-1-datos-de-asesinatos-en-ee.-uu."><i class="fa fa-check"></i><b>24.2</b> Estudio de caso 1: datos de asesinatos en EE. UU.</a></li>
<li class="chapter" data-level="24.3" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#estudio-de-caso-2-alturas-autoreportadas"><i class="fa fa-check"></i><b>24.3</b> Estudio de caso 2: alturas autoreportadas</a></li>
<li class="chapter" data-level="24.4" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#cómo-escapar-al-definir-cadenas"><i class="fa fa-check"></i><b>24.4</b> Cómo <em>escapar</em> al definir cadenas</a></li>
<li class="chapter" data-level="24.5" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#expresiones-regulares"><i class="fa fa-check"></i><b>24.5</b> Expresiones regulares</a>
<ul>
<li class="chapter" data-level="24.5.1" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#las-cadenas-son-expresiones-regulares"><i class="fa fa-check"></i><b>24.5.1</b> Las cadenas son expresiones regulares</a></li>
<li class="chapter" data-level="24.5.2" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#caracteres-especiales"><i class="fa fa-check"></i><b>24.5.2</b> Caracteres especiales</a></li>
<li class="chapter" data-level="24.5.3" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#clases-de-caracteres"><i class="fa fa-check"></i><b>24.5.3</b> Clases de caracteres</a></li>
<li class="chapter" data-level="24.5.4" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#anclas"><i class="fa fa-check"></i><b>24.5.4</b> Anclas</a></li>
<li class="chapter" data-level="24.5.5" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#cuantificadores"><i class="fa fa-check"></i><b>24.5.5</b> Cuantificadores</a></li>
<li class="chapter" data-level="24.5.6" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#espacio-en-blanco-s"><i class="fa fa-check"></i><b>24.5.6</b> Espacio en blanco <code>\s</code></a></li>
<li class="chapter" data-level="24.5.7" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#cuantificadores-1"><i class="fa fa-check"></i><b>24.5.7</b> Cuantificadores: <code>*</code>, <code>?</code>, <code>+</code></a></li>
<li class="chapter" data-level="24.5.8" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#todo-excepto"><i class="fa fa-check"></i><b>24.5.8</b> Todo excepto</a></li>
<li class="chapter" data-level="24.5.9" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#groups"><i class="fa fa-check"></i><b>24.5.9</b> Grupos</a></li>
</ul></li>
<li class="chapter" data-level="24.6" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#buscar-y-reemplazar-con-expresiones-regulares"><i class="fa fa-check"></i><b>24.6</b> Buscar y reemplazar con expresiones regulares</a>
<ul>
<li class="chapter" data-level="24.6.1" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#buscar-y-reemplazar-usando-grupos"><i class="fa fa-check"></i><b>24.6.1</b> Buscar y reemplazar usando grupos</a></li>
</ul></li>
<li class="chapter" data-level="24.7" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#probar-y-mejorar"><i class="fa fa-check"></i><b>24.7</b> Probar y mejorar</a></li>
<li class="chapter" data-level="24.8" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#podar"><i class="fa fa-check"></i><b>24.8</b> Podar</a></li>
<li class="chapter" data-level="24.9" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#cómo-cambiar-de-mayúsculas-o-minúsculas"><i class="fa fa-check"></i><b>24.9</b> Cómo cambiar de mayúsculas o minúsculas</a></li>
<li class="chapter" data-level="24.10" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#estudio-de-caso-2-alturas-autoreportadas-continuación"><i class="fa fa-check"></i><b>24.10</b> Estudio de caso 2: alturas autoreportadas (continuación)</a>
<ul>
<li class="chapter" data-level="24.10.1" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#la-función-extract"><i class="fa fa-check"></i><b>24.10.1</b> La función <code>extract</code></a></li>
<li class="chapter" data-level="24.10.2" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#juntando-todas-la-piezas"><i class="fa fa-check"></i><b>24.10.2</b> Juntando todas la piezas</a></li>
</ul></li>
<li class="chapter" data-level="24.11" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#división-de-cadenas"><i class="fa fa-check"></i><b>24.11</b> División de cadenas</a></li>
<li class="chapter" data-level="24.12" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#estudio-de-caso-3-extracción-de-tablas-de-un-pdf"><i class="fa fa-check"></i><b>24.12</b> Estudio de caso 3: extracción de tablas de un PDF</a></li>
<li class="chapter" data-level="24.13" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#recode"><i class="fa fa-check"></i><b>24.13</b> Recodificación</a></li>
<li class="chapter" data-level="24.14" data-path="procesamiento-de-cadenas.html"><a href="procesamiento-de-cadenas.html#ejercicios-41"><i class="fa fa-check"></i><b>24.14</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="cómo-leer-y-procesar-fechas-y-horas.html"><a href="cómo-leer-y-procesar-fechas-y-horas.html"><i class="fa fa-check"></i><b>25</b> Cómo leer y procesar fechas y horas</a>
<ul>
<li class="chapter" data-level="25.1" data-path="cómo-leer-y-procesar-fechas-y-horas.html"><a href="cómo-leer-y-procesar-fechas-y-horas.html#datos-tioo-fecha"><i class="fa fa-check"></i><b>25.1</b> Datos tioo fecha</a></li>
<li class="chapter" data-level="25.2" data-path="cómo-leer-y-procesar-fechas-y-horas.html"><a href="cómo-leer-y-procesar-fechas-y-horas.html#lubridate"><i class="fa fa-check"></i><b>25.2</b> El paquete lubridate</a></li>
<li class="chapter" data-level="25.3" data-path="cómo-leer-y-procesar-fechas-y-horas.html"><a href="cómo-leer-y-procesar-fechas-y-horas.html#ejercicios-42"><i class="fa fa-check"></i><b>25.3</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="minería-de-textos.html"><a href="minería-de-textos.html"><i class="fa fa-check"></i><b>26</b> Minería de textos</a>
<ul>
<li class="chapter" data-level="26.1" data-path="minería-de-textos.html"><a href="minería-de-textos.html#estudio-de-caso-tuits-de-trump"><i class="fa fa-check"></i><b>26.1</b> Estudio de caso: tuits de Trump</a></li>
<li class="chapter" data-level="26.2" data-path="minería-de-textos.html"><a href="minería-de-textos.html#texto-como-datos"><i class="fa fa-check"></i><b>26.2</b> Texto como datos</a></li>
<li class="chapter" data-level="26.3" data-path="minería-de-textos.html"><a href="minería-de-textos.html#análisis-de-sentimiento"><i class="fa fa-check"></i><b>26.3</b> Análisis de sentimiento</a></li>
<li class="chapter" data-level="26.4" data-path="minería-de-textos.html"><a href="minería-de-textos.html#ejercicios-43"><i class="fa fa-check"></i><b>26.4</b> Ejercicios</a></li>
</ul></li>
<li class="part"><span><b>V Machine Learning</b></span></li>
<li class="chapter" data-level="27" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html"><i class="fa fa-check"></i><b>27</b> Introducción a <em>machine learning</em></a>
<ul>
<li class="chapter" data-level="27.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#notación-1"><i class="fa fa-check"></i><b>27.1</b> Notación</a></li>
<li class="chapter" data-level="27.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#un-ejemplo"><i class="fa fa-check"></i><b>27.2</b> Un ejemplo</a></li>
<li class="chapter" data-level="27.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#ejercicios-44"><i class="fa fa-check"></i><b>27.3</b> Ejercicios</a></li>
<li class="chapter" data-level="27.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#métricas-de-evaluación"><i class="fa fa-check"></i><b>27.4</b> Métricas de evaluación</a>
<ul>
<li class="chapter" data-level="27.4.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#training-test"><i class="fa fa-check"></i><b>27.4.1</b> Sets de entrenamiento y de evaluación</a></li>
<li class="chapter" data-level="27.4.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#exactitud-general"><i class="fa fa-check"></i><b>27.4.2</b> Exactitud general</a></li>
<li class="chapter" data-level="27.4.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#matriz-de-confusión"><i class="fa fa-check"></i><b>27.4.3</b> Matriz de confusión</a></li>
<li class="chapter" data-level="27.4.4" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#sensibilidad-y-especificidad"><i class="fa fa-check"></i><b>27.4.4</b> Sensibilidad y especificidad</a></li>
<li class="chapter" data-level="27.4.5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#exactitud-equilibrada-y-medida-f_1"><i class="fa fa-check"></i><b>27.4.5</b> Exactitud equilibrada y medida <span class="math inline">\(F_1\)</span></a></li>
<li class="chapter" data-level="27.4.6" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#la-prevalencia-importa-en-la-práctica"><i class="fa fa-check"></i><b>27.4.6</b> La prevalencia importa en la práctica</a></li>
<li class="chapter" data-level="27.4.7" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#curvas-roc-y-precision-recall"><i class="fa fa-check"></i><b>27.4.7</b> Curvas ROC y precision-recall</a></li>
<li class="chapter" data-level="27.4.8" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#loss-function"><i class="fa fa-check"></i><b>27.4.8</b> Función de pérdida</a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#ejercicios-45"><i class="fa fa-check"></i><b>27.5</b> Ejercicios</a></li>
<li class="chapter" data-level="27.6" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#probabilidades-y-expectativas-condicionales"><i class="fa fa-check"></i><b>27.6</b> Probabilidades y expectativas condicionales</a>
<ul>
<li class="chapter" data-level="27.6.1" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#probabilidades-condicionales-1"><i class="fa fa-check"></i><b>27.6.1</b> Probabilidades condicionales</a></li>
<li class="chapter" data-level="27.6.2" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#expectativas-condicionales"><i class="fa fa-check"></i><b>27.6.2</b> Expectativas condicionales</a></li>
<li class="chapter" data-level="27.6.3" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#la-expectativa-condicional-minimiza-la-función-de-pérdida-cuadrática"><i class="fa fa-check"></i><b>27.6.3</b> La expectativa condicional minimiza la función de pérdida cuadrática</a></li>
</ul></li>
<li class="chapter" data-level="27.7" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#ejercicios-46"><i class="fa fa-check"></i><b>27.7</b> Ejercicios</a></li>
<li class="chapter" data-level="27.8" data-path="introducción-a-machine-learning.html"><a href="introducción-a-machine-learning.html#two-or-seven"><i class="fa fa-check"></i><b>27.8</b> Estudio de caso: ¿es un 2 o un 7?</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="suavización.html"><a href="suavización.html"><i class="fa fa-check"></i><b>28</b> Suavización</a>
<ul>
<li class="chapter" data-level="28.1" data-path="suavización.html"><a href="suavización.html#suavización-de-compartimientos"><i class="fa fa-check"></i><b>28.1</b> Suavización de compartimientos</a></li>
<li class="chapter" data-level="28.2" data-path="suavización.html"><a href="suavización.html#kernels"><i class="fa fa-check"></i><b>28.2</b> Kernels</a></li>
<li class="chapter" data-level="28.3" data-path="suavización.html"><a href="suavización.html#regresión-ponderada-local-loess"><i class="fa fa-check"></i><b>28.3</b> Regresión ponderada local (loess)</a>
<ul>
<li class="chapter" data-level="28.3.1" data-path="suavización.html"><a href="suavización.html#ajustando-con-parábolas"><i class="fa fa-check"></i><b>28.3.1</b> Ajustando con parábolas</a></li>
<li class="chapter" data-level="28.3.2" data-path="suavización.html"><a href="suavización.html#cuidado-con-los-parámetros-de-suavización-predeterminados"><i class="fa fa-check"></i><b>28.3.2</b> Cuidado con los parámetros de suavización predeterminados</a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="suavización.html"><a href="suavización.html#smoothing-ml-connection"><i class="fa fa-check"></i><b>28.4</b> Conectando la suavización al <em>machine learning</em></a></li>
<li class="chapter" data-level="28.5" data-path="suavización.html"><a href="suavización.html#ejercicios-47"><i class="fa fa-check"></i><b>28.5</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>29</b> Validación cruzada</a>
<ul>
<li class="chapter" data-level="29.1" data-path="cross-validation.html"><a href="cross-validation.html#knn-cv-intro"><i class="fa fa-check"></i><b>29.1</b> Motivación con k vecinos más cercanos</a>
<ul>
<li class="chapter" data-level="29.1.1" data-path="cross-validation.html"><a href="cross-validation.html#sobreentrenamiento"><i class="fa fa-check"></i><b>29.1.1</b> Sobreentrenamiento</a></li>
<li class="chapter" data-level="29.1.2" data-path="cross-validation.html"><a href="cross-validation.html#sobre-suavización"><i class="fa fa-check"></i><b>29.1.2</b> Sobre-suavización</a></li>
<li class="chapter" data-level="29.1.3" data-path="cross-validation.html"><a href="cross-validation.html#escogiendo-la-k-en-knn"><i class="fa fa-check"></i><b>29.1.3</b> Escogiendo la <span class="math inline">\(k\)</span> en kNN</a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="cross-validation.html"><a href="cross-validation.html#descripción-matemática-de-validación-cruzada"><i class="fa fa-check"></i><b>29.2</b> Descripción matemática de validación cruzada</a></li>
<li class="chapter" data-level="29.3" data-path="cross-validation.html"><a href="cross-validation.html#validación-cruzada-k-fold"><i class="fa fa-check"></i><b>29.3</b> Validación cruzada K-fold</a></li>
<li class="chapter" data-level="29.4" data-path="cross-validation.html"><a href="cross-validation.html#ejercicios-48"><i class="fa fa-check"></i><b>29.4</b> Ejercicios</a></li>
<li class="chapter" data-level="29.5" data-path="cross-validation.html"><a href="cross-validation.html#bootstrap"><i class="fa fa-check"></i><b>29.5</b> Bootstrap</a></li>
<li class="chapter" data-level="29.6" data-path="cross-validation.html"><a href="cross-validation.html#ejercicios-49"><i class="fa fa-check"></i><b>29.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="caret.html"><a href="caret.html"><i class="fa fa-check"></i><b>30</b> El paquete caret</a>
<ul>
<li class="chapter" data-level="30.1" data-path="caret.html"><a href="caret.html#la-función-train-de-caret"><i class="fa fa-check"></i><b>30.1</b> La función <code>train</code> de caret</a></li>
<li class="chapter" data-level="30.2" data-path="caret.html"><a href="caret.html#caret-cv"><i class="fa fa-check"></i><b>30.2</b> Validación cruzada</a></li>
<li class="chapter" data-level="30.3" data-path="caret.html"><a href="caret.html#ejemplo-ajuste-con-loess"><i class="fa fa-check"></i><b>30.3</b> Ejemplo: ajuste con loess</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html"><i class="fa fa-check"></i><b>31</b> Ejemplos de algoritmos</a>
<ul>
<li class="chapter" data-level="31.1" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#regresión-lineal"><i class="fa fa-check"></i><b>31.1</b> Regresión lineal</a>
<ul>
<li class="chapter" data-level="31.1.1" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#la-función-predict"><i class="fa fa-check"></i><b>31.1.1</b> La función <code>predict</code></a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#ejercicios-50"><i class="fa fa-check"></i><b>31.2</b> Ejercicios</a></li>
<li class="chapter" data-level="31.3" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#regresión-logística"><i class="fa fa-check"></i><b>31.3</b> Regresión logística</a>
<ul>
<li class="chapter" data-level="31.3.1" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#modelos-lineales-generalizados"><i class="fa fa-check"></i><b>31.3.1</b> Modelos lineales generalizados</a></li>
<li class="chapter" data-level="31.3.2" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#regresión-logística-con-más-de-un-predictor"><i class="fa fa-check"></i><b>31.3.2</b> Regresión logística con más de un predictor</a></li>
</ul></li>
<li class="chapter" data-level="31.4" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#ejercicios-51"><i class="fa fa-check"></i><b>31.4</b> Ejercicios</a></li>
<li class="chapter" data-level="31.5" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#k-vecinos-más-cercanos-knn"><i class="fa fa-check"></i><b>31.5</b> k vecinos más cercanos (kNN)</a></li>
<li class="chapter" data-level="31.6" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#ejercicios-52"><i class="fa fa-check"></i><b>31.6</b> Ejercicios</a></li>
<li class="chapter" data-level="31.7" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#modelos-generativos"><i class="fa fa-check"></i><b>31.7</b> Modelos generativos</a>
<ul>
<li class="chapter" data-level="31.7.1" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#naive-bayes"><i class="fa fa-check"></i><b>31.7.1</b> Naive Bayes</a></li>
<li class="chapter" data-level="31.7.2" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#controlando-la-prevalencia"><i class="fa fa-check"></i><b>31.7.2</b> Controlando la prevalencia</a></li>
<li class="chapter" data-level="31.7.3" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#análisis-discriminante-cuadrático"><i class="fa fa-check"></i><b>31.7.3</b> Análisis discriminante cuadrático</a></li>
<li class="chapter" data-level="31.7.4" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#análisis-discriminante-lineal"><i class="fa fa-check"></i><b>31.7.4</b> Análisis discriminante lineal</a></li>
<li class="chapter" data-level="31.7.5" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#conexión-a-distancia"><i class="fa fa-check"></i><b>31.7.5</b> Conexión a distancia</a></li>
</ul></li>
<li class="chapter" data-level="31.8" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#estudio-de-caso-más-de-tres-clases"><i class="fa fa-check"></i><b>31.8</b> Estudio de caso: más de tres clases</a></li>
<li class="chapter" data-level="31.9" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#ejercicios-53"><i class="fa fa-check"></i><b>31.9</b> Ejercicios</a></li>
<li class="chapter" data-level="31.10" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#árboles-de-clasificación-y-regresión-cart"><i class="fa fa-check"></i><b>31.10</b> Árboles de clasificación y regresión (CART)</a>
<ul>
<li class="chapter" data-level="31.10.1" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#la-maldición-de-la-dimensionalidad"><i class="fa fa-check"></i><b>31.10.1</b> La maldición de la dimensionalidad</a></li>
<li class="chapter" data-level="31.10.2" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#motivación-cart"><i class="fa fa-check"></i><b>31.10.2</b> Motivación CART</a></li>
<li class="chapter" data-level="31.10.3" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#árboles-de-regresión"><i class="fa fa-check"></i><b>31.10.3</b> Árboles de regresión</a></li>
<li class="chapter" data-level="31.10.4" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#árboles-de-clasificación-decisión"><i class="fa fa-check"></i><b>31.10.4</b> Árboles de clasificación (decisión)</a></li>
</ul></li>
<li class="chapter" data-level="31.11" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#bosques-aleatorios"><i class="fa fa-check"></i><b>31.11</b> Bosques aleatorios</a></li>
<li class="chapter" data-level="31.12" data-path="ejemplos-de-algoritmos.html"><a href="ejemplos-de-algoritmos.html#ejercicios-54"><i class="fa fa-check"></i><b>31.12</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html"><i class="fa fa-check"></i><b>32</b> Machine learning en la práctica</a>
<ul>
<li class="chapter" data-level="32.1" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html#preprocesamiento"><i class="fa fa-check"></i><b>32.1</b> Preprocesamiento</a></li>
<li class="chapter" data-level="32.2" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html#k-vecino-más-cercano-y-bosque-aleatorio"><i class="fa fa-check"></i><b>32.2</b> k-vecino más cercano y bosque aleatorio</a></li>
<li class="chapter" data-level="32.3" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html#importancia-variable"><i class="fa fa-check"></i><b>32.3</b> Importancia variable</a></li>
<li class="chapter" data-level="32.4" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html#evaluaciones-visuales"><i class="fa fa-check"></i><b>32.4</b> Evaluaciones visuales</a></li>
<li class="chapter" data-level="32.5" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html#conjuntos"><i class="fa fa-check"></i><b>32.5</b> Conjuntos</a></li>
<li class="chapter" data-level="32.6" data-path="machine-learning-en-la-práctica.html"><a href="machine-learning-en-la-práctica.html#ejercicios-55"><i class="fa fa-check"></i><b>32.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html"><i class="fa fa-check"></i><b>33</b> Sets grandes de datos</a>
<ul>
<li class="chapter" data-level="33.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#matrix-algebra"><i class="fa fa-check"></i><b>33.1</b> Álgebra matricial</a>
<ul>
<li class="chapter" data-level="33.1.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#notación-2"><i class="fa fa-check"></i><b>33.1.1</b> Notación</a></li>
<li class="chapter" data-level="33.1.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#convertir-un-vector-en-una-matriz"><i class="fa fa-check"></i><b>33.1.2</b> Convertir un vector en una matriz</a></li>
<li class="chapter" data-level="33.1.3" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#resúmenes-de-filas-y-columnas"><i class="fa fa-check"></i><b>33.1.3</b> Resúmenes de filas y columnas</a></li>
<li class="chapter" data-level="33.1.4" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#apply"><i class="fa fa-check"></i><b>33.1.4</b> <code>apply</code></a></li>
<li class="chapter" data-level="33.1.5" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#filtrar-columnas-basado-en-resúmenes"><i class="fa fa-check"></i><b>33.1.5</b> Filtrar columnas basado en resúmenes</a></li>
<li class="chapter" data-level="33.1.6" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#indexación-con-matrices"><i class="fa fa-check"></i><b>33.1.6</b> Indexación con matrices</a></li>
<li class="chapter" data-level="33.1.7" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#binarizar-los-datos"><i class="fa fa-check"></i><b>33.1.7</b> Binarizar los datos</a></li>
<li class="chapter" data-level="33.1.8" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#vectorización-para-matrices"><i class="fa fa-check"></i><b>33.1.8</b> Vectorización para matrices</a></li>
<li class="chapter" data-level="33.1.9" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#operaciones-de-álgebra-matricial"><i class="fa fa-check"></i><b>33.1.9</b> Operaciones de álgebra matricial</a></li>
</ul></li>
<li class="chapter" data-level="33.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejercicios-56"><i class="fa fa-check"></i><b>33.2</b> Ejercicios</a></li>
<li class="chapter" data-level="33.3" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#distancia"><i class="fa fa-check"></i><b>33.3</b> Distancia</a>
<ul>
<li class="chapter" data-level="33.3.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#distancia-euclidiana"><i class="fa fa-check"></i><b>33.3.1</b> Distancia euclidiana</a></li>
<li class="chapter" data-level="33.3.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#distancia-en-dimensiones-superiores"><i class="fa fa-check"></i><b>33.3.2</b> Distancia en dimensiones superiores</a></li>
<li class="chapter" data-level="33.3.3" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejemplo-de-distancia-euclidiana"><i class="fa fa-check"></i><b>33.3.3</b> Ejemplo de distancia euclidiana</a></li>
<li class="chapter" data-level="33.3.4" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#predictor-space"><i class="fa fa-check"></i><b>33.3.4</b> Espacio predictor</a></li>
<li class="chapter" data-level="33.3.5" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#distancia-entre-predictores"><i class="fa fa-check"></i><b>33.3.5</b> Distancia entre predictores</a></li>
</ul></li>
<li class="chapter" data-level="33.4" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejercicios-57"><i class="fa fa-check"></i><b>33.4</b> Ejercicios</a></li>
<li class="chapter" data-level="33.5" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#reducción-de-dimensiones"><i class="fa fa-check"></i><b>33.5</b> Reducción de dimensiones</a>
<ul>
<li class="chapter" data-level="33.5.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#preservando-la-distancia"><i class="fa fa-check"></i><b>33.5.1</b> Preservando la distancia</a></li>
<li class="chapter" data-level="33.5.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#transformaciones-lineales-avanzado"><i class="fa fa-check"></i><b>33.5.2</b> Transformaciones lineales (avanzado)</a></li>
<li class="chapter" data-level="33.5.3" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#transformaciones-ortogonales-avanzado"><i class="fa fa-check"></i><b>33.5.3</b> Transformaciones ortogonales (avanzado)</a></li>
<li class="chapter" data-level="33.5.4" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#pca"><i class="fa fa-check"></i><b>33.5.4</b> Análisis de componentes principales</a></li>
<li class="chapter" data-level="33.5.5" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejemplo-de-lirios"><i class="fa fa-check"></i><b>33.5.5</b> Ejemplo de lirios</a></li>
<li class="chapter" data-level="33.5.6" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejemplo-de-mnist"><i class="fa fa-check"></i><b>33.5.6</b> Ejemplo de MNIST</a></li>
</ul></li>
<li class="chapter" data-level="33.6" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejercicios-58"><i class="fa fa-check"></i><b>33.6</b> Ejercicios</a></li>
<li class="chapter" data-level="33.7" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#sistemas-de-recomendación"><i class="fa fa-check"></i><b>33.7</b> Sistemas de recomendación</a>
<ul>
<li class="chapter" data-level="33.7.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#datos-de-movielens"><i class="fa fa-check"></i><b>33.7.1</b> Datos de Movielens</a></li>
<li class="chapter" data-level="33.7.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#sistemas-de-recomendación-como-un-desafío-de-machine-learning"><i class="fa fa-check"></i><b>33.7.2</b> Sistemas de recomendación como un desafío de <em>machine learning</em></a></li>
<li class="chapter" data-level="33.7.3" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#netflix-loss-function"><i class="fa fa-check"></i><b>33.7.3</b> Función de pérdida</a></li>
<li class="chapter" data-level="33.7.4" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#un-primer-modelo"><i class="fa fa-check"></i><b>33.7.4</b> Un primer modelo</a></li>
<li class="chapter" data-level="33.7.5" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#modelando-los-efectos-de-películas"><i class="fa fa-check"></i><b>33.7.5</b> Modelando los efectos de películas</a></li>
<li class="chapter" data-level="33.7.6" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#efectos-de-usuario"><i class="fa fa-check"></i><b>33.7.6</b> Efectos de usuario</a></li>
</ul></li>
<li class="chapter" data-level="33.8" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejercicios-59"><i class="fa fa-check"></i><b>33.8</b> Ejercicios</a></li>
<li class="chapter" data-level="33.9" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#regularización"><i class="fa fa-check"></i><b>33.9</b> Regularización</a>
<ul>
<li class="chapter" data-level="33.9.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#motivación"><i class="fa fa-check"></i><b>33.9.1</b> Motivación</a></li>
<li class="chapter" data-level="33.9.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#mínimos-cuadrados-penalizados"><i class="fa fa-check"></i><b>33.9.2</b> Mínimos cuadrados penalizados</a></li>
<li class="chapter" data-level="33.9.3" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#cómo-elegir-los-términos-de-penalización"><i class="fa fa-check"></i><b>33.9.3</b> Cómo elegir los términos de penalización</a></li>
</ul></li>
<li class="chapter" data-level="33.10" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejercicios-60"><i class="fa fa-check"></i><b>33.10</b> Ejercicios</a></li>
<li class="chapter" data-level="33.11" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#factorización-de-matrices"><i class="fa fa-check"></i><b>33.11</b> Factorización de matrices</a>
<ul>
<li class="chapter" data-level="33.11.1" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#factor-analysis"><i class="fa fa-check"></i><b>33.11.1</b> Análisis de factores</a></li>
<li class="chapter" data-level="33.11.2" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#conexión-a-svd-y-pca"><i class="fa fa-check"></i><b>33.11.2</b> Conexión a SVD y PCA</a></li>
</ul></li>
<li class="chapter" data-level="33.12" data-path="sets-grandes-de-datos.html"><a href="sets-grandes-de-datos.html#ejercicios-61"><i class="fa fa-check"></i><b>33.12</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>34</b> Agrupación</a>
<ul>
<li class="chapter" data-level="34.1" data-path="clustering.html"><a href="clustering.html#agrupación-jerárquica"><i class="fa fa-check"></i><b>34.1</b> Agrupación jerárquica</a></li>
<li class="chapter" data-level="34.2" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>34.2</b> k-means</a></li>
<li class="chapter" data-level="34.3" data-path="clustering.html"><a href="clustering.html#mapas-de-calor"><i class="fa fa-check"></i><b>34.3</b> Mapas de calor</a></li>
<li class="chapter" data-level="34.4" data-path="clustering.html"><a href="clustering.html#filtrando-atributos"><i class="fa fa-check"></i><b>34.4</b> Filtrando atributos</a></li>
<li class="chapter" data-level="34.5" data-path="clustering.html"><a href="clustering.html#ejercicios-62"><i class="fa fa-check"></i><b>34.5</b> Ejercicios</a></li>
</ul></li>
<li class="part"><span><b>VI Herramientas de productividad</b></span></li>
<li class="chapter" data-level="35" data-path="introducción-a-las-herramientas-de-productividad.html"><a href="introducción-a-las-herramientas-de-productividad.html"><i class="fa fa-check"></i><b>35</b> Introducción a las herramientas de productividad</a></li>
<li class="chapter" data-level="36" data-path="installing-r-rstudio.html"><a href="installing-r-rstudio.html"><i class="fa fa-check"></i><b>36</b> Instalación de R y RStudio</a>
<ul>
<li class="chapter" data-level="36.1" data-path="installing-r-rstudio.html"><a href="installing-r-rstudio.html#instalando-r"><i class="fa fa-check"></i><b>36.1</b> Instalando R</a></li>
<li class="chapter" data-level="36.2" data-path="installing-r-rstudio.html"><a href="installing-r-rstudio.html#instalación-de-rstudio"><i class="fa fa-check"></i><b>36.2</b> Instalación de RStudio</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="accediendo-al-terminal-e-instalando-git.html"><a href="accediendo-al-terminal-e-instalando-git.html"><i class="fa fa-check"></i><b>37</b> Accediendo al terminal e instalando Git</a>
<ul>
<li class="chapter" data-level="37.1" data-path="accediendo-al-terminal-e-instalando-git.html"><a href="accediendo-al-terminal-e-instalando-git.html#terminal-on-mac"><i class="fa fa-check"></i><b>37.1</b> Accediendo al terminal en una Mac</a></li>
<li class="chapter" data-level="37.2" data-path="accediendo-al-terminal-e-instalando-git.html"><a href="accediendo-al-terminal-e-instalando-git.html#instalando-git-en-la-mac"><i class="fa fa-check"></i><b>37.2</b> Instalando Git en la Mac</a></li>
<li class="chapter" data-level="37.3" data-path="accediendo-al-terminal-e-instalando-git.html"><a href="accediendo-al-terminal-e-instalando-git.html#instalación-de-git-y-git-bash-en-windows"><i class="fa fa-check"></i><b>37.3</b> Instalación de Git y Git Bash en Windows</a></li>
<li class="chapter" data-level="37.4" data-path="accediendo-al-terminal-e-instalando-git.html"><a href="accediendo-al-terminal-e-instalando-git.html#terminal-on-windows"><i class="fa fa-check"></i><b>37.4</b> Accediendo el terminal en Windows</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="unix.html"><a href="unix.html"><i class="fa fa-check"></i><b>38</b> Organizando con Unix</a>
<ul>
<li class="chapter" data-level="38.1" data-path="unix.html"><a href="unix.html#convención-de-nomenclatura"><i class="fa fa-check"></i><b>38.1</b> Convención de nomenclatura</a></li>
<li class="chapter" data-level="38.2" data-path="unix.html"><a href="unix.html#the-terminal"><i class="fa fa-check"></i><b>38.2</b> El terminal</a></li>
<li class="chapter" data-level="38.3" data-path="unix.html"><a href="unix.html#filesystem"><i class="fa fa-check"></i><b>38.3</b> El sistema de archivos</a>
<ul>
<li class="chapter" data-level="38.3.1" data-path="unix.html"><a href="unix.html#directorios-y-subdirectorios"><i class="fa fa-check"></i><b>38.3.1</b> Directorios y subdirectorios</a></li>
<li class="chapter" data-level="38.3.2" data-path="unix.html"><a href="unix.html#el-directorio-home"><i class="fa fa-check"></i><b>38.3.2</b> El directorio <em>home</em></a></li>
<li class="chapter" data-level="38.3.3" data-path="unix.html"><a href="unix.html#working-directory"><i class="fa fa-check"></i><b>38.3.3</b> Directorio de trabajo</a></li>
<li class="chapter" data-level="38.3.4" data-path="unix.html"><a href="unix.html#paths"><i class="fa fa-check"></i><b>38.3.4</b> Rutas</a></li>
</ul></li>
<li class="chapter" data-level="38.4" data-path="unix.html"><a href="unix.html#comandos-de-unix"><i class="fa fa-check"></i><b>38.4</b> Comandos de Unix</a>
<ul>
<li class="chapter" data-level="38.4.1" data-path="unix.html"><a href="unix.html#ls-listado-de-contenido-del-directorio"><i class="fa fa-check"></i><b>38.4.1</b> <code>ls</code>: Listado de contenido del directorio</a></li>
<li class="chapter" data-level="38.4.2" data-path="unix.html"><a href="unix.html#mkdir-y-rmdir-crear-y-eliminar-un-directorio"><i class="fa fa-check"></i><b>38.4.2</b> <code>mkdir</code> y <code>rmdir</code>: crear y eliminar un directorio</a></li>
<li class="chapter" data-level="38.4.3" data-path="unix.html"><a href="unix.html#cd-navegando-por-el-sistema-de-archivos-cambiando-directorios"><i class="fa fa-check"></i><b>38.4.3</b> <code>cd</code>: navegando por el sistema de archivos cambiando directorios</a></li>
</ul></li>
<li class="chapter" data-level="38.5" data-path="unix.html"><a href="unix.html#algunos-ejemplos"><i class="fa fa-check"></i><b>38.5</b> Algunos ejemplos</a></li>
<li class="chapter" data-level="38.6" data-path="unix.html"><a href="unix.html#más-comandos-de-unix"><i class="fa fa-check"></i><b>38.6</b> Más comandos de Unix</a>
<ul>
<li class="chapter" data-level="38.6.1" data-path="unix.html"><a href="unix.html#mv-mover-archivos"><i class="fa fa-check"></i><b>38.6.1</b> <code>mv</code>: mover archivos</a></li>
<li class="chapter" data-level="38.6.2" data-path="unix.html"><a href="unix.html#cp-copiando-archivos"><i class="fa fa-check"></i><b>38.6.2</b> <code>cp</code>: copiando archivos</a></li>
<li class="chapter" data-level="38.6.3" data-path="unix.html"><a href="unix.html#rm-eliminar-archivos"><i class="fa fa-check"></i><b>38.6.3</b> <code>rm</code>: eliminar archivos</a></li>
<li class="chapter" data-level="38.6.4" data-path="unix.html"><a href="unix.html#less-mirando-un-archivo"><i class="fa fa-check"></i><b>38.6.4</b> <code>less</code>: mirando un archivo</a></li>
</ul></li>
<li class="chapter" data-level="38.7" data-path="unix.html"><a href="unix.html#prep-project"><i class="fa fa-check"></i><b>38.7</b> Preparación para un proyecto de ciencia de datos</a></li>
<li class="chapter" data-level="38.8" data-path="unix.html"><a href="unix.html#unix-avanzado"><i class="fa fa-check"></i><b>38.8</b> Unix avanzado</a>
<ul>
<li class="chapter" data-level="38.8.1" data-path="unix.html"><a href="unix.html#argumentos"><i class="fa fa-check"></i><b>38.8.1</b> Argumentos</a></li>
<li class="chapter" data-level="38.8.2" data-path="unix.html"><a href="unix.html#obtener-ayuda"><i class="fa fa-check"></i><b>38.8.2</b> Obtener ayuda</a></li>
<li class="chapter" data-level="38.8.3" data-path="unix.html"><a href="unix.html#el-pipe-1"><i class="fa fa-check"></i><b>38.8.3</b> El <em>pipe</em></a></li>
<li class="chapter" data-level="38.8.4" data-path="unix.html"><a href="unix.html#comodines"><i class="fa fa-check"></i><b>38.8.4</b> Comodines</a></li>
<li class="chapter" data-level="38.8.5" data-path="unix.html"><a href="unix.html#variables-de-entorno"><i class="fa fa-check"></i><b>38.8.5</b> Variables de entorno</a></li>
<li class="chapter" data-level="38.8.6" data-path="unix.html"><a href="unix.html#shells"><i class="fa fa-check"></i><b>38.8.6</b> <em>Shells</em></a></li>
<li class="chapter" data-level="38.8.7" data-path="unix.html"><a href="unix.html#ejecutables"><i class="fa fa-check"></i><b>38.8.7</b> Ejecutables</a></li>
<li class="chapter" data-level="38.8.8" data-path="unix.html"><a href="unix.html#permisos-y-tipos-de-archivo"><i class="fa fa-check"></i><b>38.8.8</b> Permisos y tipos de archivo</a></li>
<li class="chapter" data-level="38.8.9" data-path="unix.html"><a href="unix.html#comandos-que-deben-aprender"><i class="fa fa-check"></i><b>38.8.9</b> Comandos que deben aprender</a></li>
<li class="chapter" data-level="38.8.10" data-path="unix.html"><a href="unix.html#manipulación-de-archivos-en-r"><i class="fa fa-check"></i><b>38.8.10</b> Manipulación de archivos en R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="39" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>39</b> Git y GitHub</a>
<ul>
<li class="chapter" data-level="39.1" data-path="git.html"><a href="git.html#por-qué-usar-git-y-github"><i class="fa fa-check"></i><b>39.1</b> ¿Por qué usar Git y GitHub?</a></li>
<li class="chapter" data-level="39.2" data-path="git.html"><a href="git.html#cuentas-github"><i class="fa fa-check"></i><b>39.2</b> Cuentas GitHub</a></li>
<li class="chapter" data-level="39.3" data-path="git.html"><a href="git.html#github-repos"><i class="fa fa-check"></i><b>39.3</b> Repositorios de GitHub</a></li>
<li class="chapter" data-level="39.4" data-path="git.html"><a href="git.html#git-overview"><i class="fa fa-check"></i><b>39.4</b> Descripción general de Git</a>
<ul>
<li class="chapter" data-level="39.4.1" data-path="git.html"><a href="git.html#clonar"><i class="fa fa-check"></i><b>39.4.1</b> Clonar</a></li>
</ul></li>
<li class="chapter" data-level="39.5" data-path="git.html"><a href="git.html#init"><i class="fa fa-check"></i><b>39.5</b> Inicializando un directorio Git</a></li>
<li class="chapter" data-level="39.6" data-path="git.html"><a href="git.html#rstudio-git"><i class="fa fa-check"></i><b>39.6</b> Usando Git y GitHub en RStudio</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><i class="fa fa-check"></i><b>40</b> Proyectos reproducibles con RStudio y R Markdown</a>
<ul>
<li class="chapter" data-level="40.1" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#proyectos-de-rstudio"><i class="fa fa-check"></i><b>40.1</b> Proyectos de RStudio</a></li>
<li class="chapter" data-level="40.2" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#r-markdown"><i class="fa fa-check"></i><b>40.2</b> R Markdown</a>
<ul>
<li class="chapter" data-level="40.2.1" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#el-encabezado"><i class="fa fa-check"></i><b>40.2.1</b> El encabezado</a></li>
<li class="chapter" data-level="40.2.2" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#fragmentos-de-código-r"><i class="fa fa-check"></i><b>40.2.2</b> Fragmentos de código R</a></li>
<li class="chapter" data-level="40.2.3" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#opciones-globales"><i class="fa fa-check"></i><b>40.2.3</b> Opciones globales</a></li>
<li class="chapter" data-level="40.2.4" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#knitr"><i class="fa fa-check"></i><b>40.2.4</b> knitR</a></li>
<li class="chapter" data-level="40.2.5" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#más-sobre-r-markdown"><i class="fa fa-check"></i><b>40.2.5</b> Más sobre R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="40.3" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#organizing"><i class="fa fa-check"></i><b>40.3</b> Organizando un proyecto de ciencia de datos</a>
<ul>
<li class="chapter" data-level="40.3.1" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#crear-directorios-en-unix"><i class="fa fa-check"></i><b>40.3.1</b> Crear directorios en Unix</a></li>
<li class="chapter" data-level="40.3.2" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#crear-un-proyecto-en-rstudio"><i class="fa fa-check"></i><b>40.3.2</b> Crear un proyecto en RStudio</a></li>
<li class="chapter" data-level="40.3.3" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#editar-algunos-scripts-de-r"><i class="fa fa-check"></i><b>40.3.3</b> Editar algunos scripts de R</a></li>
<li class="chapter" data-level="40.3.4" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#crear-más-directorios-usando-unix"><i class="fa fa-check"></i><b>40.3.4</b> Crear más directorios usando Unix</a></li>
<li class="chapter" data-level="40.3.5" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#agregar-un-archivo-readme"><i class="fa fa-check"></i><b>40.3.5</b> Agregar un archivo README</a></li>
<li class="chapter" data-level="40.3.6" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#inicializando-un-directorio-git"><i class="fa fa-check"></i><b>40.3.6</b> Inicializando un directorio Git</a></li>
<li class="chapter" data-level="40.3.7" data-path="proyectos-reproducibles-con-rstudio-y-r-markdown.html"><a href="proyectos-reproducibles-con-rstudio-y-r-markdown.html#add-commit-y-push-archivos-con-rstudio"><i class="fa fa-check"></i><b>40.3.7</b> <em>Add</em>, <em>commit</em> y <em>push</em> archivos con RStudio</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la ciencia de datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="linear-models" class="section level1" number="18">
<h1><span class="header-section-number">Capítulo 18</span> Modelos lineales</h1>
<p>Desde el desarrollo original de Galton, la regresión se ha convertido en una de las herramientas más utilizadas en la ciencia de datos. Una razón por esto es que la regresión nos permite encontrar relaciones entre dos variables tomando en cuenta los efectos de otras variables que afectan a ambas. Esto ha sido particularmente popular en campos donde los experimentos aleatorios son difíciles de ejecutar, como la economía y la epidemiología.</p>
<p>Cuando no podemos asignar aleatoriamente a cada individuo a un grupo de tratamiento o control, la confusión (<em>confounding</em> en inglés) es particularmente frecuente. Por ejemplo, consideren estimar el efecto de comer comidas rápidas en la esperanza de vida utilizando datos recopilados de una muestra aleatoria de personas en una jurisdicción. Es más probable que los consumidores de comida rápida sean fumadores, bebedores y tengan ingresos más bajos. Por lo tanto, un modelo sencillo de regresión puede sobrestimar el efecto negativo de la comida rápida en la salud. Entonces, ¿cómo explicamos la confusión en la práctica? En este capítulo aprendemos cómo los modelos lineales pueden ayudar con estas situaciones y cómo pueden usarse para describir cómo una o más variables afectan el resultado.</p>
<div id="estudio-de-caso-moneyball" class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> Estudio de caso: <em>Moneyball</em></h2>
<p>El libro <em>Moneyball: El arte de ganar un juego injusto</em> de Michael Lewis se trata del equipo de béisbol los Atléticos de Oakland, también conocidos como los A’s, y su gerente general, la persona encargada de construir el equipo, Billy Beane.</p>
<p>Tradicionalmente, los equipos de béisbol usan <em>scouts</em>, o buscadores de talento, para ayudarlos a decidir qué jugadores contratar. Estos <em>scouts</em> evalúan a los jugadores viéndolos jugar. Por esta razón, tienden a favorecer a los jugadores atléticos con habilidades físicas observables y, en general, hay consenso entre los <em>scouts</em> sobre quiénes son los mejores jugadores. Como consecuencia, hay mucha demanda para estos jugadores, lo cual aumenta sus salarios.</p>
<p>De 1989 a 1991, los A’s tuvieron una de las nóminas más altas del béisbol. Pudieron comprar los mejores jugadores y, durante estos años, fueron uno de los mejores equipos. Sin embargo, en 1995, el dueño del equipo cambió y la nueva administración recortó drásticamente el presupuesto, dejando al entonces gerente general, Sandy Alderson, con una de las nóminas más bajas en el béisbol. Éste ya no podía permitirse el lujo de los jugadores más codiciados y, por eso, comenzó a utilizar un enfoque estadístico para encontrar ineficiencias en el mercado. Alderson fue mentor de Billy Beane, quien lo sucedió en 1998 y aceptó por completo la ciencia de los datos, en vez de los <em>scouts</em>, como un método para encontrar jugadores de bajo costo que, según los datos, ayudarían al equipo a ganar. Hoy, esta estrategia ha sido adaptada por la mayoría de los equipos de béisbol. Como veremos, la regresión juega un papel importante en este enfoque.</p>
<p>Como motivación para este capítulo, fingiremos que es 2002 y trataremos de construir un equipo de béisbol con un presupuesto limitado, tal como lo hicieron los Atléticos. Para apreciar la dificultad del reto, tengan en cuenta que en 2002 la nómina de los Yankees de $125,928,583 era más del triple de la de los Atléticos de Oakland de $39,679,746.</p>
<p><img src="libro_files/figure-html/mlb-2002-payroll-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div id="sabermetrics" class="section level3" number="18.1.1">
<h3><span class="header-section-number">18.1.1</span> Sabermetrics</h3>
<p>Las estadísticas se han utilizado en el béisbol desde sus inicios. El set de datos que usaremos, que se incluye en el paquete <strong>Lahman</strong>, se remonta al siglo XIX. Por ejemplo, un resumen estadístico que describiremos pronto, el <em>promedio de bateo</em> (<em>batting average</em> en inglés), se ha utilizado durante décadas para resumir el éxito de un bateador. Otras estadísticas<a href="#fn71" class="footnote-ref" id="fnref71"><sup>71</sup></a> como cuadrangulares (HR o <em>homeruns</em> en inglés), carreras impulsadas (RBI o <em>runs batted in</em> en inglés) y bases robadas (SB o <em>stolen bases</em> en inglés) se indican para cada jugador en los resúmenes del juego que se incluyen en la sección de deportes de periódicos, con jugadores recompensados por números altos. Aunque resúmenes estadísticos como estos se utilizaron ampliamente en el béisbol, el análisis de datos en sí se ignoraba. Estas estadísticas se escogieron arbitrariamente sin pensar mucho en si realmente predecían algo o si estaban relacionadas con ayudar a un equipo a ganar.</p>
<p>Esto cambió con Bill James<a href="#fn72" class="footnote-ref" id="fnref72"><sup>72</sup></a>. A fines de la década de 1970, este fanático del béisbol y aspirante a escritor comenzó a publicar artículos que describían un análisis más profundo de los datos del béisbol. Denominó <em>sabermetrics</em><a href="#fn73" class="footnote-ref" id="fnref73"><sup>73</sup></a> al enfoque de usar datos para pronosticar qué resultados mejor predicen si un equipo ganará. Hasta que Billy Beane convirtió a <em>sabermetrics</em> en el centro de su operación de béisbol, el mundo del béisbol por lo general ignoró el trabajo de Bill James. Actualmente, la popularidad de <em>sabermetrics</em> ya no se limita solo al béisbol; varios otros deportes también han comenzado a usar este enfoque.</p>
<p>En este capítulo, para simplificar el ejercicio, nos enfocaremos en carreras (R o <em>runs</em> en inglés) anotadas e ignoraremos los otros dos aspectos importantes del juego: lanzar y fildear. Veremos cómo el análisis de regresión puede ayudar a desarrollar estrategias para construir un equipo de béisbol competitivo con un presupuesto limitado. El acercamiento se puede dividir en dos análisis de datos separados. En el primero, determinamos qué estadísticas específicas del jugador predicen carreras. En el segundo, examinamos si los jugadores estaban infravalorados según lo que predice nuestro primer análisis.</p>
</div>
<div id="conceptos-básicos-de-béisbol" class="section level3" number="18.1.2">
<h3><span class="header-section-number">18.1.2</span> Conceptos básicos de béisbol</h3>
<p>Para ver cómo la regresión nos ayudará a encontrar jugadores infravalorados, no necesitamos entender todos los detalles sobre el juego de béisbol, que tiene más de 100 reglas. Aquí, destilamos el deporte al conocimiento básico que uno necesita saber para atacar efectivamente el reto de analizar los datos.</p>
<p>El objetivo de un juego de béisbol es anotar más carreras (puntos) que el otro equipo. Cada equipo tiene 9 bateadores que tienen la oportunidad de darle a una pelota con un bate en un orden predeterminado. Después de que el noveno bateador haya tenido su turno, el primer bateador vuelve a batear, luego el segundo y así sucesivamente. Cada vez que un bateador tiene la oportunidad de batear, lo llamamos una <em>turno al bate</em> (PA o <em>plate appearance</em> en inglés). En cada PA, el lanzador (<em>pitcher</em> en inglés) del otro equipo lanza la pelota y el bateador intenta darle. El PA termina con un resultado binario: el bateador hace un <em>out</em> (falla) y regresa al banco o el bateador le da a la bola (éxito) y puede correr alrededor de las bases, y potencialmente anotar una carrera (llegar a las 4 bases). Cada equipo tiene nueve intentos, denominados <em>entradas</em> (<em>innings</em> en inglés), para anotar carreras y cada entrada termina después de tres <em>outs</em>.</p>
<p>Aquí pueden ver un video que muestra un éxito: <a href="https://www.youtube.com/watch?v=HL-XjMCPfio">https://www.youtube.com/watch?v=HL-XjMCPfio</a>. Y aquí hay uno que muestra una falla: <a href="https://www.youtube.com/watch?v=NeloljCx-1g">https://www.youtube.com/watch?v=NeloljCx-1g</a>. En estos videos, vemos cómo la suerte está involucrada en el proceso. Cuando está al bate, el bateador quiere darle a la pelota con fuerza. Si le da lo suficientemente fuerte, es un HR o cuadrangular, el mejor resultado posible ya que el bateador obtiene al menos una carrera automática. Pero a veces, debido al azar, el bateador le da a la pelota muy fuerte y un defensor la atrapa, lo que resulta en un <em>out</em>. Por el contrario, a veces el bateador le da a la pelota suavemente, pero cae justo en el lugar correcto. El hecho de que el azar afecta sugiere por qué los modelos de probabilidad son útiles.</p>
<p>Ahora hay varias formas de tener éxito. Entender esta distinción será importante para nuestro análisis. Cuando el bateador le da a la pelota, él quiere pisar cuantas más bases sea posible. Hay cuatro bases y la cuarta se llama <em>home</em> o <em>home plate</em>. Ahí es donde los bateadores comienzan bateando, por lo que las bases forman un ciclo.</p>
<p><img src="regression/img/Baseball_Diamond1.png" width="50%" style="display: block; margin: auto;" />
(Cortesía de Cburnett<a href="#fn74" class="footnote-ref" id="fnref74"><sup>74</sup></a>. Licencia CC BY-SA 3.0<a href="#fn75" class="footnote-ref" id="fnref75"><sup>75</sup></a>.)
<!--Source: [Wikipedia Commons](https://commons.wikimedia.org/wiki/File:Baseball_diamond_simplified.svg))--></p>
<p>Un bateador que <em>llega a todas las bases</em> y a <em>home</em>, anota una carrera.</p>
<p>Estamos simplificando un poco, pero hay cinco formas en que un bateador puede tener éxito, es decir, no hacer un <em>out</em>:</p>
<ul>
<li>Bases por bolas (BB): el lanzador no logra lanzar la pelota dentro de un área predefinida donde el bateador le puede dar (la zona de <em>strike</em>), por lo que el bateador puede ir a primera base.</li>
<li>Sencillo: el bateador le da a la bola y llega a primera base.</li>
<li>Doble (2B): el bateador le da a la bola y llega a segunda base.</li>
<li>Triple (3B): el bateador le da a la bola y llega a tercera base.</li>
<li>Cuadrangular (HR)<a href="#fn76" class="footnote-ref" id="fnref76"><sup>76</sup></a>: el bateador le da a la bola, llega a <em>home</em> y anota una carrera.</li>
</ul>
<p>Si un bateador llega a una base, ese bateador aún tiene la posibilidad de llegar a <em>home</em> y anotar una carrera si el siguiente bateador batea con éxito. Mientras el bateador está <em>en base</em>, él también puede intentar robarse una base (SB o <em>stolen bases</em> en inglés). Si un bateador corre lo suficientemente rápido, el bateador puede intentar ir de una base a la siguiente sin que el otro equipo lo toque (<em>tag</em> en inglés)<a href="#fn77" class="footnote-ref" id="fnref77"><sup>77</sup></a>.</p>
<p>Todos estos eventos se registran durante la temporada y están disponibles para nosotros a través del paquete <strong>Lahman</strong>. Ahora comenzaremos a discutir cómo el análisis de datos puede ayudarnos a decidir cómo usar estas estadísticas para evaluar a los jugadores.</p>
</div>
<div id="no-hay-premios-para-bb" class="section level3" number="18.1.3">
<h3><span class="header-section-number">18.1.3</span> No hay premios para BB</h3>
<p>Históricamente, el <em>promedio de bateo</em> se ha considerado la estadística ofensiva más importante. Para definir este promedio, definimos un <em>hit</em> (H) y un <em>al bate</em> (AB o <em>at bat</em> en inglés). Sencillos, dobles, triples y cuadrangulares son éxitos. La quinta forma de tener éxito, BB, no es un éxito. Un AB es la cantidad de veces que un bateador logra un <em>hit</em> o un <em>out</em>; los BB se excluyen. El promedio de bateo es simplemente H/AB y se considera la medida principal de una tasa de éxito. Hoy esta tasa de éxito oscila entre el 20% y el 38%. Nos referimos al promedio de bateo en miles, por lo que, por ejemplo, si su índice de éxito es 28%, decimos que <em>está bateando 280</em>.</p>
<p><img src="regression/img/JumboTron.png" width="70%" style="display: block; margin: auto;" />
(Imagen cortesía de Keith Allison<a href="#fn78" class="footnote-ref" id="fnref78"><sup>78</sup></a>. Licencia CC BY-SA 2.0<a href="#fn79" class="footnote-ref" id="fnref79"><sup>79</sup></a>. )</p>
<p>Una de las primeras ideas importantes de Bill James es que el promedio de bateo ignora BB, pero un BB es un éxito. James propuso que se usara el <em>on-base percentage</em> (OBP), el porcentaje de veces que un bateador llega a una base, en lugar del promedio de bateo. Definió OBP como (H + BB)/(AB + BB), que es simplemente la proporción de turnos al bate que no resultan en un <em>out</em>, una medida muy intuitiva. Señaló que un jugador que obtiene muchos más BB que el jugador promedio podría no ser reconocido si su promedio de bateo no es alto. ¿Pero este jugador no está ayudando a producir carreras? Aún así, no se le otorga premio al jugador con más BB. Además, el béisbol no adoptó de inmediato el OBP como una estadística importante. En cambio, el total de bases robadas se considera importante y le otorgan un premio al jugador con la mayor cantidad<a href="#fn80" class="footnote-ref" id="fnref80"><sup>80</sup></a>. Pero los jugadores con altos totales de SB también hacen más <em>outs</em> ya que no siempre tienen éxito. ¿Un jugador con un alto total de SB ayuda a producir carreras? ¿Podemos usar la ciencia de datos para determinar si es mejor pagar por jugadores con totales altos de BB o de SB?</p>
</div>
<div id="base-por-bolas-o-bases-robadas" class="section level3" number="18.1.4">
<h3><span class="header-section-number">18.1.4</span> ¿Base por bolas o bases robadas?</h3>
<p>Uno de los desafíos en este análisis es que no es obvio cómo determinar si un jugador produce carreras porque mucho depende de sus compañeros de equipo. Llevamos un registro del número de carreras anotadas por un jugador. Sin embargo, recuerden que si un jugador X batea justo antes de alguien que logra muchos cuadrangulares, el bateador X marcará muchas carreras. Pero estas carreras no necesariamente suceden si contratamos al jugador X pero no a su compañero de equipo que batea cuadrangulares. No obstante, podemos examinar las estadísticas a nivel de equipo. ¿Cómo se comparan los equipos con muchos SB con los equipos con pocos? ¿Qué tal BB? ¡Tenemos datos! Vamos a examinar algunos.</p>
<p>Comencemos con una obvia: HR. ¿Los equipos que tienen más cuadrangulares anotan más carreras? Examinamos los datos de 1961 a 2001. La visualización de las opciones al explorar la relación entre dos variables, como HR y triunfos, es un diagrama de dispersión:</p>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb646-1"><a href="linear-models.html#cb646-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Lahman)</span>
<span id="cb646-2"><a href="linear-models.html#cb646-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb646-3"><a href="linear-models.html#cb646-3" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb646-4"><a href="linear-models.html#cb646-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR_per_game =</span> HR<span class="sc">/</span> G, <span class="at">R_per_game =</span> R<span class="sc">/</span> G) <span class="sc">%&gt;%</span></span>
<span id="cb646-5"><a href="linear-models.html#cb646-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(HR_per_game, R_per_game)) <span class="sc">+</span></span>
<span id="cb646-6"><a href="linear-models.html#cb646-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/runs-vs-hrs-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>El gráfico muestra una fuerte asociación: los equipos con más HR tienden a anotar más carreras. Ahora examinemos la relación entre bases robadas y carreras:</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="linear-models.html#cb647-1" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb647-2"><a href="linear-models.html#cb647-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SB_per_game =</span> SB<span class="sc">/</span> G, <span class="at">R_per_game =</span> R<span class="sc">/</span> G) <span class="sc">%&gt;%</span></span>
<span id="cb647-3"><a href="linear-models.html#cb647-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(SB_per_game, R_per_game)) <span class="sc">+</span></span>
<span id="cb647-4"><a href="linear-models.html#cb647-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/runs-vs-sb-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Aquí la relación no es tan clara. Finalmente, examinemos la relación entre BB y carreras:</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="linear-models.html#cb648-1" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb648-2"><a href="linear-models.html#cb648-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BB_per_game =</span> BB<span class="sc">/</span>G, <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb648-3"><a href="linear-models.html#cb648-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(BB_per_game, R_per_game)) <span class="sc">+</span></span>
<span id="cb648-4"><a href="linear-models.html#cb648-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/runs-vs-bb-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Aquí nuevamente vemos una asociación clara. Pero, ¿esto significa que aumentar las BB de un equipo <strong>causa</strong> un aumento en las carreras? Una de las lecciones más importantes que aprenderemos en este libro es que <strong>la asociación no implica causalidad.</strong></p>
<p>De hecho, parece que los BB y HR también están asociados:</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="linear-models.html#cb649-1" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb649-2"><a href="linear-models.html#cb649-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR_per_game =</span> HR<span class="sc">/</span>G, <span class="at">BB_per_game =</span> BB<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb649-3"><a href="linear-models.html#cb649-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(HR_per_game, BB_per_game)) <span class="sc">+</span></span>
<span id="cb649-4"><a href="linear-models.html#cb649-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/bb-vs-hrs-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Sabemos que los HR causan carreras porque, como su nombre sugiere, cuando un jugador logra un “home run,” se le garantiza al menos una carrera. ¿Podría ser que los HR también causen BB y esto hace que parezca que los BB también causen carreras? Cuando esto sucede, decimos que hay <em>confusión</em>, un concepto importante sobre el que aprenderemos más a lo largo de este capítulo.</p>
<p>La regresión lineal nos ayudará a analizar todo esto y cuantificar las asociaciones para determinar qué jugadores reclutar. Específicamente, trataremos de predecir cosas como cuántas carreras más anotará un equipo si aumentamos el número de BB, pero mantenemos los HR fijos. La regresión nos ayudará a responder preguntas como esta.</p>
</div>
<div id="regresión-aplicada-a-las-estadísticas-de-béisbol" class="section level3" number="18.1.5">
<h3><span class="header-section-number">18.1.5</span> Regresión aplicada a las estadísticas de béisbol</h3>
<p>¿Podemos usar la regresión con estos datos? Primero, observen que los datos de HR y carreras parecen seguir una distribución normal de dos variables. Guardamos el gráfico en el objeto <code>p</code> ya que lo usaremos más tarde.</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb650-1"><a href="linear-models.html#cb650-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Lahman)</span>
<span id="cb650-2"><a href="linear-models.html#cb650-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb650-3"><a href="linear-models.html#cb650-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR_per_game =</span> HR<span class="sc">/</span>G, <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb650-4"><a href="linear-models.html#cb650-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(HR_per_game, R_per_game)) <span class="sc">+</span></span>
<span id="cb650-5"><a href="linear-models.html#cb650-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span>
<span id="cb650-6"><a href="linear-models.html#cb650-6" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="libro_files/figure-html/hr-runs-bivariate-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Los gráficos Q-Q confirman que la aproximación normal es útil aquí:</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="linear-models.html#cb651-1" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb651-2"><a href="linear-models.html#cb651-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">z_HR =</span> <span class="fu">round</span>((HR <span class="sc">-</span> <span class="fu">mean</span>(HR))<span class="sc">/</span><span class="fu">sd</span>(HR)),</span>
<span id="cb651-3"><a href="linear-models.html#cb651-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb651-4"><a href="linear-models.html#cb651-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(z_HR <span class="sc">%in%</span> <span class="sc">-</span><span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb651-5"><a href="linear-models.html#cb651-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb651-6"><a href="linear-models.html#cb651-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>(<span class="fu">aes</span>(<span class="at">sample=</span>R_per_game)) <span class="sc">+</span></span>
<span id="cb651-7"><a href="linear-models.html#cb651-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>z_HR)</span></code></pre></div>
<p><img src="libro_files/figure-html/hr-by-runs-qq-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Ahora estamos listos para usar la regresión lineal para predecir el número de carreras que anotará un equipo si sabemos cuántos cuadrangulares logrará el equipo. Lo único que necesitamos hacer es calcular los cinco resúmenes estadísticos:</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="linear-models.html#cb652-1" aria-hidden="true" tabindex="-1"></a>summary_stats <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span></span>
<span id="cb652-2"><a href="linear-models.html#cb652-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb652-3"><a href="linear-models.html#cb652-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR_per_game =</span> HR<span class="sc">/</span>G, <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb652-4"><a href="linear-models.html#cb652-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_HR =</span> <span class="fu">mean</span>(HR_per_game),</span>
<span id="cb652-5"><a href="linear-models.html#cb652-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">s_HR =</span> <span class="fu">sd</span>(HR_per_game),</span>
<span id="cb652-6"><a href="linear-models.html#cb652-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg_R =</span> <span class="fu">mean</span>(R_per_game),</span>
<span id="cb652-7"><a href="linear-models.html#cb652-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">s_R =</span> <span class="fu">sd</span>(R_per_game),</span>
<span id="cb652-8"><a href="linear-models.html#cb652-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">r =</span> <span class="fu">cor</span>(HR_per_game, R_per_game))</span>
<span id="cb652-9"><a href="linear-models.html#cb652-9" aria-hidden="true" tabindex="-1"></a>summary_stats</span>
<span id="cb652-10"><a href="linear-models.html#cb652-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   avg_HR  s_HR avg_R   s_R     r</span></span>
<span id="cb652-11"><a href="linear-models.html#cb652-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  0.855 0.243  4.36 0.589 0.762</span></span></code></pre></div>
<p>y usar las fórmulas dadas arriba para crear las líneas de regresión:</p>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="linear-models.html#cb653-1" aria-hidden="true" tabindex="-1"></a>reg_line <span class="ot">&lt;-</span> summary_stats <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">slope =</span> r<span class="sc">*</span>s_R<span class="sc">/</span>s_HR,</span>
<span id="cb653-2"><a href="linear-models.html#cb653-2" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">intercept =</span> avg_R <span class="sc">-</span> slope<span class="sc">*</span>avg_HR)</span>
<span id="cb653-3"><a href="linear-models.html#cb653-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb653-4"><a href="linear-models.html#cb653-4" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_abline</span>(<span class="at">intercept =</span> reg_line<span class="sc">$</span>intercept, <span class="at">slope =</span> reg_line<span class="sc">$</span>slope)</span></code></pre></div>
<p><img src="libro_files/figure-html/hr-versus-runs-regression-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Pronto aprenderemos más sobre las funciones de R, como <code>lm</code>, que facilitan el ajuste de las líneas de regresión. Otro ejemplo que estudiaremos es la función <code>geom_smooth</code> de <strong>ggplot2</strong> que calcula y agrega una línea de regresión junto con intervalos de confianza al gráfico. Usamos el argumento <code>method = "lm"</code> que significa <em>modelo lineal</em> (<em>linear model</em> en inglés), el título de una próxima sección. Entonces podemos simplificar el código anterior así:</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb654-1"><a href="linear-models.html#cb654-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/hr-versus-runs-regression-easy-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>En el ejemplo anterior, la pendiente es 1.845. Esto nos dice que los equipos que logran 1 HR más por juego que el equipo promedio, anotan más carreras por juego que el equipo promedio. Dado que la puntuación final más común es la diferencia de una carrera, esto ciertamente puede conducir a un gran aumento en victorias. No es sorprendente que los jugadores con muchos HR sean muy caros. Debido a que estamos trabajando con un presupuesto limitado, necesitaremos encontrar otra forma de aumentar las victorias. Entonces, en la siguiente sección, trasladamos nuestra atención a BB.</p>

</div>
</div>
<div id="confusión" class="section level2" number="18.2">
<h2><span class="header-section-number">18.2</span> Confusión</h2>
<p>Anteriormente, notamos una fuerte relación entre carreras y BB. Si encontramos la línea de regresión para predecir carreras desde bases por bolas, obtendremos una pendiente de:</p>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="linear-models.html#cb655-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb655-2"><a href="linear-models.html#cb655-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Lahman)</span>
<span id="cb655-3"><a href="linear-models.html#cb655-3" aria-hidden="true" tabindex="-1"></a>get_slope <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) <span class="fu">cor</span>(x, y) <span class="sc">*</span> <span class="fu">sd</span>(y)<span class="sc">/</span> <span class="fu">sd</span>(x)</span>
<span id="cb655-4"><a href="linear-models.html#cb655-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb655-5"><a href="linear-models.html#cb655-5" aria-hidden="true" tabindex="-1"></a>bb_slope <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span></span>
<span id="cb655-6"><a href="linear-models.html#cb655-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb655-7"><a href="linear-models.html#cb655-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BB_per_game =</span> BB<span class="sc">/</span>G, <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb655-8"><a href="linear-models.html#cb655-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">slope =</span> <span class="fu">get_slope</span>(BB_per_game, R_per_game))</span>
<span id="cb655-9"><a href="linear-models.html#cb655-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb655-10"><a href="linear-models.html#cb655-10" aria-hidden="true" tabindex="-1"></a>bb_slope</span>
<span id="cb655-11"><a href="linear-models.html#cb655-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   slope</span></span>
<span id="cb655-12"><a href="linear-models.html#cb655-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.735</span></span></code></pre></div>
<p>Entonces, ¿esto significa que si contratamos jugadores de bajo salario con muchos BB y así aumentamos por 2 el número de BB por juego, nuestro equipo marcará 1.5 más carreras por juego?</p>
<p>Nuevamente debemos recordar que la asociación no implica la causalidad. Los datos ofrecen evidencia sólida de que un equipo con dos BB más por juego que el equipo promedio, anota 1.5 carreras por juego. Pero esto no significa que los BB sean la causa.</p>
<p>Noten que si calculamos la pendiente de la línea de regresión para sencillos obtenemos:</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb656-1"><a href="linear-models.html#cb656-1" aria-hidden="true" tabindex="-1"></a>singles_slope <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span></span>
<span id="cb656-2"><a href="linear-models.html#cb656-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb656-3"><a href="linear-models.html#cb656-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Singles_per_game =</span> (H<span class="sc">-</span>HR<span class="sc">-</span>X2B<span class="sc">-</span>X3B)<span class="sc">/</span>G, <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb656-4"><a href="linear-models.html#cb656-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">slope =</span> <span class="fu">get_slope</span>(Singles_per_game, R_per_game))</span>
<span id="cb656-5"><a href="linear-models.html#cb656-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb656-6"><a href="linear-models.html#cb656-6" aria-hidden="true" tabindex="-1"></a>singles_slope</span>
<span id="cb656-7"><a href="linear-models.html#cb656-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   slope</span></span>
<span id="cb656-8"><a href="linear-models.html#cb656-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.449</span></span></code></pre></div>
<p>que es un valor más bajo que el que obtenemos para BB.</p>
<p>Además, observen que un sencillo lleva a un jugador a primera base igual que un BB. Aquellos que saben de béisbol señalarán que con un sencillo, los corredores en base tienen una mejor oportunidad de anotar que con un BB. Entonces, ¿cómo puede un BB ser más predictivo de las carreras? La razón por la que esto sucede es por <em>confusión</em>. Aquí mostramos la correlación entre HR, BB y sencillos:</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="linear-models.html#cb657-1" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span></span>
<span id="cb657-2"><a href="linear-models.html#cb657-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb657-3"><a href="linear-models.html#cb657-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Singles =</span> (H<span class="sc">-</span>HR<span class="sc">-</span>X2B<span class="sc">-</span>X3B)<span class="sc">/</span>G, <span class="at">BB =</span> BB<span class="sc">/</span>G, <span class="at">HR =</span> HR<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb657-4"><a href="linear-models.html#cb657-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">cor</span>(BB, HR), <span class="fu">cor</span>(Singles, HR), <span class="fu">cor</span>(BB, Singles))</span>
<span id="cb657-5"><a href="linear-models.html#cb657-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   cor(BB, HR) cor(Singles, HR) cor(BB, Singles)</span></span>
<span id="cb657-6"><a href="linear-models.html#cb657-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       0.404           -0.174           -0.056</span></span></code></pre></div>
<p>Resulta que los lanzadores, temerosos de los HR, a veces evitarán lanzar <em>strikes</em> a los bateadores de HR. Como resultado, los bateadores de HR tienden a tener más BB y un equipo con muchos bateadores de HR también tendrá más BB. Aunque puede parecer que BB causan carreras, realmente son HR los que causan la mayoría de estas carreras. Decimos que BB están <em>confundidos</em> (<em>confounded</em> en inglés) con HR. Sin embargo, ¿es posible que las BB todavía ayuden? Para averiguar, tenemos que ajustar para el efecto de HR. La regresión también puede ayudar con esto.</p>
<div id="cómo-entender-la-confusión-a-través-de-la-estratificación" class="section level3" number="18.2.1">
<h3><span class="header-section-number">18.2.1</span> Cómo entender la confusión a través de la estratificación</h3>
<p>Un primer acercamiento es mantener los HR fijos a un valor determinado y luego examinar la relación entre BB y las carreras. Como lo hicimos cuando estratificamos a los padres redondeando a la pulgada más cercana, aquí podemos estratificar HR por juego a los diez más cercanos. Filtramos los estratos con pocos puntos para evitar estimadores muy variables:</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb658-1"><a href="linear-models.html#cb658-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb658-2"><a href="linear-models.html#cb658-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR_strata =</span> <span class="fu">round</span>(HR<span class="sc">/</span>G, <span class="dv">1</span>),</span>
<span id="cb658-3"><a href="linear-models.html#cb658-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">BB_per_game =</span> BB<span class="sc">/</span> G,</span>
<span id="cb658-4"><a href="linear-models.html#cb658-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">R_per_game =</span> R<span class="sc">/</span> G) <span class="sc">%&gt;%</span></span>
<span id="cb658-5"><a href="linear-models.html#cb658-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(HR_strata <span class="sc">&gt;=</span> <span class="fl">0.4</span> <span class="sc">&amp;</span> HR_strata <span class="sc">&lt;=</span><span class="fl">1.2</span>)</span></code></pre></div>
<p>y luego hacemos un diagrama de dispersión para cada estrato:</p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="linear-models.html#cb659-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb659-2"><a href="linear-models.html#cb659-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(BB_per_game, R_per_game)) <span class="sc">+</span></span>
<span id="cb659-3"><a href="linear-models.html#cb659-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb659-4"><a href="linear-models.html#cb659-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="sc">+</span></span>
<span id="cb659-5"><a href="linear-models.html#cb659-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> HR_strata)</span></code></pre></div>
<p><img src="libro_files/figure-html/runs-vs-bb-by-hr-strata-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>Recuerden que la pendiente de regresión para predecir carreras con BB era 0.7. Una vez que estratificamos por HR, estas pendientes se reducen sustancialmente:</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb660-1"><a href="linear-models.html#cb660-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb660-2"><a href="linear-models.html#cb660-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HR_strata) <span class="sc">%&gt;%</span></span>
<span id="cb660-3"><a href="linear-models.html#cb660-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">slope =</span> <span class="fu">get_slope</span>(BB_per_game, R_per_game))</span>
<span id="cb660-4"><a href="linear-models.html#cb660-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 9 x 2</span></span>
<span id="cb660-5"><a href="linear-models.html#cb660-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   HR_strata slope</span></span>
<span id="cb660-6"><a href="linear-models.html#cb660-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb660-7"><a href="linear-models.html#cb660-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       0.4 0.734</span></span>
<span id="cb660-8"><a href="linear-models.html#cb660-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       0.5 0.566</span></span>
<span id="cb660-9"><a href="linear-models.html#cb660-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       0.6 0.412</span></span>
<span id="cb660-10"><a href="linear-models.html#cb660-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4       0.7 0.285</span></span>
<span id="cb660-11"><a href="linear-models.html#cb660-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       0.8 0.365</span></span>
<span id="cb660-12"><a href="linear-models.html#cb660-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 4 more rows</span></span></code></pre></div>
<p>Las pendientes se reducen, pero no son 0, lo que indica que las BB son útiles para producir carreras, pero no tanto como se pensaba anteriormente. De hecho, los valores anteriores están más cerca de la pendiente que obtuvimos de sencillos, 0.45, que es más consistente con nuestra intuición. Dado que tanto los sencillos como los BB nos llevan a primera base, deberían tener aproximadamente el mismo poder predictivo.</p>
<p>Aunque nuestra comprensión de la aplicación nos dice que los HR causan BB pero no al revés, aún podemos verificar si la estratificación por BB hace que el efecto de HR disminuya. Para hacer esto, usamos el mismo código, excepto que intercambiamos HR y BB para obtener este gráfico:</p>
<p><img src="libro_files/figure-html/runs-vs-hr-by-bb-strata-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>En este caso, las pendientes no cambian mucho del valor original:</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="linear-models.html#cb661-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(BB_strata) <span class="sc">%&gt;%</span></span>
<span id="cb661-2"><a href="linear-models.html#cb661-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">slope =</span> <span class="fu">get_slope</span>(HR_per_game, R_per_game))</span>
<span id="cb661-3"><a href="linear-models.html#cb661-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 12 x 2</span></span>
<span id="cb661-4"><a href="linear-models.html#cb661-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   BB_strata slope</span></span>
<span id="cb661-5"><a href="linear-models.html#cb661-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb661-6"><a href="linear-models.html#cb661-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1       2.8  1.52</span></span>
<span id="cb661-7"><a href="linear-models.html#cb661-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2       2.9  1.57</span></span>
<span id="cb661-8"><a href="linear-models.html#cb661-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       3    1.52</span></span>
<span id="cb661-9"><a href="linear-models.html#cb661-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4       3.1  1.49</span></span>
<span id="cb661-10"><a href="linear-models.html#cb661-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5       3.2  1.58</span></span>
<span id="cb661-11"><a href="linear-models.html#cb661-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 7 more rows</span></span></code></pre></div>
<p>Se reducen un poco, lo que es consistente con el hecho de que BB sí conducen a algunas carreras.</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb662-1"><a href="linear-models.html#cb662-1" aria-hidden="true" tabindex="-1"></a>hr_slope <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span></span>
<span id="cb662-2"><a href="linear-models.html#cb662-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb662-3"><a href="linear-models.html#cb662-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR_per_game =</span> HR<span class="sc">/</span>G, <span class="at">R_per_game =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb662-4"><a href="linear-models.html#cb662-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">slope =</span> <span class="fu">get_slope</span>(HR_per_game, R_per_game))</span>
<span id="cb662-5"><a href="linear-models.html#cb662-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb662-6"><a href="linear-models.html#cb662-6" aria-hidden="true" tabindex="-1"></a>hr_slope</span>
<span id="cb662-7"><a href="linear-models.html#cb662-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   slope</span></span>
<span id="cb662-8"><a href="linear-models.html#cb662-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  1.84</span></span></code></pre></div>
<p>De todos modos, parece que si estratificamos por HR, tenemos una distribución normal de dos variables para carreras versus BB. Del mismo modo, si estratificamos por BB, tenemos una distribución normal de dos variables aproximada para HR versus carreras.</p>
</div>
<div id="regresión-lineal-múltiple" class="section level3" number="18.2.2">
<h3><span class="header-section-number">18.2.2</span> Regresión lineal múltiple</h3>
<p>Es un poco complejo calcular líneas de regresión para cada estrato. Básicamente, estamos ajustando modelos como este:</p>
<p><span class="math display">\[
\mbox{E}[R \mid BB = x_1, \, HR = x_2] = \beta_0 + \beta_1(x_2) x_1 + \beta_2(x_1) x_2
\]</span></p>
<p>con las pendientes para <span class="math inline">\(x_1\)</span> cambiando para diferentes valores de <span class="math inline">\(x_2\)</span> y viceversa. ¿Pero hay un acercamiento más fácil?</p>
<p>Si tomamos en cuenta la variabilidad aleatoria, las pendientes en los estratos no parecen cambiar mucho. Si estas pendientes son iguales, esto implica que <span class="math inline">\(\beta_1(x_2)\)</span> y <span class="math inline">\(\beta_2(x_1)\)</span> son constantes. Esto a su vez implica que la expectativa de carreras condicionadas en HR y BB se puede escribir así:</p>
<p><span class="math display">\[
\mbox{E}[R \mid BB = x_1, \, HR = x_2] = \beta_0 + \beta_1 x_1 + \beta_2 x_2
\]</span></p>
<p>Este modelo sugiere que si el número de HR se fija en <span class="math inline">\(x_2\)</span>, observamos una relación lineal entre carreras y BB con un intercepto de <span class="math inline">\(\beta_0 + \beta_2 x_2\)</span>. Nuestro análisis exploratorio de datos sugirió esto. El modelo también sugiere que a medida que aumenta el número de HR, el crecimiento del intercepto también es lineal y está determinado por <span class="math inline">\(\beta_1 x_1\)</span>.</p>
<p>En este análisis, denominado <em>regresión lineal múltiple</em> (<em>multivariable linear regression</em> en inglés), a menudo escucharán a la gente decir que la pendiente BB <span class="math inline">\(\beta_1\)</span> está <em>ajustada</em> (<em>adjusted</em> en inglés) para el efecto HR. Si el modelo es correcto, entonces se ha tomado en cuenta la confusión. ¿Pero cómo estimamos <span class="math inline">\(\beta_1\)</span> y <span class="math inline">\(\beta_2\)</span> de los datos? Para esto, aprendemos sobre modelos lineales y estimaciones de mínimos cuadrados.</p>
</div>
</div>
<div id="lse" class="section level2" number="18.3">
<h2><span class="header-section-number">18.3</span> Estimaciones de mínimos cuadrados</h2>
<p>Hemos explicado cómo cuando los datos tienen una distribución normal de dos variables, entonces los valores esperados condicionales siguen la línea de regresión. El hecho de que el valor esperado condicional es una línea no es una suposición adicional, sino más bien un resultado derivado. Sin embargo, en la práctica es común escribir un modelo que describa la relación entre dos o más variables utilizando un <em>modelo lineal</em> (<em>linear model</em> en inglés).</p>
<p>Notamos que “lineal” aquí no se refiere exclusivamente a líneas, sino al hecho de que el valor esperado condicional es una combinación lineal de cantidades conocidas. En matemáticas, cuando multiplicamos cada variable por una constante y luego las sumamos, decimos que formamos una combinación lineal de las variables. Por ejemplo, <span class="math inline">\(3x - 4y + 5z\)</span> es una combinación lineal de <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> y <span class="math inline">\(z\)</span>. Además, podemos añadir una constante y por eso <span class="math inline">\(2 + 3x - 4y + 5z\)</span> también es una combinación lineal de <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span> y <span class="math inline">\(z\)</span>.</p>
<p>Entonces <span class="math inline">\(\beta_0 + \beta_1 x_1 + \beta_2 x_2\)</span> es una combinación lineal de <span class="math inline">\(x_1\)</span> y <span class="math inline">\(x_2\)</span>. El modelo lineal más sencillo es una constante <span class="math inline">\(\beta_0\)</span>; el segundo más sencillo es una línea <span class="math inline">\(\beta_0 + \beta_1 x\)</span>. Si tuviéramos que especificar un modelo lineal para los datos de Galton, denotaríamos las <span class="math inline">\(N\)</span> alturas de padres observadas con <span class="math inline">\(x_1, \dots, x_n\)</span>, entonces modelamos las <span class="math inline">\(N\)</span> alturas de hijos que estamos tratando de predecir con:</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 x_i + \varepsilon_i, \, i=1,\dots,N.
\]</span></p>
<p>Aquí <span class="math inline">\(x_i\)</span> es la altura del padre, que es fija (no aleatoria) debido al condicionamiento, y <span class="math inline">\(Y_i\)</span> es la altura aleatoria del hijo que queremos predecir. Suponemos además que <span class="math inline">\(\varepsilon_i\)</span> son independientes entre sí, tienen valor esperado 0 y la desviación estándar, llámenla <span class="math inline">\(\sigma\)</span>, no depende de <span class="math inline">\(i\)</span>.</p>
<p>En el modelo anterior, sabemos el <span class="math inline">\(x_i\)</span>, pero para tener un modelo útil para la predicción, necesitamos <span class="math inline">\(\beta_0\)</span> y <span class="math inline">\(\beta_1\)</span>. Los estimamos a partir de los datos. Una vez que hagamos esto, podemos predecir alturas de hijos para cualquier altura de padre <span class="math inline">\(x\)</span>. Mostramos cómo hacer esto en la siguiente sección.</p>
<p>Noten que si además suponemos que el <span class="math inline">\(\varepsilon\)</span> tiene una distribución normal, entonces este modelo es exactamente el mismo que obtuvimos anteriormente suponiendo que los datos siguen una distribución normal de dos variables. Una diferencia algo matizada es que en el primer acercamiento suponemos que los datos siguen una distribución normal de dos variables y que no suponemos un modelo lineal, sino que lo derivamos. En la práctica, los modelos lineales son simplemente supuestos y no necesariamente suponemos normalidad: la distribución de <span class="math inline">\(\varepsilon\)</span>s no se específica. Sin embargo, si sus datos siguen una distribución normal de dos variables, se cumple el modelo lineal anterior. Si sus datos no siguen una distribución normal de dos variables, necesitarán justificar el modelo de otra forma.</p>
<div id="interpretando-modelos-lineales" class="section level3" number="18.3.1">
<h3><span class="header-section-number">18.3.1</span> Interpretando modelos lineales</h3>
<p>Una razón por la que los modelos lineales son populares es porque son interpretables. En el caso de los datos de Galton, podemos interpretar los datos de esta manera: debido a los genes heredados, la predicción de la altura del hijo crece por <span class="math inline">\(\beta_1\)</span> para cada pulgada que aumentamos la altura del padre <span class="math inline">\(x\)</span>. Porque no todos los hijos con padres de estatura <span class="math inline">\(x\)</span> son de la misma altura, necesitamos el término <span class="math inline">\(\varepsilon\)</span>, lo que explica la variabilidad restante. Esta variabilidad restante incluye el efecto genético de la madre, los factores ambientales y otros factores biológicos aleatorios.</p>
<p>Dada la forma en que escribimos el modelo anterior, el intercepto <span class="math inline">\(\beta_0\)</span> no es muy interpretable, ya que es la altura pronosticada de un hijo con un padre que mide 0 pulgadas. Debido a la regresión a la media, la predicción generalmente será un poco más grande que 0. Para hacer que el parámetro de pendiente sea más interpretable, podemos reescribir el modelo como:</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 (x_i - \bar{x}) + \varepsilon_i, \, i=1,\dots,N
\]</span></p>
<p>con <span class="math inline">\(\bar{x} = 1/N \sum_{i=1}^N x_i\)</span> el promedio de <span class="math inline">\(x\)</span>. En este caso, <span class="math inline">\(\beta_0\)</span> representa la altura cuando <span class="math inline">\(x_i = \bar{x}\)</span>, que es la altura del hijo de un padre promedio.</p>
</div>
<div id="estimadores-de-mínimos-cuadrados-lse" class="section level3" number="18.3.2">
<h3><span class="header-section-number">18.3.2</span> Estimadores de mínimos cuadrados (LSE)</h3>
<p>Para que los modelos lineales sean útiles, tenemos que estimar los <span class="math inline">\(\beta\)</span>s desconocidos. El enfoque estándar en la ciencia es encontrar los valores que minimizan la distancia del modelo ajustado a los datos. La siguiente ecuación se llama la ecuación de mínimos cuadrados (LS o <em>least squares</em> en inglés) y la veremos a menudo en este capítulo. Para los datos de Galton, escribiríamos:</p>
<p><span class="math display">\[
RSS = \sum_{i=1}^n \left\{ y_i - \left(\beta_0 + \beta_1 x_i \right)\right\}^2
\]</span></p>
<p>Esta cantidad se denomina suma de errores cuadrados (<em>residual sum of squares</em> o RSS por sus siglas en inglés). Una vez que encontremos los valores que minimizan el RSS, llamaremos a los valores los estimadores de mínimos cuadrados (<em>least squares estimates</em> o LSE por sus siglas en inglés) y los denotaremos con <span class="math inline">\(\hat{\beta}_0\)</span> y <span class="math inline">\(\hat{\beta}_1\)</span>. Demostremos esto con el set de datos previamente definido:</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="linear-models.html#cb663-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(HistData)</span>
<span id="cb663-2"><a href="linear-models.html#cb663-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;GaltonFamilies&quot;</span>)</span>
<span id="cb663-3"><a href="linear-models.html#cb663-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1983</span>)</span>
<span id="cb663-4"><a href="linear-models.html#cb663-4" aria-hidden="true" tabindex="-1"></a>galton_heights <span class="ot">&lt;-</span> GaltonFamilies <span class="sc">%&gt;%</span></span>
<span id="cb663-5"><a href="linear-models.html#cb663-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gender <span class="sc">==</span> <span class="st">&quot;male&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb663-6"><a href="linear-models.html#cb663-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(family) <span class="sc">%&gt;%</span></span>
<span id="cb663-7"><a href="linear-models.html#cb663-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb663-8"><a href="linear-models.html#cb663-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb663-9"><a href="linear-models.html#cb663-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(father, childHeight) <span class="sc">%&gt;%</span></span>
<span id="cb663-10"><a href="linear-models.html#cb663-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">son =</span> childHeight)</span></code></pre></div>
<p>Escribamos una función que calcule el RSS para cualquier par de valores <span class="math inline">\(\beta_0\)</span> y <span class="math inline">\(\beta_1\)</span>.</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb664-1"><a href="linear-models.html#cb664-1" aria-hidden="true" tabindex="-1"></a>rss <span class="ot">&lt;-</span> <span class="cf">function</span>(beta0, beta1, data){</span>
<span id="cb664-2"><a href="linear-models.html#cb664-2" aria-hidden="true" tabindex="-1"></a>  resid <span class="ot">&lt;-</span> galton_heights<span class="sc">$</span>son <span class="sc">-</span> (beta0<span class="sc">+</span>beta1<span class="sc">*</span>galton_heights<span class="sc">$</span>father)</span>
<span id="cb664-3"><a href="linear-models.html#cb664-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(resid<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb664-4"><a href="linear-models.html#cb664-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Entonces, para cualquier par de valores, obtenemos un RSS. Aquí hay un gráfico del RSS como función de <span class="math inline">\(\beta_1\)</span> cuando mantenemos el <span class="math inline">\(\beta_0\)</span> fijo en 25.</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="linear-models.html#cb665-1" aria-hidden="true" tabindex="-1"></a>beta1 <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">len=</span><span class="fu">nrow</span>(galton_heights))</span>
<span id="cb665-2"><a href="linear-models.html#cb665-2" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">beta1 =</span> beta1,</span>
<span id="cb665-3"><a href="linear-models.html#cb665-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">rss =</span> <span class="fu">sapply</span>(beta1, rss, <span class="at">beta0 =</span> <span class="dv">25</span>))</span>
<span id="cb665-4"><a href="linear-models.html#cb665-4" aria-hidden="true" tabindex="-1"></a>results <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(beta1, rss)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb665-5"><a href="linear-models.html#cb665-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(beta1, rss))</span></code></pre></div>
<p><img src="libro_files/figure-html/rss-versus-estimate-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Podemos ver un mínimo claro para <span class="math inline">\(\beta_1\)</span> alrededor de 0.65. Sin embargo, este mínimo para <span class="math inline">\(\beta_1\)</span> es para cuando <span class="math inline">\(\beta_0 = 25\)</span>, un valor que elegimos arbitrariamente. No sabemos si (25, 0.65) es el par que minimiza la ecuación en todos los pares posibles.</p>
<p>El método de prueba y error no funcionarán en este caso. Podríamos buscar un mínimo dentro de una cuadrícula fina de valores de <span class="math inline">\(\beta_0\)</span> y <span class="math inline">\(\beta_1\)</span>, pero esto requiere mucho tiempo innecesariamente ya que podemos usar cálculo: tomen las derivadas parciales, fíjenlas en 0 y resuelvan para <span class="math inline">\(\beta_1\)</span> y <span class="math inline">\(\beta_2\)</span>. Por supuesto, si tenemos muchos parámetros, estas ecuaciones pueden volverse bastante complejas. Pero hay funciones en R que hacen estos cálculos por nosotros. Aprenderemos esto a continuación. Para aprender las matemáticas detrás de esto, pueden consultar un libro sobre modelos lineales.</p>
</div>
<div id="la-función-lm" class="section level3" number="18.3.3">
<h3><span class="header-section-number">18.3.3</span> La función <code>lm</code></h3>
<p>En R, podemos obtener los estimadores de mínimos cuadrados usando la función <code>lm</code>. Para ajustar el modelo:</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 x_i + \varepsilon_i
\]</span></p>
<p>con <span class="math inline">\(Y_i\)</span> la altura del hijo y <span class="math inline">\(x_i\)</span> la altura del padre, podemos usar este código para obtener los estimadores de mínimos cuadrados.</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb666-1"><a href="linear-models.html#cb666-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(son <span class="sc">~</span> father, <span class="at">data =</span> galton_heights)</span>
<span id="cb666-2"><a href="linear-models.html#cb666-2" aria-hidden="true" tabindex="-1"></a>fit<span class="sc">$</span>coef</span>
<span id="cb666-3"><a href="linear-models.html#cb666-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)      father </span></span>
<span id="cb666-4"><a href="linear-models.html#cb666-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      37.288       0.461</span></span></code></pre></div>
<p>La forma más común que usamos <code>lm</code> es mediante el uso del cáracter <code>~</code> para dejar <code>lm</code> saber cuál es la variable que estamos prediciendo (a la izquierda de <code>~</code>) y que estamos utilizando para predecir (a la derecha de <code>~</code>). El intercepto se agrega automáticamente al modelo que se ajustará.</p>
<p>El objeto <code>fit</code> incluye más información sobre el ajuste. Podemos usar la función <code>summary</code> para extraer más de esta información (que no mostramos):</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="linear-models.html#cb667-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span>
<span id="cb667-2"><a href="linear-models.html#cb667-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb667-3"><a href="linear-models.html#cb667-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb667-4"><a href="linear-models.html#cb667-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lm(formula = son ~ father, data = galton_heights)</span></span>
<span id="cb667-5"><a href="linear-models.html#cb667-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb667-6"><a href="linear-models.html#cb667-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residuals:</span></span>
<span id="cb667-7"><a href="linear-models.html#cb667-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Min     1Q Median     3Q    Max </span></span>
<span id="cb667-8"><a href="linear-models.html#cb667-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -9.354 -1.566 -0.008  1.726  9.415 </span></span>
<span id="cb667-9"><a href="linear-models.html#cb667-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb667-10"><a href="linear-models.html#cb667-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb667-11"><a href="linear-models.html#cb667-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb667-12"><a href="linear-models.html#cb667-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)  37.2876     4.9862    7.48  3.4e-12 ***</span></span>
<span id="cb667-13"><a href="linear-models.html#cb667-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; father        0.4614     0.0721    6.40  1.4e-09 ***</span></span>
<span id="cb667-14"><a href="linear-models.html#cb667-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb667-15"><a href="linear-models.html#cb667-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb667-16"><a href="linear-models.html#cb667-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb667-17"><a href="linear-models.html#cb667-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residual standard error: 2.45 on 177 degrees of freedom</span></span>
<span id="cb667-18"><a href="linear-models.html#cb667-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Multiple R-squared:  0.188,  Adjusted R-squared:  0.183 </span></span>
<span id="cb667-19"><a href="linear-models.html#cb667-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; F-statistic: 40.9 on 1 and 177 DF,  p-value: 1.36e-09</span></span></code></pre></div>
<p>Para entender parte de la información incluida en este resumen, debemos recordar que el LSE consiste de variables aleatorias. La estadística matemática nos da algunas ideas sobre la distribución de estas variables aleatorias.</p>
</div>
<div id="el-lse-consiste-de-variables-aleatorias" class="section level3" number="18.3.4">
<h3><span class="header-section-number">18.3.4</span> El LSE consiste de variables aleatorias</h3>
<p>El LSE se deriva de los datos <span class="math inline">\(y_1,\dots,y_N\)</span>, que son una realización de variables aleatorias <span class="math inline">\(Y_1, \dots, Y_N\)</span>. Esto implica que nuestros estimadores son variables aleatorias. Para ver esto, podemos ejecutar una simulación Monte Carlo en la que suponemos que los datos de altura del hijo y del padre definen una población, tomar una muestra aleatoria de tamaño <span class="math inline">\(N=50\)</span>, y calcular el coeficiente de pendiente de regresión para cada uno:</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="linear-models.html#cb668-1" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb668-2"><a href="linear-models.html#cb668-2" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb668-3"><a href="linear-models.html#cb668-3" aria-hidden="true" tabindex="-1"></a>lse <span class="ot">&lt;-</span> <span class="fu">replicate</span>(B, {</span>
<span id="cb668-4"><a href="linear-models.html#cb668-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(galton_heights, N, <span class="at">replace =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb668-5"><a href="linear-models.html#cb668-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lm</span>(son <span class="sc">~</span> father, <span class="at">data =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb668-6"><a href="linear-models.html#cb668-6" aria-hidden="true" tabindex="-1"></a>    .<span class="sc">$</span>coef</span>
<span id="cb668-7"><a href="linear-models.html#cb668-7" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb668-8"><a href="linear-models.html#cb668-8" aria-hidden="true" tabindex="-1"></a>lse <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">beta_0 =</span> lse[<span class="dv">1</span>,], <span class="at">beta_1 =</span> lse[<span class="dv">2</span>,])</span></code></pre></div>
<p>Podemos ver la variabilidad de los estimadores graficando sus distribuciones:</p>
<p><img src="libro_files/figure-html/lse-distributions-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>La razón por la que se ven normales es porque el teorema del límite central también aplica aquí: para <span class="math inline">\(N\)</span> suficientemente grande, los estimadores de mínimos cuadrados serán aproximadamente normales con el valor esperado <span class="math inline">\(\beta_0\)</span> y <span class="math inline">\(\beta_1\)</span>, respectivamente. Los errores estándar son un poco complicados para calcular, pero la teoría matemática nos permite calcularlos y están incluidos en el resumen proporcionado por la función <code>lm</code>. Aquí lo vemos para uno de nuestros sets de datos simulados:</p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="linear-models.html#cb669-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample_n</span>(galton_heights, N, <span class="at">replace =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb669-2"><a href="linear-models.html#cb669-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(son <span class="sc">~</span> father, <span class="at">data =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb669-3"><a href="linear-models.html#cb669-3" aria-hidden="true" tabindex="-1"></a>  summary <span class="sc">%&gt;%</span> .<span class="sc">$</span>coef</span>
<span id="cb669-4"><a href="linear-models.html#cb669-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)</span></span>
<span id="cb669-5"><a href="linear-models.html#cb669-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)    19.28     11.656    1.65 1.05e-01</span></span>
<span id="cb669-6"><a href="linear-models.html#cb669-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; father          0.72      0.169    4.25 9.79e-05</span></span></code></pre></div>
<p>Pueden ver que los estimadores de errores estándar informados por la función <code>summary</code> están cerca de los errores estándar de la simulación:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb670-1"><a href="linear-models.html#cb670-1" aria-hidden="true" tabindex="-1"></a>lse <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">se_0 =</span> <span class="fu">sd</span>(beta_0), <span class="at">se_1 =</span> <span class="fu">sd</span>(beta_1))</span>
<span id="cb670-2"><a href="linear-models.html#cb670-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   se_0  se_1</span></span>
<span id="cb670-3"><a href="linear-models.html#cb670-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 8.84 0.128</span></span></code></pre></div>
<p>La función <code>summary</code> también informa estadísticas t (<code>t value</code>) y valores-p (<code>Pr(&gt;|t|)</code>). La estadística t no se basa realmente en el teorema del límite central, sino más bien en la suposición de que los <span class="math inline">\(\varepsilon\)</span>s siguen una distribución normal. Bajo este supuesto, la teoría matemática nos dice que el LSE dividido por su error estándar, <span class="math inline">\(\hat{\beta}_0/ \hat{\mbox{SE}}(\hat{\beta}_0 )\)</span> y <span class="math inline">\(\hat{\beta}_1/ \hat{\mbox{SE}}(\hat{\beta}_1 )\)</span>, sigue una distribución t con <span class="math inline">\(N-p\)</span> grados de libertad, con <span class="math inline">\(p\)</span> el número de parámetros en nuestro modelo. En el caso de la altura <span class="math inline">\(p=2\)</span>, los dos valores-p prueban la hipótesis nula de que <span class="math inline">\(\beta_0 = 0\)</span> y <span class="math inline">\(\beta_1=0\)</span>, respectivamente.</p>
<p>Recuerden que, como describimos en la Sección <a href="models.html#t-dist">16.10</a>, para <span class="math inline">\(N\)</span> suficientemente grande, el CLT funciona y la distribución t se vuelve casi igual a la distribución normal. Además, tengan en cuenta que podemos construir intervalos de confianza, pero pronto aprenderemos sobre <strong>broom</strong>, un paquete adicional que lo hace fácil.</p>
<p>Aunque no ofrecemos ejemplos en este libro, las pruebas de hipótesis con modelos de regresión se usan comúnmente en epidemiología y economía para hacer afirmaciones como “el efecto de A en B fue estadísticamente significativo después de ajustar por X, Y y Z.” Sin embargo, varios supuestos tienen que ser válidos para que estas afirmaciones sean verdaderas.</p>
</div>
<div id="valores-pronosticados-son-variables-aleatorias" class="section level3" number="18.3.5">
<h3><span class="header-section-number">18.3.5</span> Valores pronosticados son variables aleatorias</h3>
<p>Una vez que ajustemos nuestro modelo, podemos obtener predicciones de <span class="math inline">\(Y\)</span> usando los estimadores del modelo de regresión. Por ejemplo, si la altura del padre es <span class="math inline">\(x\)</span>, entonces nuestra predicción <span class="math inline">\(\hat{Y}\)</span> para la altura del hijo será:</p>
<p><span class="math display">\[\hat{Y} = \hat{\beta}_0 + \hat{\beta}_1 x\]</span></p>
<p>Cuando graficamos <span class="math inline">\(\hat{Y}\)</span> versus <span class="math inline">\(x\)</span>, vemos la línea de regresión.</p>
<p>Tengan en cuenta que la predicción <span class="math inline">\(\hat{Y}\)</span> también es una variable aleatoria y la teoría matemática nos dice cuáles son los errores estándar. Si suponemos que los errores son normales o tienen un tamaño de muestra lo suficientemente grande, además podemos usar la teoría para construir intervalos de confianza. De hecho, la capa <code>geom_smooth(method = "lm")</code> de <strong>ggplot2</strong> que anteriormente usamos grafica <span class="math inline">\(\hat{Y}\)</span> y lo rodea por intervalos de confianza:</p>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="linear-models.html#cb671-1" aria-hidden="true" tabindex="-1"></a>galton_heights <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(son, father)) <span class="sc">+</span></span>
<span id="cb671-2"><a href="linear-models.html#cb671-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb671-3"><a href="linear-models.html#cb671-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/father-son-regression-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La función <code>predict</code> de R toma un objeto <code>lm</code> como entrada y devuelve la predicción. Si se lo pedimos, también provee los errores estándar y la información necesaria para construir intervalos de confianza:</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="linear-models.html#cb672-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> galton_heights <span class="sc">%&gt;%</span> <span class="fu">lm</span>(son <span class="sc">~</span> father, <span class="at">data =</span> .)</span>
<span id="cb672-2"><a href="linear-models.html#cb672-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb672-3"><a href="linear-models.html#cb672-3" aria-hidden="true" tabindex="-1"></a>y_hat <span class="ot">&lt;-</span> <span class="fu">predict</span>(fit, <span class="at">se.fit =</span> <span class="cn">TRUE</span>)</span>
<span id="cb672-4"><a href="linear-models.html#cb672-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb672-5"><a href="linear-models.html#cb672-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(y_hat)</span>
<span id="cb672-6"><a href="linear-models.html#cb672-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;fit&quot;            &quot;se.fit&quot;         &quot;df&quot;             &quot;residual.scale&quot;</span></span></code></pre></div>
</div>
</div>
<div id="ejercicios-34" class="section level2" number="18.4">
<h2><span class="header-section-number">18.4</span> Ejercicios</h2>
<p>Hemos demostrado cómo BB y sencillos tienen un poder predictivo similar para anotar carreras. Otra forma de comparar la utilidad de estas métricas de béisbol es evaluando cuán estables son a lo largo de los años. Dado que tenemos que elegir jugadores a base de sus desempeños anteriores, preferiremos métricas que sean más estables. En estos ejercicios, compararemos la estabilidad de sencillos y BBs.</p>
<p>1. Antes de comenzar, queremos generar dos tablas. Una para 2002 y otra para el promedio de las temporadas 1999-2001. Queremos definir estadísticas por turnos al bate. Aquí vemos como creamos la tabla para el 2017, quedándonos solo con jugadores con más de 100 turnos al bate.</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb673-1"><a href="linear-models.html#cb673-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Lahman)</span>
<span id="cb673-2"><a href="linear-models.html#cb673-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> Batting <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">==</span> <span class="dv">2002</span>) <span class="sc">%&gt;%</span></span>
<span id="cb673-3"><a href="linear-models.html#cb673-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pa =</span> AB <span class="sc">+</span> BB,</span>
<span id="cb673-4"><a href="linear-models.html#cb673-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">singles =</span> (H <span class="sc">-</span> X2B <span class="sc">-</span> X3B <span class="sc">-</span> HR)<span class="sc">/</span> pa, <span class="at">bb =</span> BB<span class="sc">/</span> pa) <span class="sc">%&gt;%</span></span>
<span id="cb673-5"><a href="linear-models.html#cb673-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(pa <span class="sc">&gt;=</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb673-6"><a href="linear-models.html#cb673-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(playerID, singles, bb)</span></code></pre></div>
<p>Ahora calcule una tabla similar pero con tasas calculadas durante 1999-2001.</p>
<p>2. En la Sección <a href="unir-tablas.html#joins">22.1</a>, aprenderemmos sobre <code>inner_join</code>, que se puede usar para poner los datos y promedios de 2001 en la misma tabla:</p>
<div class="sourceCode" id="cb674"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb674-1"><a href="linear-models.html#cb674-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(dat, avg, <span class="at">by =</span> <span class="st">&quot;playerID&quot;</span>)</span></code></pre></div>
<p>Calcule la correlación entre 2002 y las temporadas anteriores para sencillos y BB.</p>
<p>3. Note que la correlación es mayor para BB. Para rápidamente tener una idea de la incertidumbre asociada con este estimador de correlación, ajustaremos un modelo lineal y calcularemos los intervalos de confianza para el coeficiente de pendiente. Sin embargo, primero haga diagramas de dispersión para confirmar que es apropiado ajustar un modelo lineal.</p>
<p>4. Ahora ajuste un modelo lineal para cada métrica y use la función <code>confint</code> para comparar los estimadores.</p>
</div>
<div id="regresión-lineal-en-el-tidyverse" class="section level2" number="18.5">
<h2><span class="header-section-number">18.5</span> Regresión lineal en el tidyverse</h2>
<p>Para ver cómo usamos la función <code>lm</code> en un análisis más complejo, volvamos al ejemplo del béisbol. En ese caso, estimamos líneas de regresión para predecir carreras por BB en diferentes estratos de HR. Primero construimos un <em>data frame</em> similar a este:</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="linear-models.html#cb675-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb675-2"><a href="linear-models.html#cb675-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HR =</span> <span class="fu">round</span>(HR<span class="sc">/</span>G, <span class="dv">1</span>),</span>
<span id="cb675-3"><a href="linear-models.html#cb675-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">BB =</span> BB<span class="sc">/</span>G,</span>
<span id="cb675-4"><a href="linear-models.html#cb675-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">R =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb675-5"><a href="linear-models.html#cb675-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(HR, BB, R) <span class="sc">%&gt;%</span></span>
<span id="cb675-6"><a href="linear-models.html#cb675-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(HR <span class="sc">&gt;=</span> <span class="fl">0.4</span> <span class="sc">&amp;</span> HR<span class="sc">&lt;=</span><span class="fl">1.2</span>)</span></code></pre></div>
<p>Como en ese momento no sabíamos de la función <code>lm</code> para calcular la línea de regresión en cada estrato, utilizamos la fórmula así:</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="linear-models.html#cb676-1" aria-hidden="true" tabindex="-1"></a>get_slope <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) <span class="fu">cor</span>(x, y) <span class="sc">*</span> <span class="fu">sd</span>(y)<span class="sc">/</span> <span class="fu">sd</span>(x)</span>
<span id="cb676-2"><a href="linear-models.html#cb676-2" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb676-3"><a href="linear-models.html#cb676-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HR) <span class="sc">%&gt;%</span></span>
<span id="cb676-4"><a href="linear-models.html#cb676-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">slope =</span> <span class="fu">get_slope</span>(BB, R))</span></code></pre></div>
<p>Argumentamos que las pendientes son similares y que las diferencias quizás se debieron a una variación aleatoria. Para ofrecer una defensa más rigurosa de que las pendientes eran las mismas, lo que condujo a nuestro modelo de múltiples variables, pudimos calcular los intervalos de confianza para cada pendiente. No hemos aprendido la fórmula para esto, pero la función <code>lm</code> provee suficiente información para construirlos.</p>
<p>Primero, noten que si intentamos usar la función <code>lm</code> para obtener la pendiente estimada de esta manera:</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="linear-models.html#cb677-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb677-2"><a href="linear-models.html#cb677-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HR) <span class="sc">%&gt;%</span></span>
<span id="cb677-3"><a href="linear-models.html#cb677-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(R <span class="sc">~</span> BB, <span class="at">data =</span> .) <span class="sc">%&gt;%</span> .<span class="sc">$</span>coef</span>
<span id="cb677-4"><a href="linear-models.html#cb677-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)          BB </span></span>
<span id="cb677-5"><a href="linear-models.html#cb677-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       2.198       0.638</span></span></code></pre></div>
<p>no obtenemos el resultado que queremos. La función <code>lm</code> ignora el <code>group_by</code> ya que <code>lm</code> no es parte del <strong>tidyverse</strong> y no sabe cómo manejar el resultado de un tibble agrupado.</p>
<p>Las funciones de <strong>tidyverse</strong> saben cómo interpretar los tibbles agrupados. Además, para facilitar la creación de una secuencia de comandos con el <em>pipe</em> <code>%&gt;%</code>, las funciones de <strong>tidyverse</strong> consistentemente devuelven <em>data frames</em>, ya que esto asegura que el resultado de una función sea aceptado como la entrada de otra. Pero la mayoría de las funciones de R no reconocen los tibbles agrupados ni devuelven <em>data frames</em>. La función <code>lm</code> es un ejemplo. Sin embargo, podemos escribir una función que usa <code>lm</code> para calcular y devolver los resúmenes relevantes en un data frame y entonces usar <code>summarize</code>:</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="linear-models.html#cb678-1" aria-hidden="true" tabindex="-1"></a>get_slope <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y){</span>
<span id="cb678-2"><a href="linear-models.html#cb678-2" aria-hidden="true" tabindex="-1"></a>  fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x)</span>
<span id="cb678-3"><a href="linear-models.html#cb678-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">slope =</span> fit<span class="sc">$</span>coefficients[<span class="dv">2</span>], </span>
<span id="cb678-4"><a href="linear-models.html#cb678-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">se =</span> <span class="fu">summary</span>(fit)<span class="sc">$</span>coefficient[<span class="dv">2</span>,<span class="dv">2</span>])</span>
<span id="cb678-5"><a href="linear-models.html#cb678-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb678-6"><a href="linear-models.html#cb678-6" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span>  </span>
<span id="cb678-7"><a href="linear-models.html#cb678-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HR) <span class="sc">%&gt;%</span></span>
<span id="cb678-8"><a href="linear-models.html#cb678-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">get_slope</span>(BB, R))</span>
<span id="cb678-9"><a href="linear-models.html#cb678-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 9 x 3</span></span>
<span id="cb678-10"><a href="linear-models.html#cb678-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      HR slope     se</span></span>
<span id="cb678-11"><a href="linear-models.html#cb678-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb678-12"><a href="linear-models.html#cb678-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   0.4 0.734 0.208 </span></span>
<span id="cb678-13"><a href="linear-models.html#cb678-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   0.5 0.566 0.110 </span></span>
<span id="cb678-14"><a href="linear-models.html#cb678-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   0.6 0.412 0.0974</span></span>
<span id="cb678-15"><a href="linear-models.html#cb678-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   0.7 0.285 0.0705</span></span>
<span id="cb678-16"><a href="linear-models.html#cb678-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   0.8 0.365 0.0653</span></span>
<span id="cb678-17"><a href="linear-models.html#cb678-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 4 more rows</span></span></code></pre></div>
<p>Aquí un ejemplo que devuelve estimadores para ambos parametros:</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="linear-models.html#cb679-1" aria-hidden="true" tabindex="-1"></a>get_lse <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y){</span>
<span id="cb679-2"><a href="linear-models.html#cb679-2" aria-hidden="true" tabindex="-1"></a>  fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x)</span>
<span id="cb679-3"><a href="linear-models.html#cb679-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(<span class="at">term =</span> <span class="fu">names</span>(fit<span class="sc">$</span>coefficients),</span>
<span id="cb679-4"><a href="linear-models.html#cb679-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">slope =</span> fit<span class="sc">$</span>coefficients, </span>
<span id="cb679-5"><a href="linear-models.html#cb679-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">se =</span> <span class="fu">summary</span>(fit)<span class="sc">$</span>coefficient[,<span class="dv">2</span>])</span>
<span id="cb679-6"><a href="linear-models.html#cb679-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb679-7"><a href="linear-models.html#cb679-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb679-8"><a href="linear-models.html#cb679-8" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span>  </span>
<span id="cb679-9"><a href="linear-models.html#cb679-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HR) <span class="sc">%&gt;%</span></span>
<span id="cb679-10"><a href="linear-models.html#cb679-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">get_lse</span>(BB, R))</span>
<span id="cb679-11"><a href="linear-models.html#cb679-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 18 x 4</span></span>
<span id="cb679-12"><a href="linear-models.html#cb679-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # Groups:   HR [9]</span></span>
<span id="cb679-13"><a href="linear-models.html#cb679-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      HR term        slope    se</span></span>
<span id="cb679-14"><a href="linear-models.html#cb679-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb679-15"><a href="linear-models.html#cb679-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   0.4 (Intercept) 1.36  0.631</span></span>
<span id="cb679-16"><a href="linear-models.html#cb679-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   0.4 x           0.734 0.208</span></span>
<span id="cb679-17"><a href="linear-models.html#cb679-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   0.5 (Intercept) 2.01  0.344</span></span>
<span id="cb679-18"><a href="linear-models.html#cb679-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   0.5 x           0.566 0.110</span></span>
<span id="cb679-19"><a href="linear-models.html#cb679-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   0.6 (Intercept) 2.53  0.305</span></span>
<span id="cb679-20"><a href="linear-models.html#cb679-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 13 more rows</span></span></code></pre></div>
<p>Si creen que todo esto es demasiado complicado, no son los únicos. Para simplificar las cosas, presentamos el paquete <strong>broom</strong> que fue diseñado para facilitar el uso de funciones que ajustan modelos, como <code>lm</code>, con el <strong>tidyverse</strong>.</p>
<div id="el-paquete-broom" class="section level3" number="18.5.1">
<h3><span class="header-section-number">18.5.1</span> El paquete <strong>broom</strong></h3>
<p>Nuestra tarea original era proveer un estimador y un intervalo de confianza para los estimadores de la pendiente de cada estrato. El paquete <strong>broom</strong> hará esto bastante fácil.</p>
<p>El paquete <strong>broom</strong> tiene tres funciones principales, todas de las cuales extraen información del objeto devuelto por <code>lm</code> y lo devuelve en un <em>data frame</em> que <strong>tidyverse</strong> entiende. Estas funciones son <code>tidy</code>, <code>glance</code> y <code>augment</code>. La función <code>tidy</code> devuelve estimadores e información relacionada como un <em>data frame</em>:</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="linear-models.html#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb680-2"><a href="linear-models.html#cb680-2" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(R <span class="sc">~</span> BB, <span class="at">data =</span> dat)</span>
<span id="cb680-3"><a href="linear-models.html#cb680-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(fit)</span>
<span id="cb680-4"><a href="linear-models.html#cb680-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 x 5</span></span>
<span id="cb680-5"><a href="linear-models.html#cb680-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   term        estimate std.error statistic  p.value</span></span>
<span id="cb680-6"><a href="linear-models.html#cb680-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb680-7"><a href="linear-models.html#cb680-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 (Intercept)    2.20     0.113       19.4 1.12e-70</span></span>
<span id="cb680-8"><a href="linear-models.html#cb680-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 BB             0.638    0.0344      18.5 1.35e-65</span></span></code></pre></div>
<p>Podemos agregar otros resúmenes importantes, como los intervalos de confianza:</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="linear-models.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(fit, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb681-2"><a href="linear-models.html#cb681-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 x 7</span></span>
<span id="cb681-3"><a href="linear-models.html#cb681-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   term        estimate std.error statistic  p.value conf.low conf.high</span></span>
<span id="cb681-4"><a href="linear-models.html#cb681-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb681-5"><a href="linear-models.html#cb681-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 (Intercept)    2.20     0.113       19.4 1.12e-70    1.98      2.42 </span></span>
<span id="cb681-6"><a href="linear-models.html#cb681-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 BB             0.638    0.0344      18.5 1.35e-65    0.570     0.705</span></span></code></pre></div>
<p>Debido a que el resultado es un <em>data frame</em>, podemos usarlo inmediatamente con <code>summarize</code> para unir los comandos que producen la tabla que queremos. Como se devuelve un <em>data frame</em>, podemos filtrar y seleccionar las filas y columnas que queramos, que facilita trabajar con <strong>ggplot2</strong>:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="linear-models.html#cb682-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span>  </span>
<span id="cb682-2"><a href="linear-models.html#cb682-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(HR) <span class="sc">%&gt;%</span></span>
<span id="cb682-3"><a href="linear-models.html#cb682-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="fu">tidy</span>(<span class="fu">lm</span>(R <span class="sc">~</span> BB), <span class="at">conf.int =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb682-4"><a href="linear-models.html#cb682-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">&quot;BB&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb682-5"><a href="linear-models.html#cb682-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(HR, estimate, conf.low, conf.high) <span class="sc">%&gt;%</span></span>
<span id="cb682-6"><a href="linear-models.html#cb682-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(HR, <span class="at">y =</span> estimate, <span class="at">ymin =</span> conf.low, <span class="at">ymax =</span> conf.high)) <span class="sc">+</span></span>
<span id="cb682-7"><a href="linear-models.html#cb682-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>() <span class="sc">+</span></span>
<span id="cb682-8"><a href="linear-models.html#cb682-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="libro_files/figure-html/do-tidy-example-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Ahora volvemos a discutir nuestra tarea original de determinar si las pendientes cambiaron. El gráfico que acabamos de hacer, usando <code>summarize</code> y <code>tidy</code>, muestra que los intervalos de confianza se superponen, que provee una buena confirmación visual de que nuestra suposición de que la pendiente no cambia es cierta.</p>
<p>Las otras funciones ofrecidas por <strong>broom</strong>, <code>glance</code> y <code>augment</code>, se relacionan con resultados específicos del modelo y de la observación, respectivamente. Aquí podemos ver los resúmenes que resultan de ajustar modelos que <code>glance</code> devuelve:</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="linear-models.html#cb683-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glance</span>(fit)</span>
<span id="cb683-2"><a href="linear-models.html#cb683-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 x 12</span></span>
<span id="cb683-3"><a href="linear-models.html#cb683-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   r.squared adj.r.squared sigma statistic  p.value    df logLik   AIC</span></span>
<span id="cb683-4"><a href="linear-models.html#cb683-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb683-5"><a href="linear-models.html#cb683-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     0.266         0.265 0.454      343. 1.35e-65     1  -596. 1199.</span></span>
<span id="cb683-6"><a href="linear-models.html#cb683-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 4 more variables: BIC &lt;dbl&gt;, deviance &lt;dbl&gt;,</span></span>
<span id="cb683-7"><a href="linear-models.html#cb683-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   df.residual &lt;int&gt;, nobs &lt;int&gt;</span></span></code></pre></div>
<p>Pueden obtener más información sobre estos resúmenes en cualquier libro de texto de regresión.</p>
<p>Veremos un ejemplo de <code>augment</code> en la siguiente sección.</p>
</div>
</div>
<div id="ejercicios-35" class="section level2" number="18.6">
<h2><span class="header-section-number">18.6</span> Ejercicios</h2>
<p>1. En una sección anterior, calculamos la correlación entre madres e hijas, madres e hijos, padres e hijas, y padres e hijos, y notamos que la correlación más alta es entre padres e hijos y la más baja es entre madres e hijos. Podemos calcular estas correlaciones usando:</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb684-1"><a href="linear-models.html#cb684-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(HistData)</span>
<span id="cb684-2"><a href="linear-models.html#cb684-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;GaltonFamilies&quot;</span>)</span>
<span id="cb684-3"><a href="linear-models.html#cb684-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb684-4"><a href="linear-models.html#cb684-4" aria-hidden="true" tabindex="-1"></a>galton_heights <span class="ot">&lt;-</span> GaltonFamilies <span class="sc">%&gt;%</span></span>
<span id="cb684-5"><a href="linear-models.html#cb684-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(family, gender) <span class="sc">%&gt;%</span></span>
<span id="cb684-6"><a href="linear-models.html#cb684-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_n</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb684-7"><a href="linear-models.html#cb684-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb684-8"><a href="linear-models.html#cb684-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb684-9"><a href="linear-models.html#cb684-9" aria-hidden="true" tabindex="-1"></a>cors <span class="ot">&lt;-</span> galton_heights <span class="sc">%&gt;%</span> </span>
<span id="cb684-10"><a href="linear-models.html#cb684-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(father<span class="sc">:</span>mother, <span class="at">names_to =</span> <span class="st">&quot;parent&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;parentHeight&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb684-11"><a href="linear-models.html#cb684-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">child =</span> <span class="fu">ifelse</span>(gender <span class="sc">==</span> <span class="st">&quot;female&quot;</span>, <span class="st">&quot;daughter&quot;</span>, <span class="st">&quot;son&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb684-12"><a href="linear-models.html#cb684-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(pair, <span class="fu">c</span>(<span class="st">&quot;parent&quot;</span>, <span class="st">&quot;child&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb684-13"><a href="linear-models.html#cb684-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pair) <span class="sc">%&gt;%</span></span>
<span id="cb684-14"><a href="linear-models.html#cb684-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">cor =</span> <span class="fu">cor</span>(parentHeight, childHeight))</span></code></pre></div>
<p>¿Son estas diferencias estadísticamente significativas? Para responder, calcularemos las pendientes de la línea de regresión junto con sus errores estándar. Comience usando <code>lm</code> y el paquete <strong>broom</strong> para calcular el LSE de las pendientes y los errores estándar.</p>
<p>2. Repita el ejercicio anterior, pero calcule también un intervalo de confianza.</p>
<p>3. Grafique los intervalos de confianza y observe que se superponen, que implica que los datos son consistentes con que la herencia de altura y sexo son independientes.</p>
<p>4. Debido a que estamos seleccionando niños al azar, podemos hacer algo como una prueba de permutación aquí. Repita el cálculo de correlaciones 100 veces tomando una muestra diferente cada vez. Sugerencia: use un código similar al que usamos con las simulaciones.</p>
<p>5. Ajuste un modelo de regresión lineal para obtener los efectos de BB y HR en las carreras (a nivel de equipo) para el año 1971. Utilice la función <code>tidy</code> del paquete <strong>broom</strong> para obtener los resultados en un <em>data frame</em>.</p>
<p>6. Ahora repita lo anterior para cada año desde 1961 y haga un gráfico. Utilice <code>summarize</code> y el paquete <strong>broom</strong> para ajustar este modelo para cada año desde 1961.</p>
<p>7. Use los resultados del ejercicio anterior para graficar los efectos estimados de BB en las carreras.</p>
<p>8. <strong>Avanzado</strong>: Escriba una función que tome R, HR y BB como argumentos y ajuste dos modelos lineales: <code>R ~ BB</code> y <code>R~BB+HR</code>. Luego use la función <code>summarize</code> para obtener el <code>BB</code> para ambos modelos para cada año desde 1961. Finalmente, grafíquelos como función de tiempo y compárelos.</p>
</div>
<div id="estudio-de-caso-moneyball-continuación" class="section level2" number="18.7">
<h2><span class="header-section-number">18.7</span> Estudio de caso: <em>Moneyball</em> (continuación)</h2>
<p>Al tratar de responder de cuán bien las BB predicen las carreras, la exploración de datos nos llevó a un modelo:</p>
<p><span class="math display">\[
\mbox{E}[R \mid BB = x_1, HR = x_2] = \beta_0 + \beta_1 x_1 + \beta_2 x_2
\]</span></p>
<p>Aquí, los datos son aproximadamente normales y las distribuciones condicionales también fueron normales. Por lo tanto, tiene sentido usar un modelo lineal:</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 x_{i,1} + \beta_2 x_{i,2} + \varepsilon_i
\]</span></p>
<p>con <span class="math inline">\(Y_i\)</span> representando carreras por juego para el equipo <span class="math inline">\(i\)</span>, <span class="math inline">\(x_{i,1}\)</span> representando BB por juego, y <span class="math inline">\(x_{i,2}\)</span> representando HR por juego. Para usar <code>lm</code> aquí, necesitamos que la función sepa que tenemos dos variables predictivas. Entonces usamos el símbolo <code>+</code> de la siguiente manera:</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="linear-models.html#cb685-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span></span>
<span id="cb685-2"><a href="linear-models.html#cb685-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb685-3"><a href="linear-models.html#cb685-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BB =</span> BB<span class="sc">/</span>G, <span class="at">HR =</span> HR<span class="sc">/</span>G, <span class="at">R =</span> R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb685-4"><a href="linear-models.html#cb685-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(R <span class="sc">~</span> BB <span class="sc">+</span> HR, <span class="at">data =</span> .)</span></code></pre></div>
<p>Nosotros podemos usar <code>tidy</code> para ver un buen resumen:</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb686-1"><a href="linear-models.html#cb686-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(fit, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb686-2"><a href="linear-models.html#cb686-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 x 7</span></span>
<span id="cb686-3"><a href="linear-models.html#cb686-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   term        estimate std.error statistic   p.value conf.low conf.high</span></span>
<span id="cb686-4"><a href="linear-models.html#cb686-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb686-5"><a href="linear-models.html#cb686-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 (Intercept)    1.74     0.0824      21.2 7.62e- 83    1.58      1.91 </span></span>
<span id="cb686-6"><a href="linear-models.html#cb686-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 BB             0.387    0.0270      14.3 1.20e- 42    0.334     0.440</span></span>
<span id="cb686-7"><a href="linear-models.html#cb686-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 HR             1.56     0.0490      31.9 1.78e-155    1.47      1.66</span></span></code></pre></div>
<p>Cuando ajustamos el modelo con una sola variable, las pendientes estimadas fueron 0.735 y 1.845 para BB y HR, respectivamente. Tengan en cuenta que cuando se ajusta el modelo de múltiples variables, ambos disminuyen, con el efecto BB disminuyendo mucho más.</p>
<p>Ahora queremos construir una métrica para elegir jugadores. Tenemos que considerar sencillos, dobles y triples. ¿Podemos construir un modelo que prediga carreras basado en todos estos resultados?</p>
<p>Ahora vamos a dar un “salto de fe” y suponer que estas cinco variables son conjuntamente normales. Esto significa que si elegimos cualquiera de ellas y mantenemos las otras cuatro fijas, la relación con el resultado es lineal y la pendiente no depende de los cuatro valores que se mantienen constantes. Si esto es cierto, entonces un modelo lineal para nuestros datos es:</p>
<p><span class="math display">\[
Y_i = \beta_0 + \beta_1 x_{i,1} + \beta_2 x_{i,2} + \beta_3 x_{i,3}+ \beta_4 x_{i,4} + \beta_5 x_{i,5} + \varepsilon_i
\]</span></p>
<p>con <span class="math inline">\(x_{i,1}, x_{i,2}, x_{i,3}, x_{i,4}, x_{i,5}\)</span> representando BB, sencillos, dobles, triples y HR respectivamente.</p>
<p>Utilizando <code>lm</code>, podemos encontrar rápidamente el LSE para los parámetros usando:</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="linear-models.html#cb687-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> Teams <span class="sc">%&gt;%</span></span>
<span id="cb687-2"><a href="linear-models.html#cb687-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1961</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb687-3"><a href="linear-models.html#cb687-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BB =</span> BB<span class="sc">/</span> G,</span>
<span id="cb687-4"><a href="linear-models.html#cb687-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">singles =</span> (H <span class="sc">-</span> X2B <span class="sc">-</span> X3B <span class="sc">-</span> HR)<span class="sc">/</span> G,</span>
<span id="cb687-5"><a href="linear-models.html#cb687-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">doubles =</span> X2B<span class="sc">/</span> G,</span>
<span id="cb687-6"><a href="linear-models.html#cb687-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">triples =</span> X3B<span class="sc">/</span> G,</span>
<span id="cb687-7"><a href="linear-models.html#cb687-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">HR =</span> HR<span class="sc">/</span> G,</span>
<span id="cb687-8"><a href="linear-models.html#cb687-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">R =</span> R<span class="sc">/</span> G) <span class="sc">%&gt;%</span></span>
<span id="cb687-9"><a href="linear-models.html#cb687-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(R <span class="sc">~</span> BB <span class="sc">+</span> singles <span class="sc">+</span> doubles <span class="sc">+</span> triples <span class="sc">+</span> HR, <span class="at">data =</span> .)</span></code></pre></div>
<p>Podemos ver los coeficientes usando <code>tidy</code>:</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb688-1"><a href="linear-models.html#cb688-1" aria-hidden="true" tabindex="-1"></a>coefs <span class="ot">&lt;-</span> <span class="fu">tidy</span>(fit, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb688-2"><a href="linear-models.html#cb688-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb688-3"><a href="linear-models.html#cb688-3" aria-hidden="true" tabindex="-1"></a>coefs</span>
<span id="cb688-4"><a href="linear-models.html#cb688-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 x 7</span></span>
<span id="cb688-5"><a href="linear-models.html#cb688-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   term        estimate std.error statistic   p.value conf.low conf.high</span></span>
<span id="cb688-6"><a href="linear-models.html#cb688-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb688-7"><a href="linear-models.html#cb688-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 (Intercept)   -2.77     0.0862     -32.1 4.76e-157   -2.94     -2.60 </span></span>
<span id="cb688-8"><a href="linear-models.html#cb688-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 BB             0.371    0.0117      31.6 1.87e-153    0.348     0.394</span></span>
<span id="cb688-9"><a href="linear-models.html#cb688-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 singles        0.519    0.0127      40.8 8.67e-217    0.494     0.544</span></span>
<span id="cb688-10"><a href="linear-models.html#cb688-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 doubles        0.771    0.0226      34.1 8.44e-171    0.727     0.816</span></span>
<span id="cb688-11"><a href="linear-models.html#cb688-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 triples        1.24     0.0768      16.1 2.12e- 52    1.09      1.39 </span></span>
<span id="cb688-12"><a href="linear-models.html#cb688-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 1 more row</span></span></code></pre></div>
<p>Para ver cuán bien nuestra métrica predice carreras, podemos predecir el número de carreras para cada equipo en 2002 usando la función <code>predict</code> y entonces hacer un gráfico:</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="linear-models.html#cb689-1" aria-hidden="true" tabindex="-1"></a>Teams <span class="sc">%&gt;%</span></span>
<span id="cb689-2"><a href="linear-models.html#cb689-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">2002</span>) <span class="sc">%&gt;%</span></span>
<span id="cb689-3"><a href="linear-models.html#cb689-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BB =</span> BB<span class="sc">/</span>G,</span>
<span id="cb689-4"><a href="linear-models.html#cb689-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">singles =</span> (H<span class="sc">-</span>X2B<span class="sc">-</span>X3B<span class="sc">-</span>HR)<span class="sc">/</span>G,</span>
<span id="cb689-5"><a href="linear-models.html#cb689-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">doubles =</span> X2B<span class="sc">/</span>G,</span>
<span id="cb689-6"><a href="linear-models.html#cb689-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">triples =</span>X3B<span class="sc">/</span>G,</span>
<span id="cb689-7"><a href="linear-models.html#cb689-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">HR=</span>HR<span class="sc">/</span>G,</span>
<span id="cb689-8"><a href="linear-models.html#cb689-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">R=</span>R<span class="sc">/</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb689-9"><a href="linear-models.html#cb689-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">R_hat =</span> <span class="fu">predict</span>(fit, <span class="at">newdata =</span> .)) <span class="sc">%&gt;%</span></span>
<span id="cb689-10"><a href="linear-models.html#cb689-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(R_hat, R, <span class="at">label =</span> teamID)) <span class="sc">+</span></span>
<span id="cb689-11"><a href="linear-models.html#cb689-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb689-12"><a href="linear-models.html#cb689-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">nudge_x=</span><span class="fl">0.1</span>, <span class="at">cex =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb689-13"><a href="linear-models.html#cb689-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>()</span></code></pre></div>
<p><img src="libro_files/figure-html/model-predicts-runs-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Nuestro modelo hace un buen trabajo, como lo demuestra el hecho de que los puntos del gráfico observado versus los del gráfico previsto caen cerca de la línea de identidad.</p>
<p>Entonces, en lugar de usar el promedio de bateo o solo el número de HR como una medida de selección de jugadores, podemos usar nuestro modelo ajustado para formar una métrica que se relacione más directamente con la producción de carreras. Específicamente, para definir una métrica para un jugador A, imaginamos un equipo compuesto por jugadores como el jugador A y usamos nuestro modelo de regresión ajustado para predecir cuántas carreras produciría este equipo. La fórmula se vería así:
-2.769 +
0.371 <span class="math inline">\(\times\)</span> BB +
0.519 <span class="math inline">\(\times\)</span> singles +
0.771 <span class="math inline">\(\times\)</span> dobles +
1.24 <span class="math inline">\(\times\)</span> triples +
1.443 <span class="math inline">\(\times\)</span> HR.</p>
<p>Para definir una métrica específica al jugador, tenemos un poco más de trabajo por hacer. Un reto aquí es que derivamos la métrica para equipos, basada en estadísticas de resumen a nivel de equipo. Por ejemplo, el valor de HR que se ingresa en la ecuación es HR por juego para todo el equipo. Si en cambio calculamos el HR por juego para un jugador, el valor será mucho más bajo dado que ya no son 9 bateadores contribuyendo al total sino un solo jugador. Además, si un jugador solo juega parte del juego y obtiene menos oportunidades que el promedio, todavía se considera un juego jugado. Para los jugadores, una tasa que toma en cuenta oportunidades es la tasa por turnos al bate.</p>
<p>Para hacer que la tasa de equipo por juego sea comparable a la tasa de jugador por turno al bate, calculamos el número promedio de turnos al bate por juego:</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="linear-models.html#cb690-1" aria-hidden="true" tabindex="-1"></a>pa_per_game <span class="ot">&lt;-</span> Batting <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">==</span> <span class="dv">2002</span>) <span class="sc">%&gt;%</span></span>
<span id="cb690-2"><a href="linear-models.html#cb690-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(teamID) <span class="sc">%&gt;%</span></span>
<span id="cb690-3"><a href="linear-models.html#cb690-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pa_per_game =</span> <span class="fu">sum</span>(AB<span class="sc">+</span>BB) <span class="sc">/</span> <span class="fu">max</span>(G)) <span class="sc">%&gt;%</span></span>
<span id="cb690-4"><a href="linear-models.html#cb690-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(pa_per_game) <span class="sc">%&gt;%</span></span>
<span id="cb690-5"><a href="linear-models.html#cb690-5" aria-hidden="true" tabindex="-1"></a>  mean</span></code></pre></div>
<p>Calculamos las tasas de turnos al bate para jugadores disponibles en 2002 con datos de 1997-2001. Para evitar pequeños artefactos de muestra, filtramos jugadores con menos de 200 turnos al bate por año. Aquí está el cálculo completo en una línea:</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="linear-models.html#cb691-1" aria-hidden="true" tabindex="-1"></a>players <span class="ot">&lt;-</span> Batting <span class="sc">%&gt;%</span> <span class="fu">filter</span>(yearID <span class="sc">%in%</span> <span class="dv">1997</span><span class="sc">:</span><span class="dv">2001</span>) <span class="sc">%&gt;%</span></span>
<span id="cb691-2"><a href="linear-models.html#cb691-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(playerID) <span class="sc">%&gt;%</span></span>
<span id="cb691-3"><a href="linear-models.html#cb691-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PA =</span> BB <span class="sc">+</span> AB) <span class="sc">%&gt;%</span></span>
<span id="cb691-4"><a href="linear-models.html#cb691-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">G =</span> <span class="fu">sum</span>(PA)<span class="sc">/</span>pa_per_game,</span>
<span id="cb691-5"><a href="linear-models.html#cb691-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">BB =</span> <span class="fu">sum</span>(BB)<span class="sc">/</span>G,</span>
<span id="cb691-6"><a href="linear-models.html#cb691-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">singles =</span> <span class="fu">sum</span>(H<span class="sc">-</span>X2B<span class="sc">-</span>X3B<span class="sc">-</span>HR)<span class="sc">/</span>G,</span>
<span id="cb691-7"><a href="linear-models.html#cb691-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">doubles =</span> <span class="fu">sum</span>(X2B)<span class="sc">/</span>G,</span>
<span id="cb691-8"><a href="linear-models.html#cb691-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">triples =</span> <span class="fu">sum</span>(X3B)<span class="sc">/</span>G,</span>
<span id="cb691-9"><a href="linear-models.html#cb691-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">HR =</span> <span class="fu">sum</span>(HR)<span class="sc">/</span>G,</span>
<span id="cb691-10"><a href="linear-models.html#cb691-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">AVG =</span> <span class="fu">sum</span>(H)<span class="sc">/</span><span class="fu">sum</span>(AB),</span>
<span id="cb691-11"><a href="linear-models.html#cb691-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">PA =</span> <span class="fu">sum</span>(PA)) <span class="sc">%&gt;%</span></span>
<span id="cb691-12"><a href="linear-models.html#cb691-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(PA <span class="sc">&gt;=</span> <span class="dv">1000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb691-13"><a href="linear-models.html#cb691-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>G) <span class="sc">%&gt;%</span></span>
<span id="cb691-14"><a href="linear-models.html#cb691-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">R_hat =</span> <span class="fu">predict</span>(fit, <span class="at">newdata =</span> .) <span class="sc">/</span> <span class="dv">9</span>)</span></code></pre></div>
<p>Como el modelo fue ajustado a data de equipos, dividimos la predicción entre 9 (el número de jugadores que batean) para que represente las carreras que predecimos cada jugador producirá por juego. La distribución demuestra que existe una gran variabilidad entre los jugadores:</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="linear-models.html#cb692-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(R_hat, <span class="at">data =</span> players, <span class="at">binwidth =</span> <span class="fl">0.05</span>, <span class="at">color =</span> <span class="fu">I</span>(<span class="st">&quot;black&quot;</span>))</span></code></pre></div>
<p><img src="libro_files/figure-html/r-hat-hist-1.png" width="70%" style="display: block; margin: auto;" /></p>
<div id="añadiendo-información-sobre-salario-y-posición" class="section level3" number="18.7.1">
<h3><span class="header-section-number">18.7.1</span> Añadiendo información sobre salario y posición</h3>
<p>Para realmente construir el equipo, necesitaremos conocer sus salarios y su posición defensiva. Para hacer esto, unimos el <em>data frame</em> <code>players</code> que acabamos de crear con el <em>data frame</em> de información del jugador incluido en algunas de las otras tablas de datos de <strong>Lahman</strong>. Aprenderemos más sobre la función <code>join</code> en la Sección <a href="unir-tablas.html#joins">22.1</a>.</p>
<p>Comiencen añadiendo los salarios del 2002 para cada jugador:</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb693-1"><a href="linear-models.html#cb693-1" aria-hidden="true" tabindex="-1"></a>players <span class="ot">&lt;-</span> Salaries <span class="sc">%&gt;%</span></span>
<span id="cb693-2"><a href="linear-models.html#cb693-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">==</span> <span class="dv">2002</span>) <span class="sc">%&gt;%</span></span>
<span id="cb693-3"><a href="linear-models.html#cb693-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(playerID, salary) <span class="sc">%&gt;%</span></span>
<span id="cb693-4"><a href="linear-models.html#cb693-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(players, <span class="at">by=</span><span class="st">&quot;playerID&quot;</span>)</span></code></pre></div>
<p>A continuación, agregamos su posición defensiva. Esta es una tarea algo complicada porque los jugadores juegan más de una posición cada año. La tabla <code>Appearances</code> del paquete <strong>Lahman</strong> indica cuántos juegos jugó cada jugador en cada posición y podemos elegir la posición que más se jugó usando <code>which.max</code> en cada fila. Usamos <code>apply</code> para hacer esto. Sin embargo, debido a que algunos jugadores son intercambiados, aparecen más de una vez en la tabla, por lo que primero sumamos sus turnos al bate en los equipos. Aquí, escogemos la posición en la que más jugó el jugador usando la función <code>top_n</code>. Para asegurarnos de que solo elegimos una posición, en el caso de empates, elegimos la primera fila del <em>data frame</em> resultante. También eliminamos la posición <code>OF</code> que significa <em>outfielder</em>, una generalización de tres posiciones: jardín izquierdo (LF o <em>left field</em> en inglés), jardín central (CF o <em>center field</em> en inglés) y campo derecho (RF o <em>right field</em> en inglés). Además, eliminamos los lanzadores, ya que no batean en la liga en la que juegan los Atléticos.</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="linear-models.html#cb694-1" aria-hidden="true" tabindex="-1"></a>position_names <span class="ot">&lt;-</span></span>
<span id="cb694-2"><a href="linear-models.html#cb694-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(<span class="st">&quot;G_&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;p&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;1b&quot;</span>,<span class="st">&quot;2b&quot;</span>,<span class="st">&quot;3b&quot;</span>,<span class="st">&quot;ss&quot;</span>,<span class="st">&quot;lf&quot;</span>,<span class="st">&quot;cf&quot;</span>,<span class="st">&quot;rf&quot;</span>, <span class="st">&quot;dh&quot;</span>))</span>
<span id="cb694-3"><a href="linear-models.html#cb694-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb694-4"><a href="linear-models.html#cb694-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> Appearances <span class="sc">%&gt;%</span></span>
<span id="cb694-5"><a href="linear-models.html#cb694-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yearID <span class="sc">==</span> <span class="dv">2002</span>) <span class="sc">%&gt;%</span></span>
<span id="cb694-6"><a href="linear-models.html#cb694-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(playerID) <span class="sc">%&gt;%</span></span>
<span id="cb694-7"><a href="linear-models.html#cb694-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_at</span>(position_names, sum) <span class="sc">%&gt;%</span></span>
<span id="cb694-8"><a href="linear-models.html#cb694-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb694-9"><a href="linear-models.html#cb694-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb694-10"><a href="linear-models.html#cb694-10" aria-hidden="true" tabindex="-1"></a>pos <span class="ot">&lt;-</span> tmp <span class="sc">%&gt;%</span></span>
<span id="cb694-11"><a href="linear-models.html#cb694-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(position_names) <span class="sc">%&gt;%</span></span>
<span id="cb694-12"><a href="linear-models.html#cb694-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply</span>(., <span class="dv">1</span>, which.max)</span>
<span id="cb694-13"><a href="linear-models.html#cb694-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Note: Using an external vector in selections is ambiguous.</span></span>
<span id="cb694-14"><a href="linear-models.html#cb694-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ Use `all_of(position_names)` instead of `position_names` to silence this message.</span></span>
<span id="cb694-15"><a href="linear-models.html#cb694-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ℹ See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.</span></span>
<span id="cb694-16"><a href="linear-models.html#cb694-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; This message is displayed once per session.</span></span>
<span id="cb694-17"><a href="linear-models.html#cb694-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb694-18"><a href="linear-models.html#cb694-18" aria-hidden="true" tabindex="-1"></a>players <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">playerID =</span> tmp<span class="sc">$</span>playerID, <span class="at">POS =</span> position_names[pos]) <span class="sc">%&gt;%</span></span>
<span id="cb694-19"><a href="linear-models.html#cb694-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">POS =</span> <span class="fu">str_to_upper</span>(<span class="fu">str_remove</span>(POS, <span class="st">&quot;G_&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb694-20"><a href="linear-models.html#cb694-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(POS <span class="sc">!=</span> <span class="st">&quot;P&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb694-21"><a href="linear-models.html#cb694-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(players, <span class="at">by=</span><span class="st">&quot;playerID&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb694-22"><a href="linear-models.html#cb694-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(POS) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(salary))</span></code></pre></div>
<p>Finalmente, agregamos su nombre y apellido:</p>
<div class="sourceCode" id="cb695"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb695-1"><a href="linear-models.html#cb695-1" aria-hidden="true" tabindex="-1"></a>players <span class="ot">&lt;-</span> Master <span class="sc">%&gt;%</span></span>
<span id="cb695-2"><a href="linear-models.html#cb695-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(playerID, nameFirst, nameLast, debut) <span class="sc">%&gt;%</span></span>
<span id="cb695-3"><a href="linear-models.html#cb695-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">debut =</span> <span class="fu">as.Date</span>(debut)) <span class="sc">%&gt;%</span></span>
<span id="cb695-4"><a href="linear-models.html#cb695-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">right_join</span>(players, <span class="at">by=</span><span class="st">&quot;playerID&quot;</span>)</span></code></pre></div>
<p>Si son fanáticos del béisbol, reconocerán a los 10 mejores jugadores:</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="linear-models.html#cb696-1" aria-hidden="true" tabindex="-1"></a>players <span class="sc">%&gt;%</span> <span class="fu">select</span>(nameFirst, nameLast, POS, salary, R_hat) <span class="sc">%&gt;%</span></span>
<span id="cb696-2"><a href="linear-models.html#cb696-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(R_hat)) <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="dv">10</span>)</span>
<span id="cb696-3"><a href="linear-models.html#cb696-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Selecting by R_hat</span></span>
<span id="cb696-4"><a href="linear-models.html#cb696-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    nameFirst nameLast POS   salary R_hat</span></span>
<span id="cb696-5"><a href="linear-models.html#cb696-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      Barry    Bonds  LF 15000000 0.938</span></span>
<span id="cb696-6"><a href="linear-models.html#cb696-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      Larry   Walker  RF 12666667 0.927</span></span>
<span id="cb696-7"><a href="linear-models.html#cb696-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3       Todd   Helton  1B  5000000 0.863</span></span>
<span id="cb696-8"><a href="linear-models.html#cb696-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4      Manny  Ramirez  LF 15462727 0.857</span></span>
<span id="cb696-9"><a href="linear-models.html#cb696-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      Sammy     Sosa  RF 15000000 0.840</span></span>
<span id="cb696-10"><a href="linear-models.html#cb696-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6       Jeff  Bagwell  1B 11000000 0.823</span></span>
<span id="cb696-11"><a href="linear-models.html#cb696-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7       Mike   Piazza   C 10571429 0.816</span></span>
<span id="cb696-12"><a href="linear-models.html#cb696-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8      Jason   Giambi  1B 10428571 0.807</span></span>
<span id="cb696-13"><a href="linear-models.html#cb696-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9      Edgar Martinez  DH  7086668 0.807</span></span>
<span id="cb696-14"><a href="linear-models.html#cb696-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10       Jim    Thome  1B  8000000 0.804</span></span></code></pre></div>
</div>
<div id="escoger-nueve-jugadores" class="section level3" number="18.7.2">
<h3><span class="header-section-number">18.7.2</span> Escoger nueve jugadores</h3>
<p>En promedio, los jugadores con una métrica más alta tienen salarios más altos:</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="linear-models.html#cb697-1" aria-hidden="true" tabindex="-1"></a>players <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(salary, R_hat, <span class="at">color =</span> POS)) <span class="sc">+</span></span>
<span id="cb697-2"><a href="linear-models.html#cb697-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb697-3"><a href="linear-models.html#cb697-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<p><img src="libro_files/figure-html/predicted-runs-vs-salary-1.png" width="70%" style="display: block; margin: auto;" /></p>
<!--Notice the very high salaries for most players. We do see some low-cost players with very high metrics. These will be great for our team. Some of these are likely young players that have not yet been able to negotiate a salary and are unavailable.

Aquí rehacemos el gráfico sin jugadores que debutaron antes de 1998. Usamos la función __lubridate__ `year`, introducido en la Sección \@ref(lubridate).

```r
library(lubridate)
players %>% filter(year(debut) < 1998) %>%
ggplot(aes(salary, R_hat, color = POS)) +
geom_point() +
scale_x_log10()
```

<img src="libro_files/figure-html/predicted-runs-vs-salary-no-rookies-1.png" width="70%" style="display: block; margin: auto;" />
-->
<p>Podemos buscar buenas ofertas mirando a los jugadores que producen muchas más carreras que otros con salarios similares. Podemos usar esta tabla para decidir qué jugadores escoger y mantener nuestro salario total por debajo de los 40 millones de dólares con los que tuvo que trabajar Billy Beane. Esto se puede hacer usando lo que los científicos de la computación llaman programación lineal. Esto no es algo que enseñamos, pero en la siguiente tabla mostramos los jugadores seleccionados con este acercamiento, la posición que juegan, su salario y las carreras que predecimos producirían. Vemos que, en promedio, nuestro equipo produciría 6.6 carreras por juego! En la tabla también mostramos estadísticas estandarizadas usando todos los jugadores, de modo que, por ejemplo, los bateadores de HR por encima del promedio tienen valores superiores a 0. Vemos que todos estos jugadores tienen BB por encima del promedio y la mayoría tienen tasas de HR por encima del promedio, mientras que lo mismo no es cierto para sencillos:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
nameFirst
</th>
<th style="text-align:left;">
nameLast
</th>
<th style="text-align:left;">
POS
</th>
<th style="text-align:left;">
salary
</th>
<th style="text-align:right;">
R_hat
</th>
<th style="text-align:right;">
BB
</th>
<th style="text-align:right;">
singles
</th>
<th style="text-align:right;">
doubles
</th>
<th style="text-align:right;">
triples
</th>
<th style="text-align:right;">
HR
</th>
<th style="text-align:right;">
AVG
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Todd
</td>
<td style="text-align:left;">
Helton
</td>
<td style="text-align:left;">
1B
</td>
<td style="text-align:left;">
5,000,000
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
-0.2
</td>
<td style="text-align:right;">
2.6
</td>
<td style="text-align:right;">
-0.3
</td>
<td style="text-align:right;">
1.5
</td>
<td style="text-align:right;">
2.7
</td>
</tr>
<tr>
<td style="text-align:left;">
Mike
</td>
<td style="text-align:left;">
Piazza
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
10,571,429
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
-1.4
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
2.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Edgar
</td>
<td style="text-align:left;">
Martinez
</td>
<td style="text-align:left;">
DH
</td>
<td style="text-align:left;">
7,086,668
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
2.1
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
-1.2
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
2.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Jim
</td>
<td style="text-align:left;">
Edmonds
</td>
<td style="text-align:left;">
CF
</td>
<td style="text-align:left;">
7,333,333
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-0.6
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
-1.2
</td>
<td style="text-align:right;">
1.0
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Jeff
</td>
<td style="text-align:left;">
Kent
</td>
<td style="text-align:left;">
2B
</td>
<td style="text-align:left;">
6,000,000
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
-0.7
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:left;">
Phil
</td>
<td style="text-align:left;">
Nevin
</td>
<td style="text-align:left;">
3B
</td>
<td style="text-align:left;">
2,600,000
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
-0.9
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
-1.2
</td>
<td style="text-align:right;">
1.2
</td>
<td style="text-align:right;">
0.1
</td>
</tr>
<tr>
<td style="text-align:left;">
Matt
</td>
<td style="text-align:left;">
Stairs
</td>
<td style="text-align:left;">
RF
</td>
<td style="text-align:left;">
500,000
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-1.5
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
-1.1
</td>
<td style="text-align:right;">
1.1
</td>
<td style="text-align:right;">
-0.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Henry
</td>
<td style="text-align:left;">
Rodriguez
</td>
<td style="text-align:left;">
LF
</td>
<td style="text-align:left;">
300,000
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
-1.6
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
-0.8
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
-0.7
</td>
</tr>
<tr>
<td style="text-align:left;">
John
</td>
<td style="text-align:left;">
Valentin
</td>
<td style="text-align:left;">
SS
</td>
<td style="text-align:left;">
550,000
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.2
</td>
<td style="text-align:right;">
-0.9
</td>
<td style="text-align:right;">
1.8
</td>
<td style="text-align:right;">
-0.4
</td>
<td style="text-align:right;">
0.0
</td>
<td style="text-align:right;">
-0.5
</td>
</tr>
</tbody>
</table>
<!--
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> nameFirst </th>
   <th style="text-align:left;"> nameLast </th>
   <th style="text-align:left;"> POS </th>
   <th style="text-align:left;"> salary </th>
   <th style="text-align:right;"> R_hat </th>
   <th style="text-align:right;"> BB </th>
   <th style="text-align:right;"> singles </th>
   <th style="text-align:right;"> doubles </th>
   <th style="text-align:right;"> triples </th>
   <th style="text-align:right;"> HR </th>
   <th style="text-align:right;"> AVG </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Todd </td>
   <td style="text-align:left;"> Helton </td>
   <td style="text-align:left;"> 1B </td>
   <td style="text-align:left;"> 5,000,000 </td>
   <td style="text-align:right;"> 0.9 </td>
   <td style="text-align:right;"> 0.9 </td>
   <td style="text-align:right;"> -0.2 </td>
   <td style="text-align:right;"> 2.6 </td>
   <td style="text-align:right;"> -0.3 </td>
   <td style="text-align:right;"> 1.5 </td>
   <td style="text-align:right;"> 2.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mike </td>
   <td style="text-align:left;"> Piazza </td>
   <td style="text-align:left;"> C </td>
   <td style="text-align:left;"> 10,571,429 </td>
   <td style="text-align:right;"> 0.8 </td>
   <td style="text-align:right;"> 0.3 </td>
   <td style="text-align:right;"> 0.4 </td>
   <td style="text-align:right;"> 0.2 </td>
   <td style="text-align:right;"> -1.4 </td>
   <td style="text-align:right;"> 1.8 </td>
   <td style="text-align:right;"> 2.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Edgar </td>
   <td style="text-align:left;"> Martinez </td>
   <td style="text-align:left;"> DH </td>
   <td style="text-align:left;"> 7,086,668 </td>
   <td style="text-align:right;"> 0.8 </td>
   <td style="text-align:right;"> 2.1 </td>
   <td style="text-align:right;"> 0.0 </td>
   <td style="text-align:right;"> 1.3 </td>
   <td style="text-align:right;"> -1.2 </td>
   <td style="text-align:right;"> 0.8 </td>
   <td style="text-align:right;"> 2.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jim </td>
   <td style="text-align:left;"> Edmonds </td>
   <td style="text-align:left;"> CF </td>
   <td style="text-align:left;"> 7,333,333 </td>
   <td style="text-align:right;"> 0.7 </td>
   <td style="text-align:right;"> 1.1 </td>
   <td style="text-align:right;"> -0.6 </td>
   <td style="text-align:right;"> 0.8 </td>
   <td style="text-align:right;"> -1.2 </td>
   <td style="text-align:right;"> 1.0 </td>
   <td style="text-align:right;"> 0.9 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Jeff </td>
   <td style="text-align:left;"> Kent </td>
   <td style="text-align:left;"> 2B </td>
   <td style="text-align:left;"> 6,000,000 </td>
   <td style="text-align:right;"> 0.7 </td>
   <td style="text-align:right;"> 0.2 </td>
   <td style="text-align:right;"> -0.7 </td>
   <td style="text-align:right;"> 2.0 </td>
   <td style="text-align:right;"> 0.4 </td>
   <td style="text-align:right;"> 0.8 </td>
   <td style="text-align:right;"> 0.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Phil </td>
   <td style="text-align:left;"> Nevin </td>
   <td style="text-align:left;"> 3B </td>
   <td style="text-align:left;"> 2,600,000 </td>
   <td style="text-align:right;"> 0.7 </td>
   <td style="text-align:right;"> 0.3 </td>
   <td style="text-align:right;"> -0.9 </td>
   <td style="text-align:right;"> 0.5 </td>
   <td style="text-align:right;"> -1.2 </td>
   <td style="text-align:right;"> 1.2 </td>
   <td style="text-align:right;"> 0.1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Matt </td>
   <td style="text-align:left;"> Stairs </td>
   <td style="text-align:left;"> RF </td>
   <td style="text-align:left;"> 500,000 </td>
   <td style="text-align:right;"> 0.7 </td>
   <td style="text-align:right;"> 1.1 </td>
   <td style="text-align:right;"> -1.5 </td>
   <td style="text-align:right;"> 0.0 </td>
   <td style="text-align:right;"> -1.1 </td>
   <td style="text-align:right;"> 1.1 </td>
   <td style="text-align:right;"> -0.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Henry </td>
   <td style="text-align:left;"> Rodriguez </td>
   <td style="text-align:left;"> LF </td>
   <td style="text-align:left;"> 300,000 </td>
   <td style="text-align:right;"> 0.7 </td>
   <td style="text-align:right;"> 0.2 </td>
   <td style="text-align:right;"> -1.6 </td>
   <td style="text-align:right;"> 0.3 </td>
   <td style="text-align:right;"> -0.8 </td>
   <td style="text-align:right;"> 1.3 </td>
   <td style="text-align:right;"> -0.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> John </td>
   <td style="text-align:left;"> Valentin </td>
   <td style="text-align:left;"> SS </td>
   <td style="text-align:left;"> 550,000 </td>
   <td style="text-align:right;"> 0.6 </td>
   <td style="text-align:right;"> 0.2 </td>
   <td style="text-align:right;"> -0.9 </td>
   <td style="text-align:right;"> 1.8 </td>
   <td style="text-align:right;"> -0.4 </td>
   <td style="text-align:right;"> 0.0 </td>
   <td style="text-align:right;"> -0.5 </td>
  </tr>
</tbody>
</table>
-->
</div>
</div>
<div id="la-falacia-de-la-regresión" class="section level2" number="18.8">
<h2><span class="header-section-number">18.8</span> La falacia de la regresión</h2>
<p>Wikipedia define la <em>maldición de segundo año</em> (<em>sophomore slump</em> en inglés) como:</p>
<blockquote>
<p>Una caída de segundo año o maldición de segundo año se refiere a una instancia en la que un segundo esfuerzo, o segundo año, no cumple con los estándares del primer esfuerzo. Se usa comúnmente para referirse a la apatía de los estudiantes (segundo año de secundaria, colegio o universidad), el rendimiento de los atletas (segunda temporada de juego), cantantes/bandas (segundo álbum), programas de televisión (segunda temporada) y películas (secuelas/precuelas).</p>
</blockquote>
<p>En las Grandes Ligas de Béisbol, el premio al novato del año (<em>Rookie of the Year</em> o ROY por sus siglas en inglés) se otorga al jugador de primer año que se considera que ha tenido el mejor desempeño. La frase <em>maldición de segundo año</em> se usa para describir la observación de que a los ganadores del premio ROY no les va tan bien durante su segundo año. Por ejemplo, este artículo de Fox Sports<a href="#fn81" class="footnote-ref" id="fnref81"><sup>81</sup></a> que pregunta “¿La impresionante clase de novatos del MLB de 2015 sufrirá una maldición de segundo año?”</p>
<p>¿Los datos confirman la existencia de una maldición de segundo año? Vamos a ver. Al examinar los datos para el promedio de bateo, vemos que esta observación es válida para los ROY de mayor rendimiento:</p>
<!--The data is available in the Lahman library, but we have to do some work to create a table with the statistics for all the ROY. First we create a table with player ID, their names, and their most played position.-->
<!--
Ahora, crearemos una tabla con solo los ganadores del premio ROY y agregaremos sus estadísticas de bateo. Filtramos a los lanzadores, ya que los lanzadores no reciben premios por batear y nos vamos a centrar en la ofensiva. Específicamente, nos enfocaremos en el promedio de bateo ya que es el resumen del que la mayoría de los expertos hablan cuando se habla de la caída de segundo año:
-->
<!--
También mantendremos solo las temporadas de novatos y de segundo año y eliminaremos a los jugadores que no jugaron las temporadas de segundo año:
-->
<!--
Finalmente, usaremos la función `spread` para tener una columna para los promedios de bateo de novato y segundo año
-->
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
nameFirst
</th>
<th style="text-align:left;">
nameLast
</th>
<th style="text-align:right;">
rookie_year
</th>
<th style="text-align:right;">
rookie
</th>
<th style="text-align:right;">
sophomore
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Willie
</td>
<td style="text-align:left;">
McCovey
</td>
<td style="text-align:right;">
1959
</td>
<td style="text-align:right;">
0.354
</td>
<td style="text-align:right;">
0.238
</td>
</tr>
<tr>
<td style="text-align:left;">
Ichiro
</td>
<td style="text-align:left;">
Suzuki
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
0.350
</td>
<td style="text-align:right;">
0.321
</td>
</tr>
<tr>
<td style="text-align:left;">
Al
</td>
<td style="text-align:left;">
Bumbry
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:right;">
0.337
</td>
<td style="text-align:right;">
0.233
</td>
</tr>
<tr>
<td style="text-align:left;">
Fred
</td>
<td style="text-align:left;">
Lynn
</td>
<td style="text-align:right;">
1975
</td>
<td style="text-align:right;">
0.331
</td>
<td style="text-align:right;">
0.314
</td>
</tr>
<tr>
<td style="text-align:left;">
Albert
</td>
<td style="text-align:left;">
Pujols
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
0.329
</td>
<td style="text-align:right;">
0.314
</td>
</tr>
</tbody>
</table>
<p>De hecho, la proporción de jugadores que tienen un promedio de bateo más bajo en su segundo año es 0.686.</p>
<p>Entonces, ¿es “nerviosismo” o “maldición?” Para responder a esta pregunta, volvamos nuestra atención a todos los jugadores que jugaron las temporadas 2013 y 2014 y batearon más de 130 veces (mínimo para ganar el ROY).</p>
<!--We perform similar operations to what we did above: -->
<p>El mismo patrón surge cuando miramos a los jugadores con el mejor desempeño: los promedios de bateo disminuyen para la mayoría de los mejores jugadores.</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
nameFirst
</th>
<th style="text-align:left;">
nameLast
</th>
<th style="text-align:right;">
2013
</th>
<th style="text-align:right;">
2014
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Miguel
</td>
<td style="text-align:left;">
Cabrera
</td>
<td style="text-align:right;">
0.348
</td>
<td style="text-align:right;">
0.313
</td>
</tr>
<tr>
<td style="text-align:left;">
Hanley
</td>
<td style="text-align:left;">
Ramirez
</td>
<td style="text-align:right;">
0.345
</td>
<td style="text-align:right;">
0.283
</td>
</tr>
<tr>
<td style="text-align:left;">
Michael
</td>
<td style="text-align:left;">
Cuddyer
</td>
<td style="text-align:right;">
0.331
</td>
<td style="text-align:right;">
0.332
</td>
</tr>
<tr>
<td style="text-align:left;">
Scooter
</td>
<td style="text-align:left;">
Gennett
</td>
<td style="text-align:right;">
0.324
</td>
<td style="text-align:right;">
0.289
</td>
</tr>
<tr>
<td style="text-align:left;">
Joe
</td>
<td style="text-align:left;">
Mauer
</td>
<td style="text-align:right;">
0.324
</td>
<td style="text-align:right;">
0.277
</td>
</tr>
</tbody>
</table>
<p>¡Pero estos no son novatos! Además, miren lo que les sucede a los peores jugadores del 2013:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
nameFirst
</th>
<th style="text-align:left;">
nameLast
</th>
<th style="text-align:right;">
2013
</th>
<th style="text-align:right;">
2014
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Danny
</td>
<td style="text-align:left;">
Espinosa
</td>
<td style="text-align:right;">
0.158
</td>
<td style="text-align:right;">
0.219
</td>
</tr>
<tr>
<td style="text-align:left;">
Dan
</td>
<td style="text-align:left;">
Uggla
</td>
<td style="text-align:right;">
0.179
</td>
<td style="text-align:right;">
0.149
</td>
</tr>
<tr>
<td style="text-align:left;">
Jeff
</td>
<td style="text-align:left;">
Mathis
</td>
<td style="text-align:right;">
0.181
</td>
<td style="text-align:right;">
0.200
</td>
</tr>
<tr>
<td style="text-align:left;">
B. J.
</td>
<td style="text-align:left;">
Upton
</td>
<td style="text-align:right;">
0.184
</td>
<td style="text-align:right;">
0.208
</td>
</tr>
<tr>
<td style="text-align:left;">
Adam
</td>
<td style="text-align:left;">
Rosales
</td>
<td style="text-align:right;">
0.190
</td>
<td style="text-align:right;">
0.262
</td>
</tr>
</tbody>
</table>
<p>¡Sus promedios de bateo en su mayoría suben! ¿Es esto una especie de “bendición” de segundo año? No lo es. No hay tal cosa como una maldición de segundo año. Todo esto se explica con un simple hecho estadístico: la correlación para el rendimiento en dos años separados es alta, pero no perfecta:</p>
<p><img src="libro_files/figure-html/regression-fallacy-1.png" width="40%" style="display: block; margin: auto;" /></p>
<p>La correlación es 0.46 y
los datos se parecen mucho a una distribución normal de dos variables, que significa que predecimos un promedio de bateo <span class="math inline">\(Y\)</span> del 2014 para cualquier jugador que tuviera un promedio de bateo <span class="math inline">\(X\)</span> en el 2013 con:</p>
<p><span class="math display">\[ \frac{Y - .255}{.032} = 0.46 \left( \frac{X - .261}{.023}\right) \]</span></p>
<p>Como la correlación no es perfecta, la regresión nos dice que, en promedio, esperamos que los jugadores de alto desempeño del 2013 tengan un peor desempeño en 2014. No es una maldición; es solo por casualidad. El ROY se selecciona de los valores superiores de <span class="math inline">\(X\)</span>, por lo cual se espera que <span class="math inline">\(Y\)</span> muestre regresión a la media.</p>
</div>
<div id="modelos-de-error-de-medición" class="section level2" number="18.9">
<h2><span class="header-section-number">18.9</span> Modelos de error de medición</h2>
<p>Hasta ahora, todos nuestros ejemplos de regresión lineal se han aplicado a dos o más variables aleatorias. Suponemos que los pares siguen una distribución normal de dos variables y lo usamos para motivar un modelo lineal. Este enfoque cubre la mayoría de los ejemplos reales de regresión lineal. La otra aplicación importante proviene de los modelos de errores de medición. En estas aplicaciones, es común tener una covariable no aleatoria, como el tiempo, y la aleatoriedad se introduce por error de medición en lugar de muestreo o variabilidad natural.</p>
<p>Para entender estos modelos, imaginen que son Galileo en el siglo XVI tratando de describir la velocidad de un objeto que cae. Un asistente sube a la torre de Pisa y deja caer una pelota, mientras que otros asistentes registran la posición en diferentes momentos. Simulemos algunos datos usando las ecuaciones que conocemos hoy y agregando algunos errores de medición. La función <code>rfalling_object</code> de <strong>dslabs</strong> genera estas simulaciones:</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb698-1"><a href="linear-models.html#cb698-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb698-2"><a href="linear-models.html#cb698-2" aria-hidden="true" tabindex="-1"></a>falling_object <span class="ot">&lt;-</span> <span class="fu">rfalling_object</span>()</span></code></pre></div>
<p>Los asistentes le entregan los datos a Galileo y esto es lo que él ve:</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="linear-models.html#cb699-1" aria-hidden="true" tabindex="-1"></a>falling_object <span class="sc">%&gt;%</span></span>
<span id="cb699-2"><a href="linear-models.html#cb699-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(time, observed_distance)) <span class="sc">+</span></span>
<span id="cb699-3"><a href="linear-models.html#cb699-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb699-4"><a href="linear-models.html#cb699-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Distance in meters&quot;</span>) <span class="sc">+</span></span>
<span id="cb699-5"><a href="linear-models.html#cb699-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Time in seconds&quot;</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/gravity-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Galileo no conoce la ecuación exacta, pero al observar el gráfico anterior, deduce que la posición debe seguir una parábola, que podemos escribir así:</p>
<p><span class="math display">\[ f(x) = \beta_0 + \beta_1 x + \beta_2 x^2\]</span></p>
<p>Los datos no caen exactamente en una parábola. Galileo sabe que esto se debe a un error de medición. Sus ayudantes cometen errores al medir la distancia. Para tomar esto en cuenta, modela los datos con:</p>
<p><span class="math display">\[ Y_i = \beta_0 + \beta_1 x_i + \beta_2 x_i^2 + \varepsilon_i, i=1,\dots,n \]</span></p>
<p>con <span class="math inline">\(Y_i\)</span> representando la distancia en metros, <span class="math inline">\(x_i\)</span> representando el tiempo en segundos y <span class="math inline">\(\varepsilon\)</span> tomando en cuenta el error de medición. Se supone que el error de medición sea aleatorio, independiente el uno del otro y que con la misma distribución para cada <span class="math inline">\(i\)</span>. También suponemos que no hay sesgo, que significa que el valor esperado <span class="math inline">\(\mbox{E}[\varepsilon] = 0\)</span>.</p>
<p>Noten que este es un modelo lineal porque es una combinación lineal de cantidades conocidas (<span class="math inline">\(x\)</span> y <span class="math inline">\(x^2\)</span> son conocidas) y parámetros desconocidos (los <span class="math inline">\(\beta\)</span>s son parámetros desconocidos para Galileo). A diferencia de nuestros ejemplos anteriores, aquí <span class="math inline">\(x\)</span> es una cantidad fija; no estamos condicionando.</p>
<p>Para plantear una nueva teoría física y comenzar a hacer predicciones sobre la caída de otros objetos, Galileo necesita números reales, en lugar de parámetros desconocidos. Usar el LSE parece un enfoque razonable. ¿Cómo encontramos el LSE?</p>
<p>Los cálculos del LSE no requieren que los errores sean aproximadamente normales. La función <code>lm</code> encontrará los <span class="math inline">\(\beta\)</span>s que minimizarán la suma residual de cuadrados:</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="linear-models.html#cb700-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> falling_object <span class="sc">%&gt;%</span></span>
<span id="cb700-2"><a href="linear-models.html#cb700-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time_sq =</span> time<span class="sc">^</span><span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb700-3"><a href="linear-models.html#cb700-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lm</span>(observed_distance<span class="sc">~</span>time<span class="sc">+</span>time_sq, <span class="at">data=</span>.)</span>
<span id="cb700-4"><a href="linear-models.html#cb700-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(fit)</span>
<span id="cb700-5"><a href="linear-models.html#cb700-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 x 5</span></span>
<span id="cb700-6"><a href="linear-models.html#cb700-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   term        estimate std.error statistic  p.value</span></span>
<span id="cb700-7"><a href="linear-models.html#cb700-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb700-8"><a href="linear-models.html#cb700-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 (Intercept)   56.1       0.592    94.9   2.23e-17</span></span>
<span id="cb700-9"><a href="linear-models.html#cb700-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 time          -0.786     0.845    -0.930 3.72e- 1</span></span>
<span id="cb700-10"><a href="linear-models.html#cb700-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 time_sq       -4.53      0.251   -18.1   1.58e- 9</span></span></code></pre></div>
<p>Verifiquemos si la parábola estimada se ajusta a los datos. La función <code>augment</code> de <strong>broom</strong> nos permite hacer esto fácilmente:</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="linear-models.html#cb701-1" aria-hidden="true" tabindex="-1"></a><span class="fu">augment</span>(fit) <span class="sc">%&gt;%</span></span>
<span id="cb701-2"><a href="linear-models.html#cb701-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb701-3"><a href="linear-models.html#cb701-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(time, observed_distance)) <span class="sc">+</span></span>
<span id="cb701-4"><a href="linear-models.html#cb701-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(time, .fitted), <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="libro_files/figure-html/falling-object-fit-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Gracias a nuestros maestros de física de escuela secundaria, sabemos que la ecuación para la trayectoria de un objeto que cae es:</p>
<p><span class="math display">\[d = h_0 + v_0 t - 0.5 \times 9.8 t^2\]</span></p>
<p>con <span class="math inline">\(h_0\)</span> y <span class="math inline">\(v_0\)</span> la altura inicial y la velocidad, respectivamente. Los datos que simulamos anteriormente siguieron esta ecuación y agregaron un error de medición a fin de simular <code>n</code> observaciones para dejar caer una pelota <span class="math inline">\((v_0=0)\)</span> desde la torre de Pisa <span class="math inline">\((h_0=55.86)\)</span>.</p>
<p>Estos son consistentes con los estimadores de los parámetros:</p>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="linear-models.html#cb702-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(fit, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span>
<span id="cb702-2"><a href="linear-models.html#cb702-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 x 7</span></span>
<span id="cb702-3"><a href="linear-models.html#cb702-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   term        estimate std.error statistic  p.value conf.low conf.high</span></span>
<span id="cb702-4"><a href="linear-models.html#cb702-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb702-5"><a href="linear-models.html#cb702-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 (Intercept)   56.1       0.592    94.9   2.23e-17    54.8      57.4 </span></span>
<span id="cb702-6"><a href="linear-models.html#cb702-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 time          -0.786     0.845    -0.930 3.72e- 1    -2.65      1.07</span></span>
<span id="cb702-7"><a href="linear-models.html#cb702-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 time_sq       -4.53      0.251   -18.1   1.58e- 9    -5.08     -3.98</span></span></code></pre></div>
<p>La altura de la torre de Pisa está dentro del intervalo de confianza para <span class="math inline">\(\beta_0\)</span>, la velocidad inicial 0 está en el intervalo de confianza para <span class="math inline">\(\beta_1\)</span> (recuerden que el valor-p es mayor que 0.05) y la constante de aceleración está en un intervalo de confianza para <span class="math inline">\(-2 \times \beta_2\)</span>.</p>
</div>
<div id="ejercicios-36" class="section level2" number="18.10">
<h2><span class="header-section-number">18.10</span> Ejercicios</h2>
<p>Desde la década de 1980, los <em>sabermetricians</em> han utilizado una estadística de resumen diferente del promedio de bateo para evaluar a los jugadores. Se dieron cuenta de que las BB eran importantes y que a los dobles, triples y HR se les debe dar más peso que los sencillos. Como resultado, propusieron la siguiente métrica:</p>
<p><span class="math display">\[
\frac{\mbox{BB}}{\mbox{PA}} + \frac{\mbox{Singles} + 2 \mbox{Doubles} + 3 \mbox{Triples} + 4\mbox{HR}}{\mbox{AB}}
\]</span></p>
<p>Denominaron a la métrica: <em>on-base-percentage plus slugging percentage</em> o OPS. Aunque los <em>sabermetricians</em> probablemente no usaron la regresión, aquí mostramos cómo OPS está cerca de lo que se obtiene con la regresión.</p>
<p>1. Calcule el OPS para cada equipo en la temporada 2001. Luego grafique carreras por juego versus OPS.</p>
<p>2. Para cada año desde 1961, calcule la correlación entre carreras por juego y OPS. Entonces grafique estas correlaciones como función del año.</p>
<p>3. Tenga en cuenta que podemos reescribir OPS como un promedio ponderado de BB, sencillos, dobles, triples y HR. Sabemos que los coeficientes para dobles, triples y HR son 2, 3 y 4 veces mayores que para los sencillos. ¿Pero y los BB? ¿Cuál es el peso para BB en relación con sencillos? Sugerencia: el peso de BB en relación con sencillos será una función de AB y PA.</p>
<p>4. Tenga en cuenta que el peso para BB, <span class="math inline">\(\frac{\mbox{AB}}{\mbox{PA}}\)</span>, cambiará de un equipo a otro. Para ver cuán variable es, calcule y grafique esta cantidad para cada equipo para cada año desde 1961. Luego vuelva a graficarla, pero en lugar de calcularla para cada equipo, calcule y grafique la razón para todo el año. Entonces, una vez que esté claro de que no hay mucha tendencia de tiempo o equipo, indique el promedio general.</p>
<p>5. Ahora sabemos que la fórmula para OPS es proporcional a <span class="math inline">\(0.91 \times \mbox{BB} + \mbox{singles} + 2 \times \mbox{doubles} + 3 \times \mbox{triples} + 4 \times \mbox{HR}\)</span>. Veamos cómo se comparan estos coeficientes con esos obtenidos con la regresión. Ajuste un modelo de regresión a los datos después de 1961, como se hizo anteriormente: usando estadísticas por juego para cada año para cada equipo. Después de ajustar este modelo, indique los coeficientes como pesos relativos al coeficiente para sencillos.</p>
<p>6. Vemos que nuestros coeficientes del modelo de regresión lineal siguen la misma tendencia general que esos utilizados por OPS, pero con un peso ligeramente menor para las métricas que no son sencillos. Para cada equipo en los años posteriores a 1961, calcule el OPS, las carreras predichas con el modelo de regresión y calcule la correlación entre los dos, así como la correlación con carreras por juego.</p>
<p>7. Vemos que el uso del enfoque de regresión predice carreras un poco mejor que OPS, pero no tanto. Sin embargo, tenga en cuenta que hemos estado calculando OPS y prediciendo carreras para los equipos cuando estas medidas se utilizan para evaluar a los jugadores. Demostremos que OPS es bastante similar a lo que se obtiene con la regresión a nivel de jugador. Para la temporada de 1961 y las posteriores, calcule el OPS y las carreras previstas de nuestro modelo para cada jugador y grafíquelas. Use la corrección de PA por juego que usamos en el capítulo anterior.</p>
<p>8. ¿Qué jugadores han mostrado la mayor diferencia entre su rango por carreras predichas y OPS?</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="71">
<li id="fn71"><p><a href="http://mlb.mlb.com/stats/league_leaders.jsp" class="uri">http://mlb.mlb.com/stats/league_leaders.jsp</a><a href="linear-models.html#fnref71" class="footnote-back">↩︎</a></p></li>
<li id="fn72"><p><a href="https://en.wikipedia.org/wiki/Bill_James" class="uri">https://en.wikipedia.org/wiki/Bill_James</a><a href="linear-models.html#fnref72" class="footnote-back">↩︎</a></p></li>
<li id="fn73"><p><a href="https://en.wikipedia.org/wiki/Sabermetrics" class="uri">https://en.wikipedia.org/wiki/Sabermetrics</a><a href="linear-models.html#fnref73" class="footnote-back">↩︎</a></p></li>
<li id="fn74"><p><a href="https://en.wikipedia.org/wiki/User:Cburnett" class="uri">https://en.wikipedia.org/wiki/User:Cburnett</a><a href="linear-models.html#fnref74" class="footnote-back">↩︎</a></p></li>
<li id="fn75"><p><a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en" class="uri">https://creativecommons.org/licenses/by-sa/3.0/deed.en</a> <a href="linear-models.html#fnref75" class="footnote-back">↩︎</a></p></li>
<li id="fn76"><p><a href="https://www.youtube.com/watch?v=xYxSZJ9GZ-w" class="uri">https://www.youtube.com/watch?v=xYxSZJ9GZ-w</a><a href="linear-models.html#fnref76" class="footnote-back">↩︎</a></p></li>
<li id="fn77"><p><a href="https://www.youtube.com/watch?v=JSE5kfxkzfk" class="uri">https://www.youtube.com/watch?v=JSE5kfxkzfk</a><a href="linear-models.html#fnref77" class="footnote-back">↩︎</a></p></li>
<li id="fn78"><p><a href="https://www.flickr.com/people/27003603@N00" class="uri">https://www.flickr.com/people/27003603@N00</a><a href="linear-models.html#fnref78" class="footnote-back">↩︎</a></p></li>
<li id="fn79"><p><a href="https://creativecommons.org/licenses/by-sa/2.0" class="uri">https://creativecommons.org/licenses/by-sa/2.0</a><a href="linear-models.html#fnref79" class="footnote-back">↩︎</a></p></li>
<li id="fn80"><p><a href="http://www.baseball-almanac.com/awards/lou_brock_award.shtml" class="uri">http://www.baseball-almanac.com/awards/lou_brock_award.shtml</a><a href="linear-models.html#fnref80" class="footnote-back">↩︎</a></p></li>
<li id="fn81"><p><a href="https://www.foxsports.com/stories/mlb/will-mlbs-tremendous-rookie-class-of-2015-suffer-a-sophomore-slump" class="uri">https://www.foxsports.com/stories/mlb/will-mlbs-tremendous-rookie-class-of-2015-suffer-a-sophomore-slump</a><a href="linear-models.html#fnref81" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="la-correlación-no-implica-causalidad.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslibro/edit/master/regression/moneyball-motivation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["libro.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
