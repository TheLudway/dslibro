<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 2 Lo básico de R | Introducción a la Ciencia de Datos</title>
  <meta name="description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, le permitirá a los lectores desarrollar destrezas como la programación R, wrangling de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 2 Lo básico de R | Introducción a la Ciencia de Datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, le permitirá a los lectores desarrollar destrezas como la programación R, wrangling de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 Lo básico de R | Introducción a la Ciencia de Datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, le permitirá a los lectores desarrollar destrezas como la programación R, wrangling de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-03-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started.html">
<link rel="next" href="conceptos-basicos-de-programacion.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a la Ciencia de Datos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#casos-de-estudio"><i class="fa fa-check"></i>Casos de estudio</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#quien-encontrara-util-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-cubre-este-libro"><i class="fa fa-check"></i>¿Que cubre este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-que-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>Scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#los-paneles"><i class="fa fa-check"></i><b>1.4.1</b> Los paneles</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#key-bindings"><i class="fa fa-check"></i><b>1.4.2</b> <em>Key bindings</em></a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#ejecutando-comandos-mientras-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Ejecutando comandos mientras edita <em>scripts</em></a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#cambio-de-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cambio de opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalacion-de-paquetes-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> Lo básico de R</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#caso-de-estudio-los-asesinatos-con-armas-en-ee.-uu."><i class="fa fa-check"></i><b>2.1</b> Caso de estudio: los asesinatos con armas en EE. UU.</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#lo-basico"><i class="fa fa-check"></i><b>2.2</b> Lo básico</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#las-funciones"><i class="fa fa-check"></i><b>2.2.3</b> Las funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-predefinidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos predefinidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#los-nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Los nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivantes"><i class="fa fa-check"></i><b>2.2.7</b> <em>Scripts</em> motivantes</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#comentando-su-codigo"><i class="fa fa-check"></i><b>2.2.8</b> Comentando su código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> <em>Data frames</em></a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#examinando-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Examinando un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-operador-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El operador de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numericos-de-caracteres-y-logicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, de caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectores"><i class="fa fa-check"></i><b>2.6</b> Vectores</a><ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#creando-un-subconjunto-subsetting"><i class="fa fa-check"></i><b>2.6.4</b> Creando un subconjunto (<em>subsetting</em>)</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#la-conversion-forzada"><i class="fa fa-check"></i><b>2.7</b> La conversión forzada</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#no-disponible-na"><i class="fa fa-check"></i><b>2.7.1</b> No disponible (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#sorting"><i class="fa fa-check"></i><b>2.9</b> <em>Sorting</em></a><ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.10</b> Ejercicios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmetica-de-vectores"><i class="fa fa-check"></i><b>2.11</b> Aritmética de vectores</a><ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#rescaling-un-vector"><i class="fa fa-check"></i><b>2.11.1</b> <em>Rescaling</em> un vector</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.11.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.12</b> Ejercicios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#la-indexacion"><i class="fa fa-check"></i><b>2.13</b> La indexación</a><ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#crear-subconjuntos-con-logicos"><i class="fa fa-check"></i><b>2.13.1</b> Crear subconjuntos con lógicos</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#los-operadores-logicos"><i class="fa fa-check"></i><b>2.13.2</b> Los operadores lógicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#los-graficos-basicos"><i class="fa fa-check"></i><b>2.15</b> Los gráficos básicos</a><ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.16</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a><ul>
<li class="chapter" data-level="3.1" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#definiendo-funciones"><i class="fa fa-check"></i><b>3.2</b> Definiendo funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#bucles-for"><i class="fa fa-check"></i><b>3.4</b> Bucles-for</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> La vectorización y los funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> El <em>tidyverse</em></a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Data <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#manipulacion-de-data-frames"><i class="fa fa-check"></i><b>4.3</b> Manipulación de <em>data frames</em></a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#agregar-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Agregar una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#crear-subconjuntos-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Crear subconjuntos con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-pipe"><i class="fa fa-check"></i><b>4.5</b> El <em>pipe</em>: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#resumiendo-datos"><i class="fa fa-check"></i><b>4.7</b> Resumiendo datos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Agrupe y luego resuma con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#ordenar-data-frames"><i class="fa fa-check"></i><b>4.8</b> Ordenar <em>data frames</em></a><ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#ordenar-anidadamente"><i class="fa fa-check"></i><b>4.8.1</b> Ordenar anidadamente</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#los-primeros-n"><i class="fa fa-check"></i><b>4.8.2</b> Los primeros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> <em>Tibbles</em></a><ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-muestran-mejor"><i class="fa fa-check"></i><b>4.10.1</b> Los <em>tibbles</em> se muestran mejor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.10.2</b> Los subconjuntos de <em>tibbles</em> son <em>tibbles</em></a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-pueden-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.10.3</b> Los <em>tibbles</em> pueden tener entradas complejas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.10.4</b> Los <em>tibbles</em> se pueden agrupar</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Crear un <em>tibble</em> usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.11</b> El operador punto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#los-condicionales-de-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Los condicionales de <em>tidyverse</em></a><ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Rutas y el directorio de trabajo</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminos-relativos-y-completos"><i class="fa fa-check"></i><b>5.1.2</b> Caminos relativos y completos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#generando-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Generando nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#copiando-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Copiando archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#descargando-archivos"><i class="fa fa-check"></i><b>5.4</b> Descargando archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funciones-de-importacion-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Funciones de importación de base R</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#organizando-datos-con-hojas-de-calculo"><i class="fa fa-check"></i><b>5.8</b> Organizando datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la Ciencia de Datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-basics" class="section level1">
<h1><span class="header-section-number">Capítulo 2</span> Lo básico de R</h1>
<p>En este libro, utilizaremos el ambiente de software R para todo nuestro análisis. Aprenderán R y las técnicas de análisis de datos simultáneamente. Por tanto, para continuar necesitarán acceso a R. También recomendamos el uso de un <em>Integrated Development Environment</em> (IDE), como RStudio, para guardar su trabajo. Recuerden que es común que un curso o taller ofrezca acceso a un ambiente de R y a un IDE a través de su navegador de Web, como lo hace RStudio cloud<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a>. Si tienen acceso a dicho recurso, no necesitan instalar R y RStudio. Sin embargo, si eventualmente quieren convertirse en analistas expertos de datos, recomendamos instalar estas herramientas en su computadora<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a>.
Tanto R como RStudio son gratuitos y están disponibles en línea.</p>
<div id="caso-de-estudio-los-asesinatos-con-armas-en-ee.-uu." class="section level2">
<h2><span class="header-section-number">2.1</span> Caso de estudio: los asesinatos con armas en EE. UU.</h2>
<p>Imagínese que vive en Europa y se le ofrece un trabajo en una empresa estadounidense con muchas ubicaciones por todo EE. UU.. Es un gran trabajo, pero noticias con titulares como <strong>Tasa de homicidios con armas de fuego de EE. UU. más alta que en otros países desarrollados</strong><a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> ¿se preocupa? Gráficos como el siguiente pueden preocuparle aún más:</p>
<p><img src="libro_files/figure-html/murder-rate-example-1-1.png" width="70%" style="display: block; margin: auto;" /></p>
<!--(Source:
[Ma&#39;ayan Rosenzweigh/ ABC News] (https://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership-homicide-rate-higher-than-other-developed-countries/), Datos de las estadísticas de homicidios de la UNODC) ->


O peor aún, esta versión de [everytown.org] (https://everytownresearch.org):
<img src="libro_files/figure-html/murder-rate-example-2-1.png" width="70%" style="display: block; margin: auto;" />

<!--(Source [everytown.org](https://everytownresearch.org))-->
<p>Pero entonces se recuerda que Estados Unidos es un país grande y diverso con 50 estados muy diferentes, además del Distrito de Columbia (DC).</p>
<p><img src="libro_files/figure-html/us-murders-by-state-map-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>California, por ejemplo, tiene una población más grande que Canadá, y 20 estados de EE.UU. tienen poblaciones más grandes que la de Noruega. En algunos aspectos, la variabilidad entre los estados de EE.UU. es parecida a la variabilidad entre los países de Europa. Además, aunque no se incluyen en los cuadros anteriores, las tasas de asesinatos en Lituania, Ucrania y Rusia son superiores a cuatro por cada 100.000. Entonces, es posible que las noticias que le preocupan sean demasiado superficiales. Tiene opciones de dónde puede vivir y desea determinar la seguridad de cada estado en particular. Obtendremos algunas ideas al examinar los datos relacionados con homicidios con armas de fuego de EE.UU. en 2010 usando R.</p>
<p>Antes de comenzar con nuestro ejemplo, necesitamos discutir la logística, así como algunos de los componentes básicos necesarios para obtener destrezas más avanzadas de R. recuerden que la utilidad de algunos de estos componentes básicos no siempre es inmediatamente obvia, pero luego en el libro apreciará haber dominado estas destrezas.</p>
</div>
<div id="lo-basico" class="section level2">
<h2><span class="header-section-number">2.2</span> Lo básico</h2>
<p>Antes de comenzar con el set de datos motivantes, necesitamos repasar los conceptos básicos de R.</p>
<div id="objetos" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Objetos</h3>
<p>Supongamos que unos estudiantes de secundaria nos piden ayuda para resolver varias ecuaciones cuadráticas de la forma <span class="math inline">\(ax^2+bx+c = 0\)</span>. La fórmula cuadrática nos ofrece las soluciones:</p>
<p><span class="math display">\[
\frac{-b - \sqrt{b^2 - 4ac}}{2a}\,\, \mbox{ and } \frac{-b + \sqrt{b^2 - 4ac}}{2a}
\]</span>
que por supuesto cambian dependiendo de los valores de <span class="math inline">\(a\)</span>, <span class="math inline">\(b\)</span> y <span class="math inline">\(c\)</span>. Una ventaja de los lenguajes de programación es poder definir variables y escribir expresiones con estas, como se hace en las matemáticas, para obtener una solución numérica. Escribiremos un código general para la ecuación cuadrática a continuación, pero si nos piden resolver <span class="math inline">\(x^2 + x -1 = 0\)</span>, entonces definimos:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">c &lt;-<span class="st"> </span><span class="dv">-1</span></a></code></pre></div>
<p>que almacena los valores para su uso posterior. Usamos <code>&lt;-</code> para asignar valores a las variables.</p>
<p>También podemos asignar valores usando <code>=</code> en lugar de <code>&lt;-</code>, pero recomendamos no usar <code>=</code> para evitar confusión.</p>
<p>Copie y pegue el código anterior en su consola para definir las tres variables. Tengan en cuenta que R no imprime nada cuando hacemos esta asignación. Esto significa que los objetos se definieron con éxito. Si hubiera cometido un error, habría aparecido un mensaje de error.</p>
<p>Para ver el valor almacenado en una variable, simplemente le pedimos a R que evalúe <code>a</code> y este muestra el valor almacenado:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">a</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<p>Una forma más explícita de pedirle a R que nos muestre el valor almacenado en <code>a</code> es usar <code>print</code> así:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">print</span>(a)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<p>Usamos el término “objeto” para describir cosas que están almacenadas en R. Las variables son ejemplos, pero los objetos también pueden ser entidades más complicadas como las funciones, que se describen más adelante.</p>
</div>
<div id="el-espacio-de-trabajo" class="section level3">
<h3><span class="header-section-number">2.2.2</span> El espacio de trabajo</h3>
<p>A medida que definimos objetos en la consola, estamos cambiando el espacio de trabajo (<em>workspace</em> en inglés). Pueden ver todas las variables guardadas en su espacio de trabajo al escribir:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">ls</span>()</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#&gt; [1] &quot;a&quot;        &quot;b&quot;        &quot;c&quot;        &quot;dat&quot;      &quot;img_path&quot; &quot;murders&quot;</span></a></code></pre></div>
<p>En RStudio, la pestaña <em>Environment</em> muestra los valores:</p>
<p><img src="R/img/rstudio-environment.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Deberíamos ver <code>a</code>, <code>b</code> y <code>c</code>. Si intenta recuperar el valor de una variable que no está en su espacio de trabajo, recibirá un mensaje de error. Por ejemplo, si escribe <code>x</code>, verá lo siguiente: <code>Error: object 'x' not found</code>.</p>
<p>Ahora, dado que estos valores se guardan en variables, para resolver nuestra ecuación, utilizamos la fórmula cuadrática:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c) )<span class="op">/</span><span class="st"> </span>( <span class="dv">2</span><span class="op">*</span>a )</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; [1] 0.618</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c) )<span class="op">/</span><span class="st"> </span>( <span class="dv">2</span><span class="op">*</span>a )</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; [1] -1.62</span></a></code></pre></div>
</div>
<div id="las-funciones" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Las funciones</h3>
<p>Una vez que definan las variables, el proceso de análisis de datos generalmente se puede describir como una serie de funciones aplicadas a los datos. R incluye varias funciones predefinidas y la mayoría de las líneas de análisis que construimos hacen uso extensivo de ellas.</p>
<p>Ya usamos las funciones <code>install.packages</code>, <code>library</code> y <code>ls</code>. También usamos la función <code>sqrt</code> para solucionar la ecuación cuadrática anterior. Hay muchas más funciones predefinidas y hasta más se pueden añadir a través de paquetes. Estas no aparecen en el espacio de trabajo porque no las definieron, pero están disponibles para su uso inmediato.</p>
<p>En general, necesitamos usar paréntesis para evaluar una función. Si escriben <code>ls</code>, la función no se evalúa y en cambio R les muestra el código que la define. Si escriben <code>ls()</code>, la función se evalúa y, como ya se mostró, vemos objetos en el espacio de trabajo.</p>
<p>A diferencia de <code>ls</code>, la mayoría de las funciones requieren uno o más argumentos. A continuación se muestra un ejemplo de cómo asignamos un objeto al argumento de la función <code>log</code>. Recuerden que anteriormente definimos <code>a</code> como 1:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">log</span>(<span class="dv">8</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; [1] 2.08</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="kw">log</span>(a)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; [1] 0</span></a></code></pre></div>
<p>Pueden averiguar lo que la función espera y lo que hace revisando unos manuales muy útiles incluidos en R. Pueden obtener ayuda utilizando la función <code>help</code> así:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">help</span>(<span class="st">&quot;log&quot;</span>)</a></code></pre></div>
<p>Para la mayoría de las funciones, también podemos usar esta abreviatura:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">?log</a></code></pre></div>
<p>La página de ayuda les mostrarán qué argumentos espera la función. Por ejemplo, <code>log</code> necesita <code>x</code> y <code>base</code> para correr. Sin embargo, algunos argumentos son obligatorios y otros son opcionales. Pueden determinar cuáles son opcionales observando en el documento de ayuda que <code>=</code> asigna un valor predeterminado. Definir esto es opcional. Por ejemplo, la base de la función <code>log</code> por defecto es <code>base = exp(1)</code> haciendo <code>log</code> el registro natural por defecto.</p>
<p>Para echar un vistazo rápido a los argumentos sin abrir el sistema de ayuda, pueden escribir:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">args</span>(log)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="co">#&gt; function (x, base = exp(1)) </span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="co">#&gt; NULL</span></a></code></pre></div>
<p>Pueden cambiar los valores predeterminados simplemente asignando otro objeto:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">log</span>(<span class="dv">8</span>, <span class="dt">base =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<p>Recuerden que no hemos estado especificando el argumento <code>x</code> como tal:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">log</span>(<span class="dt">x =</span> <span class="dv">8</span>, <span class="dt">base =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<p>El código anterior funciona, pero también podemos ahorrarnos un poco de tecleo: si no usan un nombre de argumento, R supone que están ingresando argumentos en el orden en que se muestran en el archivo de ayuda o por <code>args</code>. Entonces, al no usar los nombres, R supone que los argumentos son <code>x</code> seguido por <code>base</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">log</span>(<span class="dv">8</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<p>Si usan los nombres de los argumentos, podemos incluirlos en el orden en que queramos:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">log</span>(<span class="dt">base =</span> <span class="dv">2</span>, <span class="dt">x =</span> <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<p>Para especificar argumentos, debemos usar <code>=</code> y no <code>&lt;-</code>.</p>
<p>Hay algunas excepciones a la regla de que las funciones necesitan los paréntesis para ser evaluadas. Entre estas, los más utilizados son los operadores aritméticos y relacionales. Por ejemplo:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="dv">2</span><span class="op">^</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="co">#&gt; [1] 8</span></a></code></pre></div>
<p>Pueden ver los operadores aritméticos al escribir:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">help</span>(<span class="st">&quot;+&quot;</span>)</a></code></pre></div>
<p>o</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">?<span class="st">&quot;+&quot;</span></a></code></pre></div>
<p>y los operadores relacionales al escribir:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">help</span>(<span class="st">&quot;&gt;&quot;</span>)</a></code></pre></div>
<p>o</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">?<span class="st">&quot;&gt;&quot;</span></a></code></pre></div>
</div>
<div id="otros-objetos-predefinidos" class="section level3">
<h3><span class="header-section-number">2.2.4</span> Otros objetos predefinidos</h3>
<p>Hay varios sets de datos que se incluyen para que los usuarios practiquen y prueben las funciones. Pueden ver todos los sets de datos disponibles escribiendo:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">data</span>()</a></code></pre></div>
<p>Esto les muestra el nombre del objeto para estos sets de datos. Estos sets de datos son objetos que se pueden usar simplemente escribiendo el nombre. Por ejemplo, si escriben:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">co2</a></code></pre></div>
<p>R les mostrará los datos de concentración de CO2 atmosférico de Mauna Loa.</p>
<p>Otros objetos predefinidos son cantidades matemáticas, como la constante <span class="math inline">\(\pi\)</span> y <span class="math inline">\(\infty\)</span>:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">pi</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="co">#&gt; [1] 3.14</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="ot">Inf</span><span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="co">#&gt; [1] Inf</span></a></code></pre></div>
</div>
<div id="los-nombres-de-variables" class="section level3">
<h3><span class="header-section-number">2.2.5</span> Los nombres de variables</h3>
<p>Hemos usado las letras <code>a</code>, <code>b</code> y <code>c</code> como nombres de variables, pero estos pueden ser casi cualquier cosa. Algunas reglas básicas en R son que los nombres de variables tienen que comenzar con una letra, no pueden contener espacios y no deben ser variables predefinidas en R. Por ejemplo, no nombren una de sus variables <code>install.packages</code> escribiendo algo como:
<code>install.packages &lt;- 2</code>.</p>
<p>Una buena convención a seguir es usar palabras significativas que describan lo que está almacenado, usar solo minúsculas y usar guiones bajos como sustituto de espacios. Para las ecuaciones cuadráticas, podríamos usar algo como:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">solution_<span class="dv">1</span> &lt;-<span class="st"> </span>(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</a>
<a class="sourceLine" id="cb27-2" data-line-number="2">solution_<span class="dv">2</span> &lt;-<span class="st"> </span>(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</a></code></pre></div>
<p>Para obtener más consejos, recomendamos estudiar la guía de estilo de Hadley Wickham<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>.</p>
</div>
<div id="guardar-su-espacio-de-trabajo" class="section level3">
<h3><span class="header-section-number">2.2.6</span> Guardar su espacio de trabajo</h3>
<p>Los valores permanecen en el espacio de trabajo hasta que finalicen sus sesiones o las borren con la función <code>rm</code>. Pero los espacios de trabajo también se pueden guardar para su uso posterior. De hecho, al salir de R, el programa les pregunta si desean guardar su espacio de trabajo. Si lo guardan, la próxima vez que inicien R, el programa restaurará el espacio de trabajo.</p>
<p>Recomendamos no guardar el espacio de trabajo así porque, a medida que comiencen a trabajar en diferentes proyectos, será más difícil darle seguimiento de lo que se guarda. En cambio, les recomendamos que le asignen al espacio de trabajo un nombre específico. Pueden hacer esto usando las funciones <code>save</code> o <code>save.image</code>. Para cargar, usen la función <code>load</code>. Al guardar un espacio de trabajo, recomendamos el sufijo <code>rda</code> o <code>RData</code>. En RStudio, también pueden hacerlo navegando a la pestaña <em>Session</em> y eligiendo <em>Save Workspace as</em>. Luego pueden cargarlo usando las opciones <em>Load Workspace</em> en la misma pestaña. Si quieren aprender más, lean las páginas de ayuda (<em>help pages</em> en inglés) en <code>save</code>, <code>save.image</code> y <code>load</code>.</p>
</div>
<div id="scripts-motivantes" class="section level3">
<h3><span class="header-section-number">2.2.7</span> <em>Scripts</em> motivantes</h3>
<p>Para resolver otra ecuación como <span class="math inline">\(3x^2 + 2x -1\)</span>, podemos copiar y pegar el código anterior, redefinir las variables y volver a calcular la solución:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3">c &lt;-<span class="st"> </span><span class="dv">-1</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4">(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</a>
<a class="sourceLine" id="cb28-5" data-line-number="5">(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</a></code></pre></div>
<p>Al crear y guardar un <em>script</em> con el código anterior, ya no tendrán que volver a escribirlo todo cada vez, sino simplemente cambiar los nombres de las variables. Intenten escribir la secuencia de comandos anteriores en un editor y observen lo fácil que es cambiar las variables y recibir una respuesta.</p>
</div>
<div id="comentando-su-codigo" class="section level3">
<h3><span class="header-section-number">2.2.8</span> Comentando su código</h3>
<p>Si una línea de código R comienza con el símbolo <code>#</code>, no se evalúa. Podemos usar esto para escribir recordatorios de por qué escribimos un código particular. Por ejemplo, en el <em>script</em> anterior, podríamos agregar:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co">## Código para calcular la solución a la ecuación cuadrática de la forma ax^2 + bx + c</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="co">## definir las variables</span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3">a &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4">b &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5">c &lt;-<span class="st"> </span><span class="dv">-1</span></a>
<a class="sourceLine" id="cb29-6" data-line-number="6"></a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="co">## ahora calcule la solución</span></a>
<a class="sourceLine" id="cb29-8" data-line-number="8">(<span class="op">-</span>b <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</a>
<a class="sourceLine" id="cb29-9" data-line-number="9">(<span class="op">-</span>b <span class="op">-</span><span class="st"> </span><span class="kw">sqrt</span>(b<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span><span class="op">*</span>a<span class="op">*</span>c))<span class="op">/</span><span class="st"> </span>(<span class="dv">2</span><span class="op">*</span>a)</a></code></pre></div>
</div>
</div>
<div id="ejercicios" class="section level2">
<h2><span class="header-section-number">2.3</span> Ejercicios</h2>
<p>1. ¿Cuál es la suma de los primeros 100 números enteros positivos? La fórmula para la suma de enteros <span class="math inline">\(1\)</span> a <span class="math inline">\(n\)</span> es <span class="math inline">\(n(n+1)/2\)</span>. Defina <span class="math inline">\(n=100\)</span> y luego use R para calcular la suma de <span class="math inline">\(1\)</span> a <span class="math inline">\(100\)</span> usando la fórmula. ¿Cuál es la suma?</p>
<p>2. Ahora use la misma fórmula para calcular la suma de los enteros del 1 a 1000.</p>
<p>3. Mire el resultado de escribir el siguiente código en R:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="dv">1000</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, n)</a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="kw">sum</span>(x)</a></code></pre></div>
<p>Basado en el resultado, ¿qué cree que hacen las funciones <code>seq</code> y <code>sum</code>? Puede usar <code>help</code>.</p>
<ol style="list-style-type: lower-alpha">
<li><code>sum</code> crea una lista de números y <code>seq</code> los suma.</li>
<li><code>seq</code> crea una lista de números y <code>sum</code> los suma.</li>
<li><code>seq</code> crea una lista aleatoria y <code>sum</code> calcula la suma de 1 a 1000.</li>
<li><code>sum</code> siempre devuelve el mismo número.</li>
</ol>
<p>4. En las matemáticas y la programación, decimos que evaluamos una función cuando reemplazamos el argumento con un número dado. Entonces si escribimos <code>sqrt(4)</code>, evaluamos la función <code>sqrt</code>. En R, se puede evaluar una función dentro de otra función. Las evaluaciones suceden de adentro hacia afuera. Use una línea de código para calcular el registro, en base 10, de la raíz cuadrada de 100.</p>
<p>5. ¿Cuál de los siguientes siempre devolverá el valor numérico almacenado en <code>x</code>? Puede probar ejemplos y usar el sistema de ayuda si lo desea.</p>
<ol style="list-style-type: lower-alpha">
<li><code>log(10^x)</code></li>
<li><code>log10(x^10)</code></li>
<li><code>log(exp(x))</code></li>
<li><code>exp(log(x, base = 2))</code></li>
</ol>
</div>
<div id="tipos-de-datos" class="section level2">
<h2><span class="header-section-number">2.4</span> Tipos de datos</h2>
<p>Las variables en R pueden ser de diferentes tipos. Por ejemplo, necesitamos distinguir números de cadenas de caracteres y tablas de listas sencillas de números. La función <code>class</code> nos ayuda a determinar qué tipo de objeto tenemos:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw">class</span>(a)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="co">#&gt; [1] &quot;numeric&quot;</span></a></code></pre></div>
<p>Para trabajar eficientemente en R, es importante aprender los diferentes tipos de variables y qué podemos hacer con ellos.</p>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">2.4.1</span> <em>Data frames</em></h3>
<p>Hasta ahora, las variables que hemos definido son solo un número. Esto no es muy útil para almacenar datos. La forma más común de almacenar un set de datos en R es usando un <em>data frame</em>. Conceptualmente, podemos pensar en un <em>data frame</em> como una tabla con filas que representan observaciones y con columnas que representan las diferentes variables recopiladas para cada observación. Los <em>data frames</em> son particularmente útiles para sets de datos porque podemos combinar diferentes tipos de datos en un solo objeto.</p>
<p>Una gran proporción de los retos del análisis de datos comienza con datos almacenados en un <em>data frame</em>. Por ejemplo, almacenamos los datos para nuestro ejemplo motivante en un <em>data frame</em>. Pueden tener acceso a este set de datos cargando la biblioteca <strong>dslabs</strong> y el set de datos <code>murders</code> utilizando la función <code>data</code>:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="kw">data</span>(murders)</a></code></pre></div>
<p>Para verificar que esto es un <em>data frame</em>, escribimos:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">class</span>(murders)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="co">#&gt; [1] &quot;data.frame&quot;</span></a></code></pre></div>
</div>
<div id="examinando-un-objeto" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Examinando un objeto</h3>
<p>La función <code>str</code> es útil para obtener más información sobre la estructura de un objeto:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">str</span>(murders)</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="co">#&gt; &#39;data.frame&#39;:    51 obs. of  5 variables:</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="co">#&gt; $ state : chr &quot;Alabama&quot; &quot;Alaska&quot; &quot;Arizona&quot; &quot;Arkansas&quot; ...</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="co">#&gt; $ abb : chr &quot;AL&quot; &quot;AK&quot; &quot;AZ&quot; &quot;AR&quot; ...</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="co">#&gt; $ region : Factor w/ 4 levels &quot;Northeast&quot;,&quot;South&quot;,..: 2 4 4 2 4 4 1 2 2</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="co">#&gt;    2 ...</span></a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="co">#&gt; $ population: num 4779736 710231 6392017 2915918 37253956 ...</span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="co">#&gt; $ total : num 135 19 232 93 1257 ...</span></a></code></pre></div>
<p>Esto nos dice mucho más sobre el objeto. Vemos que la tabla tiene 51 filas (50 estados más DC) y cinco variables. Podemos mostrar las primeras seis líneas usando la función <code>head</code>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">head</span>(murders)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="co">#&gt;        state abb region population total</span></a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="co">#&gt; 1    Alabama  AL  South    4779736   135</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4"><span class="co">#&gt; 2     Alaska  AK   West     710231    19</span></a>
<a class="sourceLine" id="cb35-5" data-line-number="5"><span class="co">#&gt; 3    Arizona  AZ   West    6392017   232</span></a>
<a class="sourceLine" id="cb35-6" data-line-number="6"><span class="co">#&gt; 4   Arkansas  AR  South    2915918    93</span></a>
<a class="sourceLine" id="cb35-7" data-line-number="7"><span class="co">#&gt; 5 California  CA   West   37253956  1257</span></a>
<a class="sourceLine" id="cb35-8" data-line-number="8"><span class="co">#&gt; 6   Colorado  CO   West    5029196    65</span></a></code></pre></div>
<p>En este set de datos, cada estado se considera una observación y se incluyen cinco variables para cada estado.</p>
<p>Antes de continuar con la respuesta a nuestra pregunta original sobre los diferentes estados, repasemos más sobre los componentes de este objeto.</p>
</div>
<div id="el-operador-de-acceso" class="section level3">
<h3><span class="header-section-number">2.4.3</span> El operador de acceso: <code>$</code></h3>
<p>Para nuestro análisis, necesitaremos acceso a las diferentes variables representadas por columnas incluidas en este <em>data frame</em>. Para hacer esto, utilizamos el operador de acceso <code>$</code> de la siguiente manera:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">murders<span class="op">$</span>population</a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="co">#&gt;  [1]  4779736   710231  6392017  2915918 37253956  5029196  3574097</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="co">#&gt;  [8]   897934   601723 19687653  9920000  1360301  1567582 12830632</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="co">#&gt; [15]  6483802  3046355  2853118  4339367  4533372  1328361  5773552</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="co">#&gt; [22]  6547629  9883640  5303925  2967297  5988927   989415  1826341</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="co">#&gt; [29]  2700551  1316470  8791894  2059179 19378102  9535483   672591</span></a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="co">#&gt; [36] 11536504  3751351  3831074 12702379  1052567  4625364   814180</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="co">#&gt; [43]  6346105 25145561  2763885   625741  8001024  6724540  1852994</span></a>
<a class="sourceLine" id="cb36-9" data-line-number="9"><span class="co">#&gt; [50]  5686986   563626</span></a></code></pre></div>
<p>¿Pero cómo supimos usar <code>population</code>? Anteriormente, aplicando la función <code>str</code> al objeto <code>murders</code>, revelamos los nombres de cada una de las cinco variables almacenadas en esta tabla. Podemos tener acceso rápido a los nombres de las variables usando:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">names</span>(murders)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="co">#&gt; [1] &quot;state&quot;      &quot;abb&quot;        &quot;region&quot;     &quot;population&quot; &quot;total&quot;</span></a></code></pre></div>
<p>Es importante saber que el orden de las entradas en <code>murders$population</code> conserva el orden de las filas en nuestra tabla de datos. Esto luego nos permitirá manipular una variable basada en los resultados de otra. Por ejemplo, podremos ordenar los nombres de los estados según el número de asesinatos.</p>
<p><strong>Consejo</strong>: R viene con una muy buena funcionalidad de autocompletar que nos ahorra la molestia de escribir todos los nombres. Escriban <code>murders$p</code> y luego presionen la tecla <em>tab</em> en su teclado. Esta funcionalidad y muchas otras funciones útiles de autocompletar están disponibles cuando se trabaja en RStudio.</p>
</div>
<div id="vectores-numericos-de-caracteres-y-logicos" class="section level3">
<h3><span class="header-section-number">2.4.4</span> Vectores: numéricos, de caracteres y lógicos</h3>
<p>El objeto <code>murders$population</code> no es un número sino varios. Llamamos “vectores” a este tipo de objeto. Un solo número es técnicamente un vector de longitud 1, pero en general usamos el término vectores para referirnos a objetos con varias entradas. La función <code>length</code> les dice cuántas entradas hay en el vector:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">pop &lt;-<span class="st"> </span>murders<span class="op">$</span>population</a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="kw">length</span>(pop)</a>
<a class="sourceLine" id="cb38-3" data-line-number="3"><span class="co">#&gt; [1] 51</span></a></code></pre></div>
<p>Este vector particular es numérico ya que los tamaños de la población son números:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">class</span>(pop)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="co">#&gt; [1] &quot;numeric&quot;</span></a></code></pre></div>
<p>En un vector numérico, cada entrada debe ser un número.</p>
<p>Para almacenar una secuencia de caracteres, los vectores también pueden ser de la clase caracter. Por ejemplo, los nombres de los estados son caracteres:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">class</span>(murders<span class="op">$</span>state)</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>Al igual que con los vectores numéricos, todas las entradas en un vector de caracteres deben ser un carácter.</p>
<p>Otro tipo importante de vectores son los vectores lógicos. Estos deben ser <code>TRUE</code> o <code>FALSE</code>.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">z &lt;-<span class="st"> </span><span class="dv">3</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2">z</a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb41-4" data-line-number="4"><span class="kw">class</span>(z)</a>
<a class="sourceLine" id="cb41-5" data-line-number="5"><span class="co">#&gt; [1] &quot;logical&quot;</span></a></code></pre></div>
<p>Aquí el <code>==</code> es un operador relacional que pregunta si 3 es igual a 2. En R, usar solo un <code>=</code> asigna una variable, pero si usan dos <code>==</code> entonces coteja si los objetos son iguales.</p>
<p>Pueden ver esto al escribir:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">?Comparison</a></code></pre></div>
<p>En futuras secciones, observarán lo útil que pueden ser los símbolos de relación.</p>
<p>Discutimos características más importantes de los vectores después de los siguientes ejercicios.</p>
<p><strong>Avanzado</strong>: Matemáticamente, los valores en <code>pop</code> son números enteros y hay una clase de enteros en R. Sin embargo, por defecto, a los números se les asigna una clase numérica incluso cuando son enteros redondos. Por ejemplo, <code>class(1)</code> devuelve numérico. Pueden convertirlo en un entero de clase con la función <code>as.integer()</code> o agregando un <code>L</code> así: <code>1L</code>. Tengan en cuenta la clase escribiendo: <code>class(1L)</code></p>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.4.5</span> Factores</h3>
<p>En el set de datos <code>murders</code>, se podría esperar que la región también sea un vector de caracteres. Sin embargo, no lo es:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">class</span>(murders<span class="op">$</span>region)</a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="co">#&gt; [1] &quot;factor&quot;</span></a></code></pre></div>
<p>Es un factor. Los factores son útiles para almacenar datos categóricos. Podemos ver que solo hay cuatro regiones al utilizar la función <code>levels</code>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw">levels</span>(murders<span class="op">$</span>region)</a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="co">#&gt; [1] &quot;Northeast&quot;     &quot;South&quot;         &quot;North Central&quot; &quot;West&quot;</span></a></code></pre></div>
<p>En el fondo, R almacena estos <em>levels</em> como números enteros y mantiene un mapa para llevar un registro de las etiquetas. Esto es más eficiente en terminos de memoria que almacenar todos los caracteres.</p>
<p>Recuerden que el orden de los <em>levels</em> es diferente del orden en que aparecen en el factor. El valor por defecto de los <em>levels</em> es seguir el orden alfabético. Sin embargo, a veces queremos que los <em>levels</em> sigan un orden diferente. Tendremos varios ejemplos de esto en la parte del libro sobre la visualización de datos. La función <code>reorder</code> nos permite cambiar el orden de los <em>levels</em> de un factor variable según un resumen calculado en un vector numérico. Demostremos esto con un ejemplo sencillo.</p>
<p>Supongamos que queremos los <em>levels</em> de la región ordenados por el número total de asesinatos en vez de por orden alfabético. Si hay valores asociados con cada <em>level</em>, podemos usar <code>reorder</code> y especificar un resumen de datos para determinar el orden. El siguiente código toma la suma del total de asesinatos en cada región y reordena el factor según esta.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">region &lt;-<span class="st"> </span>murders<span class="op">$</span>region</a>
<a class="sourceLine" id="cb45-2" data-line-number="2">value &lt;-<span class="st"> </span>murders<span class="op">$</span>total</a>
<a class="sourceLine" id="cb45-3" data-line-number="3">region &lt;-<span class="st"> </span><span class="kw">reorder</span>(region, value, <span class="dt">FUN =</span> sum)</a>
<a class="sourceLine" id="cb45-4" data-line-number="4"><span class="kw">levels</span>(region)</a>
<a class="sourceLine" id="cb45-5" data-line-number="5"><span class="co">#&gt; [1] &quot;Northeast&quot;     &quot;North Central&quot; &quot;West&quot;          &quot;South&quot;</span></a></code></pre></div>
<p>El nuevo orden concuerda con el hecho de que hay menos asesinatos en el noreste y más en el sur.</p>
<p><strong>Advertencia</strong>: Los factores pueden ser una fuente de confusión ya que a veces se comportan como caracteres y otras veces no. Como resultado, estos son una fuente común de errores.</p>
</div>
<div id="listas" class="section level3">
<h3><span class="header-section-number">2.4.6</span> Listas</h3>
<p><em>Data frames</em> son un caso especial de <em>listas</em>. Cubriremos las listas con más detalle más adelante, pero sabemos que son útiles porque pueden almacenar cualquier combinación de diferentes tipos. Aquí creamos una lista para servir de ejemplo :</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">record</a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="co">#&gt; $name</span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="co">#&gt; [1] &quot;John Doe&quot;</span></a>
<a class="sourceLine" id="cb46-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb46-5" data-line-number="5"><span class="co">#&gt; $student_id</span></a>
<a class="sourceLine" id="cb46-6" data-line-number="6"><span class="co">#&gt; [1] 1234</span></a>
<a class="sourceLine" id="cb46-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb46-8" data-line-number="8"><span class="co">#&gt; $grades</span></a>
<a class="sourceLine" id="cb46-9" data-line-number="9"><span class="co">#&gt; [1] 95 82 91 97 93</span></a>
<a class="sourceLine" id="cb46-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb46-11" data-line-number="11"><span class="co">#&gt; $final_grade</span></a>
<a class="sourceLine" id="cb46-12" data-line-number="12"><span class="co">#&gt; [1] &quot;A&quot;</span></a>
<a class="sourceLine" id="cb46-13" data-line-number="13"><span class="kw">class</span>(record)</a>
<a class="sourceLine" id="cb46-14" data-line-number="14"><span class="co">#&gt; [1] &quot;list&quot;</span></a></code></pre></div>
<p>Al igual que con los <em>data frames</em>, pueden extraer los componentes de una lista con el operador de acceso: <code>$</code>. De hecho, los <em>data frames</em> son un tipo de lista.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">record<span class="op">$</span>student_id</a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="co">#&gt; [1] 1234</span></a></code></pre></div>
<p>También podemos usar corchetes dobles ( <code>[[</code>) así:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">record[[<span class="st">&quot;student_id&quot;</span>]]</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="co">#&gt; [1] 1234</span></a></code></pre></div>
<p>Deben acostumbrarse al hecho de que en R a menudo hay varias formas de hacer lo mismo, como tener acceso a las entradas.</p>
<p>También pueden encontrar listas sin nombres de variables.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">record2</a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="co">#&gt; [1] &quot;John Doe&quot;</span></a>
<a class="sourceLine" id="cb49-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb49-5" data-line-number="5"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb49-6" data-line-number="6"><span class="co">#&gt; [1] 1234</span></a></code></pre></div>
<p>Si una lista no tiene nombres, no pueden extraer los elementos con <code>$</code>, pero pueden usar el método de corchetes. En vez de proporcionar el nombre de la variable, pueden proporcionar el índice de la lista de la siguiente manera:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">record2[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="co">#&gt; [1] &quot;John Doe&quot;</span></a></code></pre></div>
<p>No usaremos listas hasta más tarde, pero es posible que encuentren una en sus propias exploraciones de R. Por eso, les mostramos algunos conceptos básicos aquí.</p>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">2.4.7</span> Matrices</h3>
<p>Las matrices son otro tipo de objeto común en R. Las matrices son similares a los <em>data frames</em> en que son bidimensionales: tienen filas y columnas. Sin embargo, al igual que los vectores numéricos, de caracteres y lógicos, las entradas en las matrices deben ser del mismo tipo. Por esta razón, los <em>data frames</em> son mucho más útiles para almacenar datos, ya que podemos tener caracteres, factores y números en ellos.</p>
<p>Sin embargo, las matrices tienen una gran ventaja sobre los <em>data frames</em>: podemos realizar operaciones de álgebra de matrices, un poderoso tipo de técnica matemática. No describimos estas operaciones en este libro, pero gran parte de lo que sucede en segundo plano cuando realiza un análisis de datos involucra matrices. Cubrimos las matrices con más detalle en el Capítulo <a href="#matrix-algebra"><strong>??</strong></a> pero también las discutimos brevemente aquí, ya que algunas de las funciones que aprenderemos devuelven matrices.</p>
<p>Podemos definir una matriz usando la función <code>matrix</code>. Necesitamos especificar el número de filas y columnas.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb51-2" data-line-number="2">mat</a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb51-4" data-line-number="4"><span class="co">#&gt; [1,]    1    5    9</span></a>
<a class="sourceLine" id="cb51-5" data-line-number="5"><span class="co">#&gt; [2,]    2    6   10</span></a>
<a class="sourceLine" id="cb51-6" data-line-number="6"><span class="co">#&gt; [3,]    3    7   11</span></a>
<a class="sourceLine" id="cb51-7" data-line-number="7"><span class="co">#&gt; [4,]    4    8   12</span></a></code></pre></div>
<p>Pueden acceder a entradas específicas en una matriz usando corchetes ( <code>[</code>). Si desean la segunda fila, tercera columna, usen:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">mat[<span class="dv">2</span>, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="co">#&gt; [1] 10</span></a></code></pre></div>
<p>Si desean toda la segunda fila, dejen vacío el lugar de la columna:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">mat[<span class="dv">2</span>, ]</a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="co">#&gt; [1]  2  6 10</span></a></code></pre></div>
<p>Tengan en cuenta que esto devuelve un vector, no una matriz.</p>
<p>Del mismo modo, si desean la tercera columna completa, dejen el lugar de la fila vacío:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">mat[, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="co">#&gt; [1]  9 10 11 12</span></a></code></pre></div>
<p>Esto también es un vector, no una matriz.</p>
<p>Pueden acceder a más de una columna o más de una fila si lo desean. Esto le darán una nueva matriz.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">mat[, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb55-3" data-line-number="3"><span class="co">#&gt; [1,]    5    9</span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"><span class="co">#&gt; [2,]    6   10</span></a>
<a class="sourceLine" id="cb55-5" data-line-number="5"><span class="co">#&gt; [3,]    7   11</span></a>
<a class="sourceLine" id="cb55-6" data-line-number="6"><span class="co">#&gt; [4,]    8   12</span></a></code></pre></div>
<p>Pueden crear subconjuntos basados en las filas tanto como las columnas:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">mat[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb56-3" data-line-number="3"><span class="co">#&gt; [1,]    5    9</span></a>
<a class="sourceLine" id="cb56-4" data-line-number="4"><span class="co">#&gt; [2,]    6   10</span></a></code></pre></div>
<p>Podemos convertir matrices en <em>data frames</em> usando la función <code>as.data.frame</code>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">as.data.frame</span>(mat)</a>
<a class="sourceLine" id="cb57-2" data-line-number="2"><span class="co">#&gt;   V1 V2 V3</span></a>
<a class="sourceLine" id="cb57-3" data-line-number="3"><span class="co">#&gt; 1  1  5  9</span></a>
<a class="sourceLine" id="cb57-4" data-line-number="4"><span class="co">#&gt; 2  2  6 10</span></a>
<a class="sourceLine" id="cb57-5" data-line-number="5"><span class="co">#&gt; 3  3  7 11</span></a>
<a class="sourceLine" id="cb57-6" data-line-number="6"><span class="co">#&gt; 4  4  8 12</span></a></code></pre></div>
<p>También pueden usar corchetes individuales ( <code>[</code>) para acceder a las filas y las columnas de un <em>data frame</em>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</a>
<a class="sourceLine" id="cb58-2" data-line-number="2">murders[<span class="dv">25</span>, <span class="dv">1</span>]</a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="co">#&gt; [1] &quot;Mississippi&quot;</span></a>
<a class="sourceLine" id="cb58-4" data-line-number="4">murders[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>, ]</a>
<a class="sourceLine" id="cb58-5" data-line-number="5"><span class="co">#&gt;     state abb region population total</span></a>
<a class="sourceLine" id="cb58-6" data-line-number="6"><span class="co">#&gt; 2  Alaska  AK   West     710231    19</span></a>
<a class="sourceLine" id="cb58-7" data-line-number="7"><span class="co">#&gt; 3 Arizona  AZ   West    6392017   232</span></a></code></pre></div>
</div>
</div>
<div id="ejercicios-1" class="section level2">
<h2><span class="header-section-number">2.5</span> Ejercicios</h2>
<p>1. Cargue el set de datos de asesinatos de EE. UU..</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="kw">data</span>(murders)</a></code></pre></div>
<p>Use la función <code>str</code> para examinar la estructura del objeto <code>murders</code>. ¿Cuál de las siguientes opciones describe mejor las variables representadas en este <em>data frame</em>?</p>
<ol style="list-style-type: lower-alpha">
<li>Los 51 estados.</li>
<li>Las tasas de asesinatos para los 50 estados y DC.</li>
<li>El nombre del estado, la abreviatura del nombre del estado, la región del estado y la población y el número total de asesinatos para 2010 del estado.</li>
<li><code>str</code> no muestra información relevante.</li>
</ol>
<p>2. ¿Cuáles son los nombres de columna utilizados por el <em>data frame</em> para estas cinco variables?</p>
<p>3. Use el operador de acceso <code>$</code> para extraer las abreviaturas de los estados y asignarlas al objeto <code>a</code>. ¿Cuál es la clase de este objeto?</p>
<p>4. Ahora use los corchetes para extraer las abreviaturas de los estados y asignarlas al objeto <code>b</code>. Utilice la función <code>identical</code> para determinar si <code>a</code> y <code>b</code> son iguales.</p>
<p>5. Vimos que la columna <code>region</code> almacena un factor. Puede corroborar esto escribiendo:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">class</span>(murders<span class="op">$</span>region)</a></code></pre></div>
<p>Con una línea de código, use las funciones <code>levels</code> y <code>length</code> para determinar el número de regiones definidas por este set de datos.</p>
<p>6. La función <code>table</code> toma un vector y devuelve la frecuencia de cada elemento. Puede ver rápidamente cuántos estados hay en cada región aplicando esta función. Use esta función en una línea de código para crear una tabla de estados por región.</p>
</div>
<div id="vectores" class="section level2">
<h2><span class="header-section-number">2.6</span> Vectores</h2>
<p>En R, los objetos más básicos disponibles para almacenar datos son <em>vectores</em>. Como hemos visto, los sets de datos complejos generalmente se pueden dividir en componentes que son vectores. Por ejemplo, en un <em>data frame</em>, cada columna es un vector. Aquí aprendemos más sobre esta clase importante.</p>
<div id="crear-vectores" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Crear vectores</h3>
<p>Podemos crear vectores usando la función <code>c</code>, que significa “concatenar” (<em>concatenate</em> en inglés). Usamos <code>c</code> para concatenar entradas de la siguiente manera:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)</a>
<a class="sourceLine" id="cb61-2" data-line-number="2">codes</a>
<a class="sourceLine" id="cb61-3" data-line-number="3"><span class="co">#&gt; [1] 380 124 818</span></a></code></pre></div>
<p>También podemos crear vectores de caracteres. Usamos las comillas para denotar que las entradas son caracteres en lugar de nombres de variables.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1">country &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;italy&quot;</span>, <span class="st">&quot;canada&quot;</span>, <span class="st">&quot;egypt&quot;</span>)</a></code></pre></div>
<p>En R también pueden usar comillas sencillas:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1">country &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;italy&#39;</span>, <span class="st">&#39;canada&#39;</span>, <span class="st">&#39;egypt&#39;</span>)</a></code></pre></div>
<p>Pero tengan cuidado de no confundir la comilla sencilla ’ con el <em>back quote</em> `.</p>
<p>A estas alturas ya deberían saber que si escriben:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">country &lt;-<span class="st"> </span><span class="kw">c</span>(italy, canada, egypt)</a></code></pre></div>
<p>reciben un error porque las variables <code>italy</code>, <code>canada</code> y <code>egypt</code> no están definidas. Si no usamos las comillas, R busca variables con esos nombres y devuelve un error.</p>
</div>
<div id="nombres" class="section level3">
<h3><span class="header-section-number">2.6.2</span> Nombres</h3>
<p>A veces es útil nombrar las entradas de un vector. Por ejemplo, al definir un vector de códigos de país, podemos usar los nombres para conectar los dos:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">italy =</span> <span class="dv">380</span>, <span class="dt">canada =</span> <span class="dv">124</span>, <span class="dt">egypt =</span> <span class="dv">818</span>)</a>
<a class="sourceLine" id="cb65-2" data-line-number="2">codes</a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="co">#&gt;  italy canada  egypt </span></a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="co">#&gt;    380    124    818</span></a></code></pre></div>
<p>El objeto <code>codes</code> sigue siendo un vector numérico:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">class</span>(codes)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="co">#&gt; [1] &quot;numeric&quot;</span></a></code></pre></div>
<p>pero con nombres:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw">names</span>(codes)</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="co">#&gt; [1] &quot;italy&quot;  &quot;canada&quot; &quot;egypt&quot;</span></a></code></pre></div>
<p>Si el uso de cadenas sin comillas parece confuso, sepan que también pueden usar las comillas:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;italy&quot;</span> =<span class="st"> </span><span class="dv">380</span>, <span class="st">&quot;canada&quot;</span> =<span class="st"> </span><span class="dv">124</span>, <span class="st">&quot;egypt&quot;</span> =<span class="st"> </span><span class="dv">818</span>)</a>
<a class="sourceLine" id="cb68-2" data-line-number="2">codes</a>
<a class="sourceLine" id="cb68-3" data-line-number="3"><span class="co">#&gt;  italy canada  egypt </span></a>
<a class="sourceLine" id="cb68-4" data-line-number="4"><span class="co">#&gt;    380    124    818</span></a></code></pre></div>
<p>No hay diferencia entre esta llamada a función (<em>function call</em> en inglés) y la anterior. Esta es una de las muchas formas en que R es peculiar en comparación con otros lenguajes.</p>
<p>También podemos asignar nombres usando la función <code>names</code>:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">codes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">380</span>, <span class="dv">124</span>, <span class="dv">818</span>)</a>
<a class="sourceLine" id="cb69-2" data-line-number="2">country &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;italy&quot;</span>,<span class="st">&quot;canada&quot;</span>,<span class="st">&quot;egypt&quot;</span>)</a>
<a class="sourceLine" id="cb69-3" data-line-number="3"><span class="kw">names</span>(codes) &lt;-<span class="st"> </span>country</a>
<a class="sourceLine" id="cb69-4" data-line-number="4">codes</a>
<a class="sourceLine" id="cb69-5" data-line-number="5"><span class="co">#&gt;  italy canada  egypt </span></a>
<a class="sourceLine" id="cb69-6" data-line-number="6"><span class="co">#&gt;    380    124    818</span></a></code></pre></div>
</div>
<div id="secuencias" class="section level3">
<h3><span class="header-section-number">2.6.3</span> Secuencias</h3>
<p>Otra función útil para crear vectores genera secuencias:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb70-2" data-line-number="2"><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></a></code></pre></div>
<p>El primer argumento define el inicio y el segundo define el final que incluimos. El valor por defecto es subir en incrementos de 1, pero un tercer argumento nos permite decir cuánto saltar:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="co">#&gt; [1] 1 3 5 7 9</span></a></code></pre></div>
<p>Si queremos enteros consecutivos, podemos usar la siguiente taquigrafía:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></a></code></pre></div>
<p>Cuando usamos estas funciones, R produce números enteros, no numéricos, porque generalmente se usan para indexar algo:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">class</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="co">#&gt; [1] &quot;integer&quot;</span></a></code></pre></div>
<p>Sin embargo, si creamos una secuencia que incluye no enteros, la clase cambia:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="kw">class</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="fl">0.5</span>))</a>
<a class="sourceLine" id="cb74-2" data-line-number="2"><span class="co">#&gt; [1] &quot;numeric&quot;</span></a></code></pre></div>
</div>
<div id="creando-un-subconjunto-subsetting" class="section level3">
<h3><span class="header-section-number">2.6.4</span> Creando un subconjunto (<em>subsetting</em>)</h3>
<p>Usamos corchetes para tener acceso a elementos específicos de un vector. Para el vector <code>codes</code> que definimos anteriormente, podemos tener acceso al segundo elemento usando:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">codes[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb75-2" data-line-number="2"><span class="co">#&gt; canada </span></a>
<a class="sourceLine" id="cb75-3" data-line-number="3"><span class="co">#&gt;    124</span></a></code></pre></div>
<p>Pueden obtener más de una entrada utilizando un vector de entradas múltiples como índice:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">codes[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]</a>
<a class="sourceLine" id="cb76-2" data-line-number="2"><span class="co">#&gt; italy egypt </span></a>
<a class="sourceLine" id="cb76-3" data-line-number="3"><span class="co">#&gt;   380   818</span></a></code></pre></div>
<p>Las secuencias definidas anteriormente son particularmente útiles si necesitamos acceso, digamos, a los dos primeros elementos:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1">codes[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb77-2" data-line-number="2"><span class="co">#&gt;  italy canada </span></a>
<a class="sourceLine" id="cb77-3" data-line-number="3"><span class="co">#&gt;    380    124</span></a></code></pre></div>
<p>Si los elementos tienen nombres, también podemos acceder a las entradas utilizando estos nombres. A continuación ofrecemos dos ejemplos:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">codes[<span class="st">&quot;canada&quot;</span>]</a>
<a class="sourceLine" id="cb78-2" data-line-number="2"><span class="co">#&gt; canada </span></a>
<a class="sourceLine" id="cb78-3" data-line-number="3"><span class="co">#&gt;    124</span></a>
<a class="sourceLine" id="cb78-4" data-line-number="4">codes[<span class="kw">c</span>(<span class="st">&quot;egypt&quot;</span>,<span class="st">&quot;italy&quot;</span>)]</a>
<a class="sourceLine" id="cb78-5" data-line-number="5"><span class="co">#&gt; egypt italy </span></a>
<a class="sourceLine" id="cb78-6" data-line-number="6"><span class="co">#&gt;   818   380</span></a></code></pre></div>
</div>
</div>
<div id="la-conversion-forzada" class="section level2">
<h2><span class="header-section-number">2.7</span> La conversión forzada</h2>
<p>En general, la <em>conversión forzada</em> (<em>coercion</em> en inglés) es un intento de R de ser flexible con los tipos de datos. Cuando una entrada no coincide con lo esperado, algunas de las funciones predefinidas de R tratan de adivinar lo que uno intentaba antes de devolver un mensaje de error. Esto también puede causar confusión. Al no entender la coerción, los programadores pueden volverse locos cuando codifican en R, ya que R se comporta de manera bastante diferente a la mayoría de los otros idiomas en cuanto a esto. Aprendamos más con unos ejemplos.</p>
<p>Dijimos que los vectores deben ser todos del mismo tipo. Entonces, si tratamos de combinar, por ejemplo, números y caracteres, pueden esperar un error:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="st">&quot;canada&quot;</span>, <span class="dv">3</span>)</a></code></pre></div>
<p>¡Pero no nos da uno, ni siquiera una advertencia! ¿Que pasó? Mire <code>x</code> y su clase:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">x</a>
<a class="sourceLine" id="cb80-2" data-line-number="2"><span class="co">#&gt; [1] &quot;1&quot;      &quot;canada&quot; &quot;3&quot;</span></a>
<a class="sourceLine" id="cb80-3" data-line-number="3"><span class="kw">class</span>(x)</a>
<a class="sourceLine" id="cb80-4" data-line-number="4"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>R forzó una conversión de los datos a caracteres. Como pusimos una cadena de caracteres en el vector, R adivinó que nuestra intención era que el 1 y el 3 fueran las cadenas de caracteres <code>&quot;1&quot;</code> y “<code>3</code>”. El hecho de que ni siquiera emitiera una advertencia es un ejemplo de cómo la coerción puede causar muchos errores inadvertidos en R.</p>
<p>R también ofrece funciones para cambiar de un tipo a otro. Por ejemplo, pueden convertir números en caracteres con:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb81-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">as.character</span>(x)</a>
<a class="sourceLine" id="cb81-3" data-line-number="3">y</a>
<a class="sourceLine" id="cb81-4" data-line-number="4"><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; &quot;5&quot;</span></a></code></pre></div>
<p>Pueden revertir a lo anterior con <code>as.numeric</code>:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw">as.numeric</span>(y)</a>
<a class="sourceLine" id="cb82-2" data-line-number="2"><span class="co">#&gt; [1] 1 2 3 4 5</span></a></code></pre></div>
<p>Esta función es muy útil ya que los sets de datos que incluyen números como cadenas de caracteres son comunes.</p>
<div id="no-disponible-na" class="section level3">
<h3><span class="header-section-number">2.7.1</span> No disponible (NA)</h3>
<p>Cuando una función intenta forzar una conversión de un tipo a otro y encuentra un caso imposible, generalmente nos da una advertencia y convierte la entrada en un valor especial llamado <code>NA</code> que significa <em>not available</em> en inglés. Por ejemplo:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;3&quot;</span>)</a>
<a class="sourceLine" id="cb83-2" data-line-number="2"><span class="kw">as.numeric</span>(x)</a>
<a class="sourceLine" id="cb83-3" data-line-number="3"><span class="co">#&gt; Warning: NAs introducidos por coerción</span></a>
<a class="sourceLine" id="cb83-4" data-line-number="4"><span class="co">#&gt; [1]  1 NA  3</span></a></code></pre></div>
<p>R no sabe el número que querían cuando escribieron <code>b</code>, por lo tanto, no intenta adivinar.</p>
<p>Como científicos de datos, se encontrarán con el <code>NA</code> frecuentemente ya que se usa generalmente para datos faltantes (<em>missing data</em> en inglés), un problema común en los sets de datos del mundo real.</p>
</div>
</div>
<div id="ejercicios-2" class="section level2">
<h2><span class="header-section-number">2.8</span> Ejercicios</h2>
<p>1. Use la función <code>c</code> para crear un vector con las temperaturas altas promedio en enero para Beijing, Lagos, París, Río de Janeiro, San Juan y Toronto, que son 35, 88, 42, 84, 81 y 30 grados Fahrenheit. Llame al objeto <code>temp</code>.</p>
<p>2. Ahora cree un vector con los nombres de las ciudades y llame al objeto <code>city</code>.</p>
<p>3. Utilice la función <code>names</code> y los objetos definidos en los ejercicios anteriores para asociar los datos de temperatura con su ciudad correspondiente.</p>
<p>4. Utilice los operadores <code>[</code> y <code>:</code> para acceder a la temperatura de las tres primeras ciudades de la lista.</p>
<p>5. Utilice el operador <code>[</code> para acceder a la temperatura de París y San Juan.</p>
<p>6. Utilice el operador <code>:</code> para crear una secuencia de números <span class="math inline">\(12,13,14,\dots,73\)</span>.</p>
<p>7. Cree un vector que contenga todos los números impares positivos menores que 100.</p>
<p>8. Cree un vector de números que comience en 6, no pase 55 y agregue números en incrementos de 4/7: 6, 6 + 4/7, 6 + 8/7, y así sucesivamente. ¿Cuántos números tiene la lista? Sugerencia: use <code>seq</code> y <code>length</code>.</p>
<p>9. ¿Cuál es la clase del siguiente objeto? <code>a &lt;- seq(1, 10, 0.5)</code>?</p>
<p>10. ¿Cuál es la clase del siguiente objeto? <code>a &lt;- seq(1, 10)</code>?</p>
<p>11. La clase de <code>class(a&lt;-1)</code> es numérico, no entero. R por defecto es numérico y para forzar un número entero, debe agregar la letra <code>L</code>. Confirme que la clase de <code>1L</code> es entero.</p>
<p>12. Defina el siguiente vector:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;5&quot;</span>)</a></code></pre></div>
<p>y oblíguelo a obtener enteros.</p>
</div>
<div id="sorting" class="section level2">
<h2><span class="header-section-number">2.9</span> <em>Sorting</em></h2>
<p>Ahora que hemos dominado algunos conocimientos básicos de R, intentemos obtener algunos conocimientos sobre la seguridad de los distintos estados en el contexto de los asesinatos con armas de fuego.</p>
<div id="sort" class="section level3">
<h3><span class="header-section-number">2.9.1</span> <code>sort</code></h3>
<p>Digamos que queremos clasificar los estados desde el menor hasta el mayor según los asesinatos con armas de fuego. La función <code>sort</code> ordena un vector en orden creciente. Por lo tanto, podemos ver la mayor cantidad de asesinatos con armas escribiendo:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="kw">data</span>(murders)</a>
<a class="sourceLine" id="cb85-3" data-line-number="3"><span class="kw">sort</span>(murders<span class="op">$</span>total)</a>
<a class="sourceLine" id="cb85-4" data-line-number="4"><span class="co">#&gt;  [1]    2    4    5    5    7    8   11   12   12   16   19   21   22</span></a>
<a class="sourceLine" id="cb85-5" data-line-number="5"><span class="co">#&gt; [14]   27   32   36   38   53   63   65   67   84   93   93   97   97</span></a>
<a class="sourceLine" id="cb85-6" data-line-number="6"><span class="co">#&gt; [27]   99  111  116  118  120  135  142  207  219  232  246  250  286</span></a>
<a class="sourceLine" id="cb85-7" data-line-number="7"><span class="co">#&gt; [40]  293  310  321  351  364  376  413  457  517  669  805 1257</span></a></code></pre></div>
<p>Sin embargo, esto no nos da información sobre qué estados tienen qué total de asesinatos. Por ejemplo, no sabemos qué estado tuvo 1257.</p>
</div>
<div id="order" class="section level3">
<h3><span class="header-section-number">2.9.2</span> <code>order</code></h3>
<p>La función <code>order</code> está más cerca de lo que queremos. <code>order</code> toma un vector como <em>input</em> y devuelve el vector de índices que clasifica el <em>input</em> vector. Esto puede ser un poco confuso, así que estudiemos un ejemplo sencillo. Podemos crear un vector y ordenarlo (<em>sort</em> en inglés):</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">31</span>, <span class="dv">4</span>, <span class="dv">15</span>, <span class="dv">92</span>, <span class="dv">65</span>)</a>
<a class="sourceLine" id="cb86-2" data-line-number="2"><span class="kw">sort</span>(x)</a>
<a class="sourceLine" id="cb86-3" data-line-number="3"><span class="co">#&gt; [1]  4 15 31 65 92</span></a></code></pre></div>
<p>En lugar de ordenar el input vector, la función <code>order</code> devuelve el índice que ordena el input vector:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1">index &lt;-<span class="st"> </span><span class="kw">order</span>(x)</a>
<a class="sourceLine" id="cb87-2" data-line-number="2">x[index]</a>
<a class="sourceLine" id="cb87-3" data-line-number="3"><span class="co">#&gt; [1]  4 15 31 65 92</span></a></code></pre></div>
<p>Este es el mismo resultado que le devuelve <code>sort(x)</code>. Si miramos este índice, vemos por qué funciona:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">x</a>
<a class="sourceLine" id="cb88-2" data-line-number="2"><span class="co">#&gt; [1] 31  4 15 92 65</span></a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="kw">order</span>(x)</a>
<a class="sourceLine" id="cb88-4" data-line-number="4"><span class="co">#&gt; [1] 2 3 1 5 4</span></a></code></pre></div>
<p>La segunda entrada de <code>x</code> es la más pequeña, entonces <code>order(x)</code> comienza con <code>2</code>. La siguiente más pequeña es la tercera entrada, por lo que la segunda entrada es <code>3</code> y así sigue.</p>
<p>¿Cómo nos ayuda esto a ordenar los estados por asesinatos? Primero, recuerden que las entradas de vectores a las que accede con <code>$</code> siguen el mismo orden que las filas de la tabla. Por ejemplo, estos dos vectores que contienen el nombre de los estados y sus abreviaturas, respectivamente, siguen el mismo orden:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1">murders<span class="op">$</span>state[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]</a>
<a class="sourceLine" id="cb89-2" data-line-number="2"><span class="co">#&gt; [1] &quot;Alabama&quot;    &quot;Alaska&quot;     &quot;Arizona&quot;    &quot;Arkansas&quot;   &quot;California&quot;</span></a>
<a class="sourceLine" id="cb89-3" data-line-number="3"><span class="co">#&gt; [6] &quot;Colorado&quot;</span></a>
<a class="sourceLine" id="cb89-4" data-line-number="4">murders<span class="op">$</span>abb[<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]</a>
<a class="sourceLine" id="cb89-5" data-line-number="5"><span class="co">#&gt; [1] &quot;AL&quot; &quot;AK&quot; &quot;AZ&quot; &quot;AR&quot; &quot;CA&quot; &quot;CO&quot;</span></a></code></pre></div>
<p>Esto significa que podemos ordenar los nombres de estado según el total de asesinatos. Primero obtenemos el índice que ordena los vectores por el total de asesinatos y luego ponemos el vector de nombres de estado en un índice:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1">ind &lt;-<span class="st"> </span><span class="kw">order</span>(murders<span class="op">$</span>total)</a>
<a class="sourceLine" id="cb90-2" data-line-number="2">murders<span class="op">$</span>abb[ind]</a>
<a class="sourceLine" id="cb90-3" data-line-number="3"><span class="co">#&gt;  [1] &quot;VT&quot; &quot;ND&quot; &quot;NH&quot; &quot;WY&quot; &quot;HI&quot; &quot;SD&quot; &quot;ME&quot; &quot;ID&quot; &quot;MT&quot; &quot;RI&quot; &quot;AK&quot; &quot;IA&quot; &quot;UT&quot;</span></a>
<a class="sourceLine" id="cb90-4" data-line-number="4"><span class="co">#&gt; [14] &quot;WV&quot; &quot;NE&quot; &quot;OR&quot; &quot;DE&quot; &quot;MN&quot; &quot;KS&quot; &quot;CO&quot; &quot;NM&quot; &quot;NV&quot; &quot;AR&quot; &quot;WA&quot; &quot;CT&quot; &quot;WI&quot;</span></a>
<a class="sourceLine" id="cb90-5" data-line-number="5"><span class="co">#&gt; [27] &quot;DC&quot; &quot;OK&quot; &quot;KY&quot; &quot;MA&quot; &quot;MS&quot; &quot;AL&quot; &quot;IN&quot; &quot;SC&quot; &quot;TN&quot; &quot;AZ&quot; &quot;NJ&quot; &quot;VA&quot; &quot;NC&quot;</span></a>
<a class="sourceLine" id="cb90-6" data-line-number="6"><span class="co">#&gt; [40] &quot;MD&quot; &quot;OH&quot; &quot;MO&quot; &quot;LA&quot; &quot;IL&quot; &quot;GA&quot; &quot;MI&quot; &quot;PA&quot; &quot;NY&quot; &quot;FL&quot; &quot;TX&quot; &quot;CA&quot;</span></a></code></pre></div>
<p>De acuerdo con lo anterior, California tuvo la mayor cantidad de asesinatos.</p>
</div>
<div id="max-y-which.max" class="section level3">
<h3><span class="header-section-number">2.9.3</span> <code>max</code> y <code>which.max</code></h3>
<p>Si solo estamos interesados en la entrada con el mayor valor, podemos usar <code>max</code> para ese valor:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1"><span class="kw">max</span>(murders<span class="op">$</span>total)</a>
<a class="sourceLine" id="cb91-2" data-line-number="2"><span class="co">#&gt; [1] 1257</span></a></code></pre></div>
<p>y <code>which.max</code> para el índice del valor mayor:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1">i_max &lt;-<span class="st"> </span><span class="kw">which.max</span>(murders<span class="op">$</span>total)</a>
<a class="sourceLine" id="cb92-2" data-line-number="2">murders<span class="op">$</span>state[i_max]</a>
<a class="sourceLine" id="cb92-3" data-line-number="3"><span class="co">#&gt; [1] &quot;California&quot;</span></a></code></pre></div>
<p>Como mínimo, podemos usar <code>min</code> y <code>which.min</code> del mismo modo.</p>
<p>¿Esto significa que California es el estado más peligroso? En una próxima sección, planteamos que deberíamos considerar las tasas en lugar de los totales. Antes de hacer eso, presentamos una última función relacionada con el orden: <code>rank</code>.</p>
</div>
<div id="rank" class="section level3">
<h3><span class="header-section-number">2.9.4</span> <code>rank</code></h3>
<p>Aunque no se usa con tanta frecuencia como <code>order</code> y <code>sort</code>, la función <code>rank</code> también está relacionada con el orden y puede ser útil.
Para cualquier vector dado, <code>rank</code> devuelve un vector con el rango de la primera entrada, segunda entrada, etc., del <em>input</em> vector. Aquí tenemos un ejemplo sencillo:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">31</span>, <span class="dv">4</span>, <span class="dv">15</span>, <span class="dv">92</span>, <span class="dv">65</span>)</a>
<a class="sourceLine" id="cb93-2" data-line-number="2"><span class="kw">rank</span>(x)</a>
<a class="sourceLine" id="cb93-3" data-line-number="3"><span class="co">#&gt; [1] 3 1 2 5 4</span></a></code></pre></div>
<p>Para resumir, veamos los resultados de las tres funciones que hemos discutido:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
original
</th>
<th style="text-align:right;">
sort
</th>
<th style="text-align:right;">
order
</th>
<th style="text-align:right;">
rank
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
92
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
</tr>
</tbody>
</table>
</div>
<div id="cuidado-con-el-reciclaje" class="section level3">
<h3><span class="header-section-number">2.9.5</span> Cuidado con el reciclaje</h3>
<p>Otra fuente común de errores inadvertidos en R es el uso de <em>reciclaje</em> (<em>recycling</em> en inglés). Hemos visto como los vectores se agregan por elementos. Entonces, si los vectores no coinciden en longitud, es natural suponer que obtendramos un error. Pero ese no es el caso. Vean lo que pasa:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb94-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>)</a>
<a class="sourceLine" id="cb94-3" data-line-number="3">x<span class="op">+</span>y</a>
<a class="sourceLine" id="cb94-4" data-line-number="4"><span class="co">#&gt; Warning in x + y: longitud de objeto mayor no es múltiplo de la longitud</span></a>
<a class="sourceLine" id="cb94-5" data-line-number="5"><span class="co">#&gt; de uno menor</span></a>
<a class="sourceLine" id="cb94-6" data-line-number="6"><span class="co">#&gt; [1] 11 22 33 41 52 63 71</span></a></code></pre></div>
<p>Recibimos una advertencia, pero no hay error. Para el <em>output</em>, R ha reciclado los números en <code>x</code>. Observen el último dígito de números en el <em>output</em>.</p>
</div>
</div>
<div id="ejercicios-3" class="section level2">
<h2><span class="header-section-number">2.10</span> Ejercicios</h2>
<p>Para estos ejercicios usaremos el set de datos de asesinatos de EE. UU.. Asegúrese de cargarlo antes de comenzar.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb95-2" data-line-number="2"><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</a></code></pre></div>
<p>1. Utilice el operador <code>$</code> para acceder a los datos del tamaño de la población y almacenarlos como el objeto <code>pop</code>. Luego use la función <code>sort</code> para redefinir <code>pop</code> para que esté en orden alfabética. Finalmente, use el operador <code>[</code> para indicar el tamaño de población más pequeño.</p>
<p>2. Ahora, en lugar del tamaño de población más pequeño, encuentre el índice de la entrada con el tamaño de población más pequeño. Sugerencia: use <code>order</code> en lugar de <code>sort</code>.</p>
<p>3. Podemos realizar la misma operación que en el ejercicio anterior usando la función <code>which.min</code>. Escriba una línea de código que haga esto.</p>
<p>4. Ahora sabemos cuán pequeño es el estado más pequeño y qué fila lo representa. ¿Qué estado es? Defina una variable <code>states</code> para ser los nombres de estado del <em>data frame</em> <code>murders</code>. Indique el nombre del estado con la población más pequeña.</p>
<p>5. Puede crear un <em>data frame</em> utilizando la función <code>data.frame</code>. Aquí un ejemplo:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">temp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">88</span>, <span class="dv">42</span>, <span class="dv">84</span>, <span class="dv">81</span>, <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb96-2" data-line-number="2">city &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Beijing&quot;</span>, <span class="st">&quot;Lagos&quot;</span>, <span class="st">&quot;Paris&quot;</span>, <span class="st">&quot;Rio de Janeiro&quot;</span>,</a>
<a class="sourceLine" id="cb96-3" data-line-number="3"><span class="st">&quot;San Juan&quot;</span>, <span class="st">&quot;Toronto&quot;</span>)</a>
<a class="sourceLine" id="cb96-4" data-line-number="4">city_temps &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> city, <span class="dt">temperature =</span> temp)</a></code></pre></div>
<p>Utilice la función <code>rank</code> para determinar el rango de población de cada estado desde el menos poblado hasta el más poblado. Guarde estos rangos en un objeto llamado <code>ranks</code>, luego crea un <em>data frame</em> con el nombre del estado y su rango. Nombre el <em>data frame</em> <code>my_df</code>.</p>
<p>6. Repita el ejercicio anterior, pero esta vez ordene <code>my_df</code> para que los estados estén en orden de menos poblado a más poblado. Sugerencia: crea un objeto <code>ind</code> que almacene los índices necesarios para poner en orden los valores de la población. Luego use el operador de corchete <code>[</code> para reordenar cada columna en el <em>data frame</em>.</p>
<p>7. El vector <code>na_example</code> representa una serie de conteos. Puede examinar rápidamente el objeto usando:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1"><span class="kw">data</span>(<span class="st">&quot;na_example&quot;</span>)</a>
<a class="sourceLine" id="cb97-2" data-line-number="2"><span class="kw">str</span>(na_example)</a>
<a class="sourceLine" id="cb97-3" data-line-number="3"><span class="co">#&gt;  int [1:1000] 2 1 3 2 1 3 1 4 3 2 ...</span></a></code></pre></div>
<p>Sin embargo, cuando calculamos el promedio con la función <code>mean</code>, obtenemos un <code>NA</code>:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1"><span class="kw">mean</span>(na_example)</a>
<a class="sourceLine" id="cb98-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>La función <code>is.na</code> devuelve un vector lógico que nos dice qué entradas son <code>NA</code>. Asigne este vector lógico a un objeto llamado <code>ind</code> y determine cuántos <code>NA</code>s tiene <code>na_example</code>.</p>
<p>8. Ahora calcule nuevamente el promedio, pero solo para las entradas que no son <code>NA</code>. Sugerencia: recuerde el operador <code>!</code>.</p>
</div>
<div id="aritmetica-de-vectores" class="section level2">
<h2><span class="header-section-number">2.11</span> Aritmética de vectores</h2>
<p>California tuvo la mayor cantidad de asesinatos, pero ¿esto significa que es el estado más peligroso? ¿Qué pasa si solo tiene muchas más personas que cualquier otro estado? Podemos confirmar rápidamente que California tiene la mayor población:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb99-2" data-line-number="2"><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</a>
<a class="sourceLine" id="cb99-3" data-line-number="3">murders<span class="op">$</span>state[<span class="kw">which.max</span>(murders<span class="op">$</span>population)]</a>
<a class="sourceLine" id="cb99-4" data-line-number="4"><span class="co">#&gt; [1] &quot;California&quot;</span></a></code></pre></div>
<p>con más de 37 millones de habitantes. Por lo tanto, es injusto comparar los totales si estamos interesados en saber cuán seguro es el estado. Lo que realmente deberíamos calcular son los asesinatos per cápita. Los informes que describimos en la sección motivante utilizaron asesinatos por cada 100,000 como la unidad. Para calcular esta cantidad, usamos las poderosas capacidades aritméticas de vectores de R.</p>
<div id="rescaling-un-vector" class="section level3">
<h3><span class="header-section-number">2.11.1</span> <em>Rescaling</em> un vector</h3>
<p>En R, las operaciones aritméticas en vectores ocurren elemento por elemento. Como ejemplo, supongamos que tenemos la altura en pulgadas (<em>inches</em> en inglés):</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1">inches &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">69</span>, <span class="dv">62</span>, <span class="dv">66</span>, <span class="dv">70</span>, <span class="dv">70</span>, <span class="dv">73</span>, <span class="dv">67</span>, <span class="dv">73</span>, <span class="dv">67</span>, <span class="dv">70</span>)</a></code></pre></div>
<p>y queremos convertirla a centímetros. Noten lo que sucede cuando multiplicamos <code>inches</code> por 2.54:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1">inches <span class="op">*</span><span class="st"> </span><span class="fl">2.54</span></a>
<a class="sourceLine" id="cb101-2" data-line-number="2"><span class="co">#&gt;  [1] 175 157 168 178 178 185 170 185 170 178</span></a></code></pre></div>
<p>Arriba, multiplicamos cada elemento por 2.54. Del mismo modo, si para cada entrada queremos calcular cuántas pulgadas más alto o más corto que 69 pulgadas, la altura promedio para hombres, podemos restarlo de cada entrada de esta manera:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1">inches <span class="op">-</span><span class="st"> </span><span class="dv">69</span></a>
<a class="sourceLine" id="cb102-2" data-line-number="2"><span class="co">#&gt;  [1]  0 -7 -3  1  1  4 -2  4 -2  1</span></a></code></pre></div>
</div>
<div id="dos-vectores" class="section level3">
<h3><span class="header-section-number">2.11.2</span> Dos vectores</h3>
<p>Si tenemos dos vectores de la misma longitud y los sumamos en R, se agregarán entrada por entrada de la siguiente manera:</p>
<p><span class="math display">\[
\begin{pmatrix}
a\\
b\\
c\\
d
\end{pmatrix}
+
\begin{pmatrix}
e\\
f\\
g\\
h
\end{pmatrix}
=
\begin{pmatrix}
a +e\\
b + f\\
c + g\\
d + h
\end{pmatrix}
\]</span></p>
<p>Lo mismo aplica para otras operaciones matemáticas, como <code>-</code>, <code>*</code> y <code>/</code>.</p>
<p>Esto implica que para calcular las tasas de asesinatos (<em>murder rates</em> en inglés) simplemente podemos escribir:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1">murder_rate &lt;-<span class="st"> </span>murders<span class="op">$</span>total<span class="op">/</span><span class="st"> </span>murders<span class="op">$</span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span></a></code></pre></div>
<p>Al hacer esto, notamos que California ya no está cerca de la parte superior de la lista. De hecho, podemos usar lo que hemos aprendido para poner a los estados en orden por tasa de asesinatos:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1">murders<span class="op">$</span>abb[<span class="kw">order</span>(murder_rate)]</a>
<a class="sourceLine" id="cb104-2" data-line-number="2"><span class="co">#&gt;  [1] &quot;VT&quot; &quot;NH&quot; &quot;HI&quot; &quot;ND&quot; &quot;IA&quot; &quot;ID&quot; &quot;UT&quot; &quot;ME&quot; &quot;WY&quot; &quot;OR&quot; &quot;SD&quot; &quot;MN&quot; &quot;MT&quot;</span></a>
<a class="sourceLine" id="cb104-3" data-line-number="3"><span class="co">#&gt; [14] &quot;CO&quot; &quot;WA&quot; &quot;WV&quot; &quot;RI&quot; &quot;WI&quot; &quot;NE&quot; &quot;MA&quot; &quot;IN&quot; &quot;KS&quot; &quot;NY&quot; &quot;KY&quot; &quot;AK&quot; &quot;OH&quot;</span></a>
<a class="sourceLine" id="cb104-4" data-line-number="4"><span class="co">#&gt; [27] &quot;CT&quot; &quot;NJ&quot; &quot;AL&quot; &quot;IL&quot; &quot;OK&quot; &quot;NC&quot; &quot;NV&quot; &quot;VA&quot; &quot;AR&quot; &quot;TX&quot; &quot;NM&quot; &quot;CA&quot; &quot;FL&quot;</span></a>
<a class="sourceLine" id="cb104-5" data-line-number="5"><span class="co">#&gt; [40] &quot;TN&quot; &quot;PA&quot; &quot;AZ&quot; &quot;GA&quot; &quot;MS&quot; &quot;MI&quot; &quot;DE&quot; &quot;SC&quot; &quot;MD&quot; &quot;MO&quot; &quot;LA&quot; &quot;DC&quot;</span></a></code></pre></div>
</div>
</div>
<div id="ejercicios-4" class="section level2">
<h2><span class="header-section-number">2.12</span> Ejercicios</h2>
<p>1. Anteriormente creamos este <em>data frame</em>:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1">temp &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">88</span>, <span class="dv">42</span>, <span class="dv">84</span>, <span class="dv">81</span>, <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb105-2" data-line-number="2">city &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Beijing&quot;</span>, <span class="st">&quot;Lagos&quot;</span>, <span class="st">&quot;Paris&quot;</span>, <span class="st">&quot;Rio de Janeiro&quot;</span>,</a>
<a class="sourceLine" id="cb105-3" data-line-number="3"><span class="st">&quot;San Juan&quot;</span>, <span class="st">&quot;Toronto&quot;</span>)</a>
<a class="sourceLine" id="cb105-4" data-line-number="4">city_temps &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> city, <span class="dt">temperature =</span> temp)</a></code></pre></div>
<p>Vuelva a crear el <em>data frame</em> utilizando el código anterior, pero agregue una línea que convierta la temperatura de Fahrenheit a Celsius. La conversión es <span class="math inline">\(C = \frac{5}{9} \times (F - 32)\)</span>.</p>
<p>2. ¿Cuál es la siguiente suma? <span class="math inline">\(1+1/2^2 + 1/3^2 + \dots 1/100^2\)</span>? Sugerencia: gracias a Euler, sabemos que debería estar cerca de <span class="math inline">\(\pi^2/6\)</span>.</p>
<p>3. Calcule la tasa de asesinatos por cada 100,000 para cada estado y almacénela en el objeto <code>murder_rate</code>. Luego calcule la tasa promedio de asesinatos para EE. UU. con la función <code>mean</code>. ¿Cuál es el promedio?</p>
</div>
<div id="la-indexacion" class="section level2">
<h2><span class="header-section-number">2.13</span> La indexación</h2>
<p>R proporciona una forma poderosa y conveniente de indexar vectores. Podemos, por ejemplo, crear un subconjunto de un vector según las propiedades de otro vector. En esta sección, continuamos trabajando con nuestro ejemplo de asesinatos en EE. UU., que podemos cargar así:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb106-2" data-line-number="2"><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</a></code></pre></div>
<div id="crear-subconjuntos-con-logicos" class="section level3">
<h3><span class="header-section-number">2.13.1</span> Crear subconjuntos con lógicos</h3>
<p>Ahora hemos calculado la tasa de asesinatos usando:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1">murder_rate &lt;-<span class="st"> </span>murders<span class="op">$</span>total<span class="op">/</span><span class="st"> </span>murders<span class="op">$</span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span></a></code></pre></div>
<p>Imagine que se muda de Italia donde, según un informe de noticias de ABC, la tasa de asesinatos es solo 0.71 por 100,000. Preferiría mudarse a un estado con una tasa de homicidios similar. Otra característica poderosa de R es que podemos usar lógicas para poner en un índice a vectores. Si comparamos un vector con un solo número, se realiza la prueba para cada entrada. Aquí tenemos un ejemplo relacionado con la pregunta anterior:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1">ind &lt;-<span class="st"> </span>murder_rate <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.71</span></a></code></pre></div>
<p>Si en cambio queremos saber si un valor es menor o igual, podemos usar:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1">ind &lt;-<span class="st"> </span>murder_rate <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.71</span></a></code></pre></div>
<p>Recuerden que recuperamos un vector lógico con <code>TRUE</code> para cada entrada menor o igual a 0.71. Para ver qué estados son estos, podemos aprovechar el hecho de que los vectores se pueden poner en índices con lógicos.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1">murders<span class="op">$</span>state[ind]</a>
<a class="sourceLine" id="cb110-2" data-line-number="2"><span class="co">#&gt; [1] &quot;Hawaii&quot;        &quot;Iowa&quot;          &quot;New Hampshire&quot; &quot;North Dakota&quot; </span></a>
<a class="sourceLine" id="cb110-3" data-line-number="3"><span class="co">#&gt; [5] &quot;Vermont&quot;</span></a></code></pre></div>
<p>Para contar cuántos son <em>TRUE</em>, la función <code>sum</code> devuelve la suma de las entradas de un vector y los vectores lógicos [FIX:] <em>get coerced</em> a numéricos con <code>TRUE</code> codificado como 1 y <code>FALSE</code> como 0. Así podemos contar los estados usando:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" data-line-number="1"><span class="kw">sum</span>(ind)</a>
<a class="sourceLine" id="cb111-2" data-line-number="2"><span class="co">#&gt; [1] 5</span></a></code></pre></div>
</div>
<div id="los-operadores-logicos" class="section level3">
<h3><span class="header-section-number">2.13.2</span> Los operadores lógicos</h3>
<p>Supongamos que nos gustan las montañas y queremos mudarnos a un estado seguro en la región occidental del país. Queremos que la tasa de asesinatos sea como máximo 1. En este caso, queremos que dos cosas diferentes sean ciertas. Aquí podemos usar el operador lógico <em>and</em>, que en R se representa con <code>&amp;</code>. Esta operación da como resultado <code>TRUE</code> solo cuando ambas lógicas son <code>TRUE</code>, es decir ciertas. Para ver esto, considere este ejemplo:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb112-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb112-3" data-line-number="3"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb112-4" data-line-number="4"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb112-5" data-line-number="5"><span class="ot">FALSE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb112-6" data-line-number="6"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>Para nuestro ejemplo, podemos formar dos lógicos:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" data-line-number="1">west &lt;-<span class="st"> </span>murders<span class="op">$</span>region <span class="op">==</span><span class="st"> &quot;West&quot;</span></a>
<a class="sourceLine" id="cb113-2" data-line-number="2">safe &lt;-<span class="st"> </span>murder_rate <span class="op">&lt;=</span><span class="st"> </span><span class="dv">1</span></a></code></pre></div>
<p>y podemos usar el <code>&amp;</code> para obtener un vector lógico que nos dice qué estados satisfacen ambas condiciones:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1">ind &lt;-<span class="st"> </span>safe <span class="op">&amp;</span><span class="st"> </span>west</a>
<a class="sourceLine" id="cb114-2" data-line-number="2">murders<span class="op">$</span>state[ind]</a>
<a class="sourceLine" id="cb114-3" data-line-number="3"><span class="co">#&gt; [1] &quot;Hawaii&quot;  &quot;Idaho&quot;   &quot;Oregon&quot;  &quot;Utah&quot;    &quot;Wyoming&quot;</span></a></code></pre></div>
</div>
<div id="which" class="section level3">
<h3><span class="header-section-number">2.13.3</span> <code>which</code></h3>
<p>Supongamos que queremos ver la tasa de asesinatos de California. Para este tipo de operación, es conveniente convertir vectores lógicos en índices en lugar de mantener [FIX:] largos vectores de lógicos. La función <code>which</code> nos dice qué entradas de un vector lógico son TRUE. Entonces podemos escribir:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" data-line-number="1">ind &lt;-<span class="st"> </span><span class="kw">which</span>(murders<span class="op">$</span>state <span class="op">==</span><span class="st"> &quot;California&quot;</span>)</a>
<a class="sourceLine" id="cb115-2" data-line-number="2">murder_rate[ind]</a>
<a class="sourceLine" id="cb115-3" data-line-number="3"><span class="co">#&gt; [1] 3.37</span></a></code></pre></div>
</div>
<div id="match" class="section level3">
<h3><span class="header-section-number">2.13.4</span> <code>match</code></h3>
<p>Si en lugar de un solo estado queremos averiguar las tasas de homicidio de varios estados, digamos Nueva York, Florida y Texas, podemos usar la función <code>match</code>. Esta función nos dice qué índices de un segundo vector coinciden con cada una de las entradas de un primer vector:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1">ind &lt;-<span class="st"> </span><span class="kw">match</span>(<span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;Texas&quot;</span>), murders<span class="op">$</span>state)</a>
<a class="sourceLine" id="cb116-2" data-line-number="2">ind</a>
<a class="sourceLine" id="cb116-3" data-line-number="3"><span class="co">#&gt; [1] 33 10 44</span></a></code></pre></div>
<p>Ahora podemos ver las tasas de asesinatos:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" data-line-number="1">murder_rate[ind]</a>
<a class="sourceLine" id="cb117-2" data-line-number="2"><span class="co">#&gt; [1] 2.67 3.40 3.20</span></a></code></pre></div>
</div>
<div id="in" class="section level3">
<h3><span class="header-section-number">2.13.5</span> <code>%in%</code></h3>
<p>Si en lugar de un índice queremos un lógico que nos diga si cada elemento de un primer vector está en un segundo vector, podemos usar la función <code>%in%</code>. Imaginemos que no está seguro si Boston, Dakota y Washington son estados. Pueden averiguar así:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1"><span class="kw">c</span>(<span class="st">&quot;Boston&quot;</span>, <span class="st">&quot;Dakota&quot;</span>, <span class="st">&quot;Washington&quot;</span>) <span class="op">%in%</span><span class="st"> </span>murders<span class="op">$</span>state</a>
<a class="sourceLine" id="cb118-2" data-line-number="2"><span class="co">#&gt; [1] FALSE FALSE  TRUE</span></a></code></pre></div>
<p>Tengan en cuenta que estaremos usando <code>%in%</code> frecuentemente a lo largo del libro.</p>
<p><strong>Avanzado</strong>: hay una conexión entre <code>match</code> y <code>%in%</code> mediante <code>which</code>. Para ver esto, observe que las siguientes dos líneas producen el mismo índice (aunque en orden diferente):</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" data-line-number="1"><span class="kw">match</span>(<span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;Texas&quot;</span>), murders<span class="op">$</span>state)</a>
<a class="sourceLine" id="cb119-2" data-line-number="2"><span class="co">#&gt; [1] 33 10 44</span></a>
<a class="sourceLine" id="cb119-3" data-line-number="3"><span class="kw">which</span>(murders<span class="op">$</span>state<span class="op">%in%</span><span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;Texas&quot;</span>))</a>
<a class="sourceLine" id="cb119-4" data-line-number="4"><span class="co">#&gt; [1] 10 33 44</span></a></code></pre></div>
</div>
</div>
<div id="ejercicios-5" class="section level2">
<h2><span class="header-section-number">2.14</span> Ejercicios</h2>
<p>Empiece cargando la biblioteca y los datos.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb120-2" data-line-number="2"><span class="kw">data</span>(murders)</a></code></pre></div>
<p>1. Calcule la tasa de asesinatos por cada 100,000 para cada estado y almacénela en un objeto llamado <code>murder_rate</code>. Luego use operadores lógicos para crear un vector lógico llamado <code>low</code> que nos dice qué entradas de <code>murder_rate</code> son inferiores a 1.</p>
<p>2. Ahora use los resultados del ejercicio anterior y la función <code>which</code> para determinar los índices de <code>murder_rate</code> asociados con valores inferiores a 1.</p>
<p>3. Use los resultados del ejercicio anterior para indicar los nombres de los estados con tasas de asesinatos inferiores a 1.</p>
<p>4. Ahora extienda el código de los ejercicios 2 y 3 para indicar los estados del noreste con tasas de homicidios inferiores a 1. Sugerencia: use el vector lógico predefinido <code>low</code> y el operador lógico <code>&amp;</code>.</p>
<p>5. En un ejercicio anterior, calculamos la tasa de homicidios para cada estado y el promedio de estos números. ¿Cuántos estados están por debajo del promedio?</p>
<p>6. Use la función <em>match</em> para identificar los estados con abreviaturas AK, MI e IA. Sugerencia: comience definiendo un índice de las entradas de <code>murders$abb</code> que coinciden con las tres abreviaturas. Entonces use el operador <code>[</code> para extraer los estados.</p>
<p>7. Utilice el operador <code>%in%</code> para crear un vector lógico que responda a la pregunta: ¿cuáles de las siguientes son abreviaturas reales: MA, ME, MI, MO, MU?</p>
<p>8. Extienda el código que usó en el ejercicio 7 para averiguar la única entrada que <strong>no</strong> es una abreviatura real. Sugerencia: use el operador <code>!</code>, que convierte <code>FALSE</code> a <code>TRUE</code> y viceversa, y entonces <code>which</code> para obtener un índice.</p>
</div>
<div id="los-graficos-basicos" class="section level2">
<h2><span class="header-section-number">2.15</span> Los gráficos básicos</h2>
<p>En el capitulo <a href="#ggplot2"><strong>??</strong></a> describimos un paquete complementario que proporciona un enfoque poderoso para producir gráficos (<em>plots</em> en inglés) en R. Luego tenemos una parte completa sobre la visualización de datos en la que proporcionamos muchos ejemplos. Aquí describimos brevemente algunas de las funciones disponibles en una instalación básica de R.</p>
<div id="plot" class="section level3">
<h3><span class="header-section-number">2.15.1</span> <code>plot</code></h3>
<p>La función <code>plot</code> se puede utilizar para hacer diagramas de dispersión (<em>scatterplots</em> en inglés). Aquí hay un gráfico de total de asesinatos versus población.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" data-line-number="1">x &lt;-<span class="st"> </span>murders<span class="op">$</span>population<span class="op">/</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb121-2" data-line-number="2">y &lt;-<span class="st"> </span>murders<span class="op">$</span>total</a>
<a class="sourceLine" id="cb121-3" data-line-number="3"><span class="kw">plot</span>(x, y)</a></code></pre></div>
<p><img src="libro_files/figure-html/first-plot-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Para crear un gráfico rápido que no accede a las variables dos veces, podemos usar la función <code>with</code>:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="kw">with</span>(murders, <span class="kw">plot</span>(population, total))</a></code></pre></div>
<p>La función <code>with</code> nos permite usar los nombres en la columna <code>murders</code> en la función <code>plot</code>. También funciona con cualquier <em>data frame</em> y cualquier función.</p>
</div>
<div id="hist" class="section level3">
<h3><span class="header-section-number">2.15.2</span> <code>hist</code></h3>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">with</span>(murders, total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>)</a>
<a class="sourceLine" id="cb123-2" data-line-number="2"><span class="kw">hist</span>(x)</a></code></pre></div>
<p><img src="libro_files/figure-html/r-base-hist-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Podemos ver que hay una amplia gama de valores con la mayoría de ellos entre 2 y 3 y un caso muy extremo con una tasa de asesinatos de más de 15:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1">murders<span class="op">$</span>state[<span class="kw">which.max</span>(x)]</a>
<a class="sourceLine" id="cb124-2" data-line-number="2"><span class="co">#&gt; [1] &quot;District of Columbia&quot;</span></a></code></pre></div>
</div>
<div id="boxplot" class="section level3">
<h3><span class="header-section-number">2.15.3</span> <code>boxplot</code></h3>
<p>Los diagramas de caja (<em>boxplots</em> en inglés) también se describirán en la parte del libro sobre la visualización de datos. Proporcionan un resumen más conciso que los histogramas, pero son más fáciles de apilar con otros diagramas de caja. Por ejemplo, aquí podemos usarlos para comparar las diferentes regiones:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1">murders<span class="op">$</span>rate &lt;-<span class="st"> </span><span class="kw">with</span>(murders, total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>)</a>
<a class="sourceLine" id="cb125-2" data-line-number="2"><span class="kw">boxplot</span>(rate<span class="op">~</span>region, <span class="dt">data =</span> murders)</a></code></pre></div>
<p><img src="libro_files/figure-html/r-base-boxplot-1.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Podemos ver que el sur tiene tasas de asesinatos más altas que las otras tres regiones.</p>
</div>
<div id="image" class="section level3">
<h3><span class="header-section-number">2.15.4</span> <code>image</code></h3>
<p>La función <em>image</em> muestra los valores en una matriz usando color. Aquí mostramos un ejemplo rápido:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">120</span>, <span class="dv">12</span>, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb126-2" data-line-number="2"><span class="kw">image</span>(x)</a></code></pre></div>
<p><img src="libro_files/figure-html/image-first-example-1.png" width="50%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="ejercicios-6" class="section level2">
<h2><span class="header-section-number">2.16</span> Ejercicios</h2>
<p>1. Hicimos un gráfico de asesinatos totales versus población y notamos una fuerte relación. No es sorprendente que los estados con poblaciones más grandes hayan tenido más asesinatos.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb127-2" data-line-number="2"><span class="kw">data</span>(murders)</a>
<a class="sourceLine" id="cb127-3" data-line-number="3">population_in_millions &lt;-<span class="st"> </span>murders<span class="op">$</span>population<span class="op">/</span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb127-4" data-line-number="4">total_gun_murders &lt;-<span class="st"> </span>murders<span class="op">$</span>total</a>
<a class="sourceLine" id="cb127-5" data-line-number="5"><span class="kw">plot</span>(population_in_millions, total_gun_murders)</a></code></pre></div>
<p>Recuerden que muchos estados tienen poblaciones inferiores a 5 millones y están agrupados. Podemos obtener más información al hacer este diagrama en la escala logarítmica. Transforme las variables usando el <code>log10</code> transformación y luego crea un gráfico de los resultados..</p>
<p>2. Crea un histograma de las poblaciones estatales.</p>
<p>3. Genere diagramas de caja de las poblaciones estatales por región.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="10">
<li id="fn10"><p><a href="https://rstudio.cloud" class="uri">https://rstudio.cloud</a><a href="r-basics.html#fnref10" class="footnote-back">↩</a></p></li>
<li id="fn11"><p><a href="https://rafalab.github.io/dsbook/installing-r-rstudio.html" class="uri">https://rafalab.github.io/dsbook/installing-r-rstudio.html</a><a href="r-basics.html#fnref11" class="footnote-back">↩</a></p></li>
<li id="fn12"><p><a href="http://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership" class="uri">http://abcnews.go.com/blogs/headlines/2012/12/us-gun-ownership</a> -homicide-rate-superior-que-otros-países-desarrollados/<a href="r-basics.html#fnref12" class="footnote-back">↩</a></p></li>
<li id="fn13"><p><a href="http://adv-r.had.co.nz/Style.html" class="uri">http://adv-r.had.co.nz/Style.html</a><a href="r-basics.html#fnref13" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conceptos-basicos-de-programacion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslibro/edit/master/R/R-basics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
