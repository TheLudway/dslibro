<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 4 tidyverse | Introducción a la Ciencia de Datos</title>
  <meta name="description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.20.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 4 tidyverse | Introducción a la Ciencia de Datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 4 tidyverse | Introducción a la Ciencia de Datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar los retos de situaciones actuales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y machine learning. Además, les permitirá desarrollar destrezas como la programación R, el wrangling de datos con dplyr, la visualización de datos con ggplot2, la organización de archivos con Shell de UNIX / Linux, el control de versiones con GitHub y la preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-08-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="conceptos-básicos-de-programación.html"/>
<link rel="next" href="importing-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a la Ciencia de Datos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#los-casos-de-estudio"><i class="fa fa-check"></i>Los casos de estudio</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#quién-encontrará-útil-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#que-cubre-este-libro"><i class="fa fa-check"></i>¿Que cubre este libro?</a></li>
<li class="chapter" data-level="" data-path="introducción.html"><a href="introducción.html#qué-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-qué-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.3</b> <em>scripts</em></a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#paneles"><i class="fa fa-check"></i><b>1.4.1</b> Paneles</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#key-bindings"><i class="fa fa-check"></i><b>1.4.2</b> <em>Key bindings</em></a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#cómo-ejecutar-comandos-mientras-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Cómo ejecutar comandos mientras edita <em>scripts</em></a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#cómo-cambiar-las-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cómo cambiar las opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalación-de-paquetes-de-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes de R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> Lo básico de R</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#caso-de-estudio-los-asesinatos-con-armas-en-ee.-uu."><i class="fa fa-check"></i><b>2.1</b> Caso de estudio: los asesinatos con armas en EE. UU.</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#lo-básico"><i class="fa fa-check"></i><b>2.2</b> Lo básico</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funciones"><i class="fa fa-check"></i><b>2.2.3</b> Funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-predefinidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos predefinidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#cómo-guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Cómo guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivantes"><i class="fa fa-check"></i><b>2.2.7</b> <em>Scripts</em> motivantes</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#cómo-comentar-su-código"><i class="fa fa-check"></i><b>2.2.8</b> Cómo comentar su código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> <em>data frames</em></a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#cómo-examinar-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Cómo examinar un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-operador-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El operador de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numéricos-de-caracteres-y-lógicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, de caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectores"><i class="fa fa-check"></i><b>2.6</b> Vectores</a><ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#cómo-crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Cómo crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#cómo-crear-un-subconjunto"><i class="fa fa-check"></i><b>2.6.4</b> Cómo crear un subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#la-conversión-forzada"><i class="fa fa-check"></i><b>2.7</b> La conversión forzada</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#not-available-na"><i class="fa fa-check"></i><b>2.7.1</b> <em>Not available</em> (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#sorting"><i class="fa fa-check"></i><b>2.9</b> <em>Sorting</em></a><ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.10</b> Ejercicios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmética-de-vectores"><i class="fa fa-check"></i><b>2.11</b> Aritmética de vectores</a><ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#rescaling-un-vector"><i class="fa fa-check"></i><b>2.11.1</b> <em>Rescaling</em> un vector</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.11.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.12</b> Ejercicios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#indexación"><i class="fa fa-check"></i><b>2.13</b> Indexación</a><ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#crear-subconjuntos-con-lógicos"><i class="fa fa-check"></i><b>2.13.1</b> Crear subconjuntos con lógicos</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#operadores-lógicos"><i class="fa fa-check"></i><b>2.13.2</b> Operadores lógicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#gráficos-básicos"><i class="fa fa-check"></i><b>2.15</b> Gráficos básicos</a><ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.16</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a><ul>
<li class="chapter" data-level="3.1" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#cómo-definir-funciones"><i class="fa fa-check"></i><b>3.2</b> Cómo definir funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#namespaces"><i class="fa fa-check"></i><b>3.3</b> <em>Namespaces</em></a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#bucles-for"><i class="fa fa-check"></i><b>3.4</b> Bucles-for</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorización y funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-básicos-de-programación.html"><a href="conceptos-básicos-de-programación.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> <em>tidyverse</em></a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Data <em>tidy</em></a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#cómo-manipular-los-data-frames"><i class="fa fa-check"></i><b>4.3</b> Cómo manipular los <em>data frames</em></a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#cómo-añadir-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Cómo añadir una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#cómo-crear-subconjuntos-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Cómo crear subconjuntos con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#cómo-seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Cómo seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-pipe"><i class="fa fa-check"></i><b>4.5</b> El <em>pipe</em>: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#cómo-resumir-datos"><i class="fa fa-check"></i><b>4.7</b> Cómo resumir datos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Cómo agrupar y luego resumir con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#cómo-ordenar-los-data-frames"><i class="fa fa-check"></i><b>4.8</b> Cómo ordenar los <em>data frames</em></a><ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#cómo-ordenar-anidadamente"><i class="fa fa-check"></i><b>4.8.1</b> Cómo ordenar anidadamente</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#los-primeros-n"><i class="fa fa-check"></i><b>4.8.2</b> Los primeros <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> <em>Tibbles</em></a><ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-ven-mejor"><i class="fa fa-check"></i><b>4.10.1</b> Los <em>tibbles</em> se ven mejor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.10.2</b> Los subconjuntos de <em>tibbles</em> son <em>tibbles</em></a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-pueden-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.10.3</b> Los <em>tibbles</em> pueden tener entradas complejas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#los-tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.10.4</b> Los <em>tibbles</em> se pueden agrupar</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#cómo-crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Cómo crear un <em>tibble</em> usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.11</b> El operador punto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#los-condicionales-de-tidyverse"><i class="fa fa-check"></i><b>4.14</b> Los condicionales de <em>tidyverse</em></a><ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#las-rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Las rutas y el directorio de trabajo</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#las-rutas-relativas-y-completas"><i class="fa fa-check"></i><b>5.1.2</b> Las rutas relativas y completas</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#cómo-generar-los-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Cómo generar los nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#cómo-copiar-los-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Cómo copiar los archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#readr"><i class="fa fa-check"></i><b>5.2.1</b> readr</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#cómo-descargar-archivos"><i class="fa fa-check"></i><b>5.4</b> Cómo descargar archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#las-funciones-de-importación-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Las funciones de importación de base R</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#archivos-de-texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Archivos de texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#cómo-organizar-datos-con-hojas-de-cálculo"><i class="fa fa-check"></i><b>5.8</b> Cómo organizar datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="part"><span><b>II Visualización de datos</b></span></li>
<li class="chapter" data-level="6" data-path="introducción-a-la-visualización-de-datos.html"><a href="introducción-a-la-visualización-de-datos.html"><i class="fa fa-check"></i><b>6</b> Introducción a la visualización de datos</a></li>
<li class="chapter" data-level="7" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>7</b> ggplot2</a><ul>
<li class="chapter" data-level="7.1" data-path="ggplot2.html"><a href="ggplot2.html#los-componentes-de-un-gráfico"><i class="fa fa-check"></i><b>7.1</b> Los componentes de un gráfico</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot2.html"><a href="ggplot2.html#objetos-ggplot"><i class="fa fa-check"></i><b>7.2</b> objetos <code>ggplot</code></a></li>
<li class="chapter" data-level="7.3" data-path="ggplot2.html"><a href="ggplot2.html#geometrías"><i class="fa fa-check"></i><b>7.3</b> Geometrías</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot2.html"><a href="ggplot2.html#mapeos-estéticos"><i class="fa fa-check"></i><b>7.4</b> Mapeos estéticos</a></li>
<li class="chapter" data-level="7.5" data-path="ggplot2.html"><a href="ggplot2.html#capas"><i class="fa fa-check"></i><b>7.5</b> Capas</a><ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot2.html"><a href="ggplot2.html#cómo-probar-varios-argumentos"><i class="fa fa-check"></i><b>7.5.1</b> Cómo probar varios argumentos</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot2.html"><a href="ggplot2.html#mapeos-estéticos-globales-versus-locales"><i class="fa fa-check"></i><b>7.6</b> Mapeos estéticos globales versus locales</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot2.html"><a href="ggplot2.html#escalas"><i class="fa fa-check"></i><b>7.7</b> Escalas</a></li>
<li class="chapter" data-level="7.8" data-path="ggplot2.html"><a href="ggplot2.html#etiquetas-y-títulos"><i class="fa fa-check"></i><b>7.8</b> Etiquetas y títulos</a></li>
<li class="chapter" data-level="7.9" data-path="ggplot2.html"><a href="ggplot2.html#categorías-como-colores"><i class="fa fa-check"></i><b>7.9</b> Categorías como colores</a></li>
<li class="chapter" data-level="7.10" data-path="ggplot2.html"><a href="ggplot2.html#anotación-formas-y-ajustes"><i class="fa fa-check"></i><b>7.10</b> Anotación, formas y ajustes</a></li>
<li class="chapter" data-level="7.11" data-path="ggplot2.html"><a href="ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>7.11</b> Paquetes complementarios</a></li>
<li class="chapter" data-level="7.12" data-path="ggplot2.html"><a href="ggplot2.html#cómo-combinarlo-todo"><i class="fa fa-check"></i><b>7.12</b> Cómo combinarlo todo</a></li>
<li class="chapter" data-level="7.13" data-path="ggplot2.html"><a href="ggplot2.html#qplot"><i class="fa fa-check"></i><b>7.13</b> Gráficos rápidos con <code>qplot</code></a></li>
<li class="chapter" data-level="7.14" data-path="ggplot2.html"><a href="ggplot2.html#cuadrículas-de-gráficos"><i class="fa fa-check"></i><b>7.14</b> Cuadrículas de gráficos</a></li>
<li class="chapter" data-level="7.15" data-path="ggplot2.html"><a href="ggplot2.html#ejercicios-15"><i class="fa fa-check"></i><b>7.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>8</b> Cómo visualizar distribuciones de datos</a><ul>
<li class="chapter" data-level="8.1" data-path="distributions.html"><a href="distributions.html#tipos-de-variables"><i class="fa fa-check"></i><b>8.1</b> Tipos de variables</a></li>
<li class="chapter" data-level="8.2" data-path="distributions.html"><a href="distributions.html#estudio-de-caso-describiendo-alturas-de-estudiantes"><i class="fa fa-check"></i><b>8.2</b> Estudio de caso: describiendo alturas de estudiantes</a></li>
<li class="chapter" data-level="8.3" data-path="distributions.html"><a href="distributions.html#la-función-de-distribución"><i class="fa fa-check"></i><b>8.3</b> La función de distribución</a></li>
<li class="chapter" data-level="8.4" data-path="distributions.html"><a href="distributions.html#cdf-intro"><i class="fa fa-check"></i><b>8.4</b> Funciones de distribución acumulada</a></li>
<li class="chapter" data-level="8.5" data-path="distributions.html"><a href="distributions.html#histogramas"><i class="fa fa-check"></i><b>8.5</b> Histogramas</a></li>
<li class="chapter" data-level="8.6" data-path="distributions.html"><a href="distributions.html#densidad-suave"><i class="fa fa-check"></i><b>8.6</b> Densidad suave</a><ul>
<li class="chapter" data-level="8.6.1" data-path="distributions.html"><a href="distributions.html#cómo-interpretar-el-eje-y"><i class="fa fa-check"></i><b>8.6.1</b> Cómo interpretar el eje-y</a></li>
<li class="chapter" data-level="8.6.2" data-path="distributions.html"><a href="distributions.html#densidades-permiten-estratificación"><i class="fa fa-check"></i><b>8.6.2</b> Densidades permiten estratificación</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="distributions.html"><a href="distributions.html#ejercicios-16"><i class="fa fa-check"></i><b>8.7</b> Ejercicios</a></li>
<li class="chapter" data-level="8.8" data-path="distributions.html"><a href="distributions.html#normal-distribution"><i class="fa fa-check"></i><b>8.8</b> La distribución normal</a></li>
<li class="chapter" data-level="8.9" data-path="distributions.html"><a href="distributions.html#unidades-estándar"><i class="fa fa-check"></i><b>8.9</b> Unidades estándar</a></li>
<li class="chapter" data-level="8.10" data-path="distributions.html"><a href="distributions.html#gráficos-q-q"><i class="fa fa-check"></i><b>8.10</b> Gráficos Q-Q</a></li>
<li class="chapter" data-level="8.11" data-path="distributions.html"><a href="distributions.html#percentiles"><i class="fa fa-check"></i><b>8.11</b> Percentiles</a></li>
<li class="chapter" data-level="8.12" data-path="distributions.html"><a href="distributions.html#diagramas-de-caja"><i class="fa fa-check"></i><b>8.12</b> Diagramas de caja</a></li>
<li class="chapter" data-level="8.13" data-path="distributions.html"><a href="distributions.html#stratification"><i class="fa fa-check"></i><b>8.13</b> Estratificación</a></li>
<li class="chapter" data-level="8.14" data-path="distributions.html"><a href="distributions.html#student-height-cont"><i class="fa fa-check"></i><b>8.14</b> Estudio de caso: descripción de alturas de estudiantes (continuación)</a></li>
<li class="chapter" data-level="8.15" data-path="distributions.html"><a href="distributions.html#ejercicios-17"><i class="fa fa-check"></i><b>8.15</b> Ejercicios</a></li>
<li class="chapter" data-level="8.16" data-path="distributions.html"><a href="distributions.html#other-geometries"><i class="fa fa-check"></i><b>8.16</b> Geometrías ggplot2</a><ul>
<li class="chapter" data-level="8.16.1" data-path="distributions.html"><a href="distributions.html#diagramas-de-barras"><i class="fa fa-check"></i><b>8.16.1</b> Diagramas de barras</a></li>
<li class="chapter" data-level="8.16.2" data-path="distributions.html"><a href="distributions.html#histogramas-1"><i class="fa fa-check"></i><b>8.16.2</b> Histogramas</a></li>
<li class="chapter" data-level="8.16.3" data-path="distributions.html"><a href="distributions.html#gráficos-de-densidad"><i class="fa fa-check"></i><b>8.16.3</b> Gráficos de densidad</a></li>
<li class="chapter" data-level="8.16.4" data-path="distributions.html"><a href="distributions.html#diagramas-de-caja-1"><i class="fa fa-check"></i><b>8.16.4</b> Diagramas de caja</a></li>
<li class="chapter" data-level="8.16.5" data-path="distributions.html"><a href="distributions.html#gráficos-q-q-1"><i class="fa fa-check"></i><b>8.16.5</b> Gráficos Q-Q</a></li>
<li class="chapter" data-level="8.16.6" data-path="distributions.html"><a href="distributions.html#imágenes"><i class="fa fa-check"></i><b>8.16.6</b> Imágenes</a></li>
<li class="chapter" data-level="8.16.7" data-path="distributions.html"><a href="distributions.html#gráficos-rápidos"><i class="fa fa-check"></i><b>8.16.7</b> Gráficos rápidos</a></li>
</ul></li>
<li class="chapter" data-level="8.17" data-path="distributions.html"><a href="distributions.html#ejercicios-18"><i class="fa fa-check"></i><b>8.17</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>9</b> Visualización de datos en la práctica</a><ul>
<li class="chapter" data-level="9.1" data-path="gapminder.html"><a href="gapminder.html#estudio-de-caso-nuevas-ideas-sobre-la-pobreza"><i class="fa fa-check"></i><b>9.1</b> Estudio de caso: nuevas ideas sobre la pobreza</a><ul>
<li class="chapter" data-level="9.1.1" data-path="gapminder.html"><a href="gapminder.html#la-prueba-de-hans-rosling"><i class="fa fa-check"></i><b>9.1.1</b> La prueba de Hans Rosling</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="gapminder.html"><a href="gapminder.html#diagrama-de-dispersión"><i class="fa fa-check"></i><b>9.2</b> Diagrama de dispersión</a></li>
<li class="chapter" data-level="9.3" data-path="gapminder.html"><a href="gapminder.html#separar-en-facetas"><i class="fa fa-check"></i><b>9.3</b> Separar en facetas</a><ul>
<li class="chapter" data-level="9.3.1" data-path="gapminder.html"><a href="gapminder.html#facet_wrap"><i class="fa fa-check"></i><b>9.3.1</b> <code>facet_wrap</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="gapminder.html"><a href="gapminder.html#escalas-fijas-para-mejores-comparaciones"><i class="fa fa-check"></i><b>9.3.2</b> Escalas fijas para mejores comparaciones</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="gapminder.html"><a href="gapminder.html#gráficos-de-series-de-tiempo"><i class="fa fa-check"></i><b>9.4</b> Gráficos de series de tiempo</a><ul>
<li class="chapter" data-level="9.4.1" data-path="gapminder.html"><a href="gapminder.html#etiquetas-en-lugar-de-leyendas"><i class="fa fa-check"></i><b>9.4.1</b> Etiquetas en lugar de leyendas</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="gapminder.html"><a href="gapminder.html#transformaciones-de-datos"><i class="fa fa-check"></i><b>9.5</b> Transformaciones de datos</a><ul>
<li class="chapter" data-level="9.5.1" data-path="gapminder.html"><a href="gapminder.html#transformación-logarítmica"><i class="fa fa-check"></i><b>9.5.1</b> Transformación logarítmica</a></li>
<li class="chapter" data-level="9.5.2" data-path="gapminder.html"><a href="gapminder.html#qué-base"><i class="fa fa-check"></i><b>9.5.2</b> ¿Qué base?</a></li>
<li class="chapter" data-level="9.5.3" data-path="gapminder.html"><a href="gapminder.html#transformar-los-valores-o-la-escala"><i class="fa fa-check"></i><b>9.5.3</b> ¿Transformar los valores o la escala?</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="gapminder.html"><a href="gapminder.html#cómo-visualizar-distribuciones-multimodales"><i class="fa fa-check"></i><b>9.6</b> Cómo visualizar distribuciones multimodales</a></li>
<li class="chapter" data-level="9.7" data-path="gapminder.html"><a href="gapminder.html#cómo-comparar-múltiples-distribuciones-con-diagramas-de-caja-y-gráficos-ridge"><i class="fa fa-check"></i><b>9.7</b> Cómo comparar múltiples distribuciones con diagramas de caja y gráficos <em>ridge</em></a><ul>
<li class="chapter" data-level="9.7.1" data-path="gapminder.html"><a href="gapminder.html#diagrama-de-caja"><i class="fa fa-check"></i><b>9.7.1</b> Diagrama de caja</a></li>
<li class="chapter" data-level="9.7.2" data-path="gapminder.html"><a href="gapminder.html#gráficos-ridge"><i class="fa fa-check"></i><b>9.7.2</b> Gráficos <em>ridge</em></a></li>
<li class="chapter" data-level="9.7.3" data-path="gapminder.html"><a href="gapminder.html#ejemplo-distribuciones-de-ingresos-de-1970-versus-2010"><i class="fa fa-check"></i><b>9.7.3</b> Ejemplo: distribuciones de ingresos de 1970 versus 2010</a></li>
<li class="chapter" data-level="9.7.4" data-path="gapminder.html"><a href="gapminder.html#cómo-obtener-acceso-a-variables-calculadas"><i class="fa fa-check"></i><b>9.7.4</b> Cómo obtener acceso a variables calculadas</a></li>
<li class="chapter" data-level="9.7.5" data-path="gapminder.html"><a href="gapminder.html#densidades-ponderadas"><i class="fa fa-check"></i><b>9.7.5</b> Densidades ponderadas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="gapminder.html"><a href="gapminder.html#la-falacia-ecológica-y-la-importancia-de-mostrar-los-datos"><i class="fa fa-check"></i><b>9.8</b> La falacia ecológica y la importancia de mostrar los datos</a><ul>
<li class="chapter" data-level="9.8.1" data-path="gapminder.html"><a href="gapminder.html#logit"><i class="fa fa-check"></i><b>9.8.1</b> Transformación logística</a></li>
<li class="chapter" data-level="9.8.2" data-path="gapminder.html"><a href="gapminder.html#mostrar-los-datos"><i class="fa fa-check"></i><b>9.8.2</b> Mostrar los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html"><i class="fa fa-check"></i><b>10</b> Principios de visualización de datos</a><ul>
<li class="chapter" data-level="10.1" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cómo-codificar-datos-utilizando-señales-visuales"><i class="fa fa-check"></i><b>10.1</b> Cómo codificar datos utilizando señales visuales</a></li>
<li class="chapter" data-level="10.2" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#sepa-cuándo-incluir-0"><i class="fa fa-check"></i><b>10.2</b> Sepa cuándo incluir 0</a></li>
<li class="chapter" data-level="10.3" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#no-distorsionar-cantidades"><i class="fa fa-check"></i><b>10.3</b> No distorsionar cantidades</a></li>
<li class="chapter" data-level="10.4" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#ordenar-categorías-por-un-valor-significativo"><i class="fa fa-check"></i><b>10.4</b> Ordenar categorías por un valor significativo</a></li>
<li class="chapter" data-level="10.5" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#mostrar-los-datos-1"><i class="fa fa-check"></i><b>10.5</b> Mostrar los datos</a></li>
<li class="chapter" data-level="10.6" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cómo-facilitar-comparaciones"><i class="fa fa-check"></i><b>10.6</b> Cómo facilitar comparaciones</a><ul>
<li class="chapter" data-level="10.6.1" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#use-ejes-comunes"><i class="fa fa-check"></i><b>10.6.1</b> Use ejes comunes</a></li>
<li class="chapter" data-level="10.6.2" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#alinee-gráficos-verticalmente-para-ver-cambios-horizontales-y-horizontalmente-para-ver-cambios-verticales"><i class="fa fa-check"></i><b>10.6.2</b> Alinee gráficos verticalmente para ver cambios horizontales y horizontalmente para ver cambios verticales</a></li>
<li class="chapter" data-level="10.6.3" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#considere-transformaciones"><i class="fa fa-check"></i><b>10.6.3</b> Considere transformaciones</a></li>
<li class="chapter" data-level="10.6.4" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#señales-visuales-comparadas-deben-estar-adyacentes"><i class="fa fa-check"></i><b>10.6.4</b> Señales visuales comparadas deben estar adyacentes</a></li>
<li class="chapter" data-level="10.6.5" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#use-color"><i class="fa fa-check"></i><b>10.6.5</b> Use color</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#piense-en-los-daltónicos"><i class="fa fa-check"></i><b>10.7</b> Piense en los daltónicos</a></li>
<li class="chapter" data-level="10.8" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#gráficos-para-dos-variables"><i class="fa fa-check"></i><b>10.8</b> Gráficos para dos variables</a><ul>
<li class="chapter" data-level="10.8.1" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#slope-charts"><i class="fa fa-check"></i><b>10.8.1</b> Slope charts</a></li>
<li class="chapter" data-level="10.8.2" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#gráfico-bland-altman"><i class="fa fa-check"></i><b>10.8.2</b> Gráfico Bland-Altman</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#cómo-codificar-una-tercera-variable"><i class="fa fa-check"></i><b>10.9</b> Cómo codificar una tercera variable</a></li>
<li class="chapter" data-level="10.10" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#evite-los-gráficos-pseudo-tridimensionales"><i class="fa fa-check"></i><b>10.10</b> Evite los gráficos pseudo-tridimensionales</a></li>
<li class="chapter" data-level="10.11" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#evite-demasiados-dígitos-significativos"><i class="fa fa-check"></i><b>10.11</b> Evite demasiados dígitos significativos</a></li>
<li class="chapter" data-level="10.12" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#conozca-a-su-audiencia"><i class="fa fa-check"></i><b>10.12</b> Conozca a su audiencia</a></li>
<li class="chapter" data-level="10.13" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#ejercicios-19"><i class="fa fa-check"></i><b>10.13</b> Ejercicios</a></li>
<li class="chapter" data-level="10.14" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#vaccines"><i class="fa fa-check"></i><b>10.14</b> Estudio de caso: las vacunas y las enfermedades infecciosas</a></li>
<li class="chapter" data-level="10.15" data-path="principios-de-visualización-de-datos.html"><a href="principios-de-visualización-de-datos.html#ejercicios-20"><i class="fa fa-check"></i><b>10.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="robust-summaries.html"><a href="robust-summaries.html"><i class="fa fa-check"></i><b>11</b> Resúmenes robustos</a><ul>
<li class="chapter" data-level="11.1" data-path="robust-summaries.html"><a href="robust-summaries.html#valores-atípicos"><i class="fa fa-check"></i><b>11.1</b> Valores atípicos</a></li>
<li class="chapter" data-level="11.2" data-path="robust-summaries.html"><a href="robust-summaries.html#mediana"><i class="fa fa-check"></i><b>11.2</b> Mediana</a></li>
<li class="chapter" data-level="11.3" data-path="robust-summaries.html"><a href="robust-summaries.html#el-rango-intercuartil-iqr"><i class="fa fa-check"></i><b>11.3</b> El rango intercuartil (IQR)</a></li>
<li class="chapter" data-level="11.4" data-path="robust-summaries.html"><a href="robust-summaries.html#la-definición-de-tukey-de-un-valor-atípico"><i class="fa fa-check"></i><b>11.4</b> La definición de Tukey de un valor atípico</a></li>
<li class="chapter" data-level="11.5" data-path="robust-summaries.html"><a href="robust-summaries.html#desviación-absoluta-mediana"><i class="fa fa-check"></i><b>11.5</b> Desviación absoluta mediana</a></li>
<li class="chapter" data-level="11.6" data-path="robust-summaries.html"><a href="robust-summaries.html#ejercicios-21"><i class="fa fa-check"></i><b>11.6</b> Ejercicios</a></li>
<li class="chapter" data-level="11.7" data-path="robust-summaries.html"><a href="robust-summaries.html#estudio-de-caso-alturas-autoreportadas-de-estudiantes"><i class="fa fa-check"></i><b>11.7</b> Estudio de caso: alturas autoreportadas de estudiantes</a></li>
</ul></li>
<li class="part"><span><b>III Estadísticas con R</b></span></li>
<li class="chapter" data-level="12" data-path="introducción-a-las-estadísticas-con-r.html"><a href="introducción-a-las-estadísticas-con-r.html"><i class="fa fa-check"></i><b>12</b> Introducción a las estadísticas con R</a></li>
<li class="chapter" data-level="13" data-path="probabilidad.html"><a href="probabilidad.html"><i class="fa fa-check"></i><b>13</b> Probabilidad</a><ul>
<li class="chapter" data-level="13.1" data-path="probabilidad.html"><a href="probabilidad.html#probabilidad-discreta"><i class="fa fa-check"></i><b>13.1</b> Probabilidad discreta</a><ul>
<li class="chapter" data-level="13.1.1" data-path="probabilidad.html"><a href="probabilidad.html#frecuencia-relativa"><i class="fa fa-check"></i><b>13.1.1</b> Frecuencia relativa</a></li>
<li class="chapter" data-level="13.1.2" data-path="probabilidad.html"><a href="probabilidad.html#notación"><i class="fa fa-check"></i><b>13.1.2</b> Notación</a></li>
<li class="chapter" data-level="13.1.3" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-de-probabilidad"><i class="fa fa-check"></i><b>13.1.3</b> Distribuciones de probabilidad</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="probabilidad.html"><a href="probabilidad.html#simulaciones-monte-carlo-para-datos-categóricos"><i class="fa fa-check"></i><b>13.2</b> Simulaciones Monte Carlo para datos categóricos</a><ul>
<li class="chapter" data-level="13.2.1" data-path="probabilidad.html"><a href="probabilidad.html#fijar-la-semilla-aleatoria"><i class="fa fa-check"></i><b>13.2.1</b> Fijar la semilla aleatoria</a></li>
<li class="chapter" data-level="13.2.2" data-path="probabilidad.html"><a href="probabilidad.html#con-y-sin-reemplazo"><i class="fa fa-check"></i><b>13.2.2</b> Con y sin reemplazo</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="probabilidad.html"><a href="probabilidad.html#independencia"><i class="fa fa-check"></i><b>13.3</b> Independencia</a></li>
<li class="chapter" data-level="13.4" data-path="probabilidad.html"><a href="probabilidad.html#probabilidades-condicionales"><i class="fa fa-check"></i><b>13.4</b> Probabilidades condicionales</a></li>
<li class="chapter" data-level="13.5" data-path="probabilidad.html"><a href="probabilidad.html#reglas-de-la-adición-y-de-la-multiplicación"><i class="fa fa-check"></i><b>13.5</b> Reglas de la adición y de la multiplicación</a><ul>
<li class="chapter" data-level="13.5.1" data-path="probabilidad.html"><a href="probabilidad.html#regla-de-la-multiplicación"><i class="fa fa-check"></i><b>13.5.1</b> Regla de la multiplicación</a></li>
<li class="chapter" data-level="13.5.2" data-path="probabilidad.html"><a href="probabilidad.html#regla-de-la-multiplicación-bajo-independencia"><i class="fa fa-check"></i><b>13.5.2</b> Regla de la multiplicación bajo independencia</a></li>
<li class="chapter" data-level="13.5.3" data-path="probabilidad.html"><a href="probabilidad.html#regla-de-la-adición"><i class="fa fa-check"></i><b>13.5.3</b> Regla de la adición</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="probabilidad.html"><a href="probabilidad.html#combinaciones-y-permutaciones"><i class="fa fa-check"></i><b>13.6</b> Combinaciones y permutaciones</a><ul>
<li class="chapter" data-level="13.6.1" data-path="probabilidad.html"><a href="probabilidad.html#ejemplo-monte-carlo"><i class="fa fa-check"></i><b>13.6.1</b> Ejemplo Monte Carlo</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="probabilidad.html"><a href="probabilidad.html#ejemplos"><i class="fa fa-check"></i><b>13.7</b> Ejemplos</a><ul>
<li class="chapter" data-level="13.7.1" data-path="probabilidad.html"><a href="probabilidad.html#problema-monty-hall"><i class="fa fa-check"></i><b>13.7.1</b> Problema Monty Hall</a></li>
<li class="chapter" data-level="13.7.2" data-path="probabilidad.html"><a href="probabilidad.html#problema-de-cumpleaños"><i class="fa fa-check"></i><b>13.7.2</b> Problema de cumpleaños</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="probabilidad.html"><a href="probabilidad.html#infinito-en-la-práctica"><i class="fa fa-check"></i><b>13.8</b> Infinito en la práctica</a></li>
<li class="chapter" data-level="13.9" data-path="probabilidad.html"><a href="probabilidad.html#ejercicios-22"><i class="fa fa-check"></i><b>13.9</b> Ejercicios</a></li>
<li class="chapter" data-level="13.10" data-path="probabilidad.html"><a href="probabilidad.html#probabilidad-continua"><i class="fa fa-check"></i><b>13.10</b> Probabilidad continua</a></li>
<li class="chapter" data-level="13.11" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-teóricas-continuas"><i class="fa fa-check"></i><b>13.11</b> Distribuciones teóricas continuas</a><ul>
<li class="chapter" data-level="13.11.1" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-teóricas-como-aproximaciones"><i class="fa fa-check"></i><b>13.11.1</b> Distribuciones teóricas como aproximaciones</a></li>
<li class="chapter" data-level="13.11.2" data-path="probabilidad.html"><a href="probabilidad.html#la-densidad-de-probabilidad"><i class="fa fa-check"></i><b>13.11.2</b> La densidad de probabilidad</a></li>
</ul></li>
<li class="chapter" data-level="13.12" data-path="probabilidad.html"><a href="probabilidad.html#simulaciones-monte-carlo-para-variables-continuas"><i class="fa fa-check"></i><b>13.12</b> Simulaciones Monte Carlo para variables continuas</a></li>
<li class="chapter" data-level="13.13" data-path="probabilidad.html"><a href="probabilidad.html#distribuciones-continuas"><i class="fa fa-check"></i><b>13.13</b> Distribuciones continuas</a></li>
<li class="chapter" data-level="13.14" data-path="probabilidad.html"><a href="probabilidad.html#ejercicios-23"><i class="fa fa-check"></i><b>13.14</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html"><i class="fa fa-check"></i><b>14</b> Variables aleatorias</a><ul>
<li class="chapter" data-level="14.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#variables-aleatorias-1"><i class="fa fa-check"></i><b>14.1</b> Variables aleatorias</a></li>
<li class="chapter" data-level="14.2" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#modelos-de-muestreo"><i class="fa fa-check"></i><b>14.2</b> Modelos de muestreo</a></li>
<li class="chapter" data-level="14.3" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#la-distribución-de-probabilidad-de-una-variable-aleatoria"><i class="fa fa-check"></i><b>14.3</b> La distribución de probabilidad de una variable aleatoria</a></li>
<li class="chapter" data-level="14.4" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#distribuciones-versus-distribuciones-de-probabilidad"><i class="fa fa-check"></i><b>14.4</b> Distribuciones versus distribuciones de probabilidad</a></li>
<li class="chapter" data-level="14.5" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#notación-para-variables-aleatorias"><i class="fa fa-check"></i><b>14.5</b> Notación para variables aleatorias</a></li>
<li class="chapter" data-level="14.6" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#el-valor-esperado-y-el-error-estándar"><i class="fa fa-check"></i><b>14.6</b> El valor esperado y el error estándar</a><ul>
<li class="chapter" data-level="14.6.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#población-sd-versus-la-muestra-sd"><i class="fa fa-check"></i><b>14.6.1</b> Población SD versus la muestra SD</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#teorema-del-límite-central"><i class="fa fa-check"></i><b>14.7</b> Teorema del límite central</a><ul>
<li class="chapter" data-level="14.7.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#cuán-grande-es-grande-en-el-teorema-del-límite-central"><i class="fa fa-check"></i><b>14.7.1</b> ¿Cuán grande es grande en el teorema del límite central?</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#propiedades-estadísticas-de-promedios"><i class="fa fa-check"></i><b>14.8</b> Propiedades estadísticas de promedios</a></li>
<li class="chapter" data-level="14.9" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#ley-de-los-grandes-números"><i class="fa fa-check"></i><b>14.9</b> Ley de los grandes números</a><ul>
<li class="chapter" data-level="14.9.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#malinterpretando-la-ley-de-promedios"><i class="fa fa-check"></i><b>14.9.1</b> Malinterpretando la ley de promedios</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#ejercicios-24"><i class="fa fa-check"></i><b>14.10</b> Ejercicios</a></li>
<li class="chapter" data-level="14.11" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#estudio-de-caso-the-big-short"><i class="fa fa-check"></i><b>14.11</b> Estudio de caso: The Big Short</a><ul>
<li class="chapter" data-level="14.11.1" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#tasas-de-interés-explicadas-con-modelo-de-oportunidad"><i class="fa fa-check"></i><b>14.11.1</b> Tasas de interés explicadas con modelo de oportunidad</a></li>
<li class="chapter" data-level="14.11.2" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#the-big-short"><i class="fa fa-check"></i><b>14.11.2</b> The Big Short</a></li>
</ul></li>
<li class="chapter" data-level="14.12" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#ejercicios-25"><i class="fa fa-check"></i><b>14.12</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>15</b> Inferencia estadística</a><ul>
<li class="chapter" data-level="15.1" data-path="inference.html"><a href="inference.html#encuestas"><i class="fa fa-check"></i><b>15.1</b> Encuestas</a><ul>
<li class="chapter" data-level="15.1.1" data-path="inference.html"><a href="inference.html#el-modelo-de-muestreo-para-encuestas"><i class="fa fa-check"></i><b>15.1.1</b> El modelo de muestreo para encuestas</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="inference.html"><a href="inference.html#poblaciones-muestras-parámetros-y-estimaciones"><i class="fa fa-check"></i><b>15.2</b> Poblaciones, muestras, parámetros y estimaciones</a><ul>
<li class="chapter" data-level="15.2.1" data-path="inference.html"><a href="inference.html#el-promedio-de-la-muestra"><i class="fa fa-check"></i><b>15.2.1</b> El promedio de la muestra</a></li>
<li class="chapter" data-level="15.2.2" data-path="inference.html"><a href="inference.html#parámetros"><i class="fa fa-check"></i><b>15.2.2</b> Parámetros</a></li>
<li class="chapter" data-level="15.2.3" data-path="inference.html"><a href="inference.html#encuesta-versus-pronóstico"><i class="fa fa-check"></i><b>15.2.3</b> Encuesta versus pronóstico</a></li>
<li class="chapter" data-level="15.2.4" data-path="inference.html"><a href="inference.html#propiedades-de-nuestra-estimación-valor-esperado-y-error-estándar"><i class="fa fa-check"></i><b>15.2.4</b> Propiedades de nuestra estimación: valor esperado y error estándar</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="inference.html"><a href="inference.html#ejercicios-26"><i class="fa fa-check"></i><b>15.3</b> Ejercicios</a></li>
<li class="chapter" data-level="15.4" data-path="inference.html"><a href="inference.html#clt"><i class="fa fa-check"></i><b>15.4</b> Teorema del límite central en la práctica</a><ul>
<li class="chapter" data-level="15.4.1" data-path="inference.html"><a href="inference.html#una-simulación-monte-carlo"><i class="fa fa-check"></i><b>15.4.1</b> Una simulación Monte Carlo</a></li>
<li class="chapter" data-level="15.4.2" data-path="inference.html"><a href="inference.html#la-diferencia"><i class="fa fa-check"></i><b>15.4.2</b> La diferencia</a></li>
<li class="chapter" data-level="15.4.3" data-path="inference.html"><a href="inference.html#sesgo-por-qué-no-realizar-una-encuesta-bien-grande"><i class="fa fa-check"></i><b>15.4.3</b> Sesgo: ¿por qué no realizar una encuesta bien grande?</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="inference.html"><a href="inference.html#ejercicios-27"><i class="fa fa-check"></i><b>15.5</b> Ejercicios</a></li>
<li class="chapter" data-level="15.6" data-path="inference.html"><a href="inference.html#intervalos-de-confianza"><i class="fa fa-check"></i><b>15.6</b> Intervalos de confianza</a><ul>
<li class="chapter" data-level="15.6.1" data-path="inference.html"><a href="inference.html#una-simulación-monte-carlo-1"><i class="fa fa-check"></i><b>15.6.1</b> Una simulación Monte Carlo</a></li>
<li class="chapter" data-level="15.6.2" data-path="inference.html"><a href="inference.html#el-idioma-correcto"><i class="fa fa-check"></i><b>15.6.2</b> El idioma correcto</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="inference.html"><a href="inference.html#ejercicios-28"><i class="fa fa-check"></i><b>15.7</b> Ejercicios</a></li>
<li class="chapter" data-level="15.8" data-path="inference.html"><a href="inference.html#poder"><i class="fa fa-check"></i><b>15.8</b> Poder</a></li>
<li class="chapter" data-level="15.9" data-path="inference.html"><a href="inference.html#valores-p"><i class="fa fa-check"></i><b>15.9</b> valores p</a></li>
<li class="chapter" data-level="15.10" data-path="inference.html"><a href="inference.html#association-tests"><i class="fa fa-check"></i><b>15.10</b> Pruebas de asociación</a><ul>
<li class="chapter" data-level="15.10.1" data-path="inference.html"><a href="inference.html#lady-tasting-tea"><i class="fa fa-check"></i><b>15.10.1</b> Lady Tasting Tea</a></li>
<li class="chapter" data-level="15.10.2" data-path="inference.html"><a href="inference.html#tablas-2x2"><i class="fa fa-check"></i><b>15.10.2</b> Tablas 2x2</a></li>
<li class="chapter" data-level="15.10.3" data-path="inference.html"><a href="inference.html#prueba-de-chi-cuadrado"><i class="fa fa-check"></i><b>15.10.3</b> Prueba de chi-cuadrado</a></li>
<li class="chapter" data-level="15.10.4" data-path="inference.html"><a href="inference.html#odds-ratio"><i class="fa fa-check"></i><b>15.10.4</b> Riesgo relativo</a></li>
<li class="chapter" data-level="15.10.5" data-path="inference.html"><a href="inference.html#intervalos-de-confianza-para-el-riesgo-relativo"><i class="fa fa-check"></i><b>15.10.5</b> Intervalos de confianza para el riesgo relativo</a></li>
<li class="chapter" data-level="15.10.6" data-path="inference.html"><a href="inference.html#corrección-de-recuento-pequeño"><i class="fa fa-check"></i><b>15.10.6</b> Corrección de recuento pequeño</a></li>
<li class="chapter" data-level="15.10.7" data-path="inference.html"><a href="inference.html#muestras-grandes-valores-p-pequeños"><i class="fa fa-check"></i><b>15.10.7</b> Muestras grandes, valores p pequeños</a></li>
</ul></li>
<li class="chapter" data-level="15.11" data-path="inference.html"><a href="inference.html#ejercicios-29"><i class="fa fa-check"></i><b>15.11</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="models.html"><a href="models.html"><i class="fa fa-check"></i><b>16</b> Modelos estadísticos</a><ul>
<li class="chapter" data-level="16.1" data-path="models.html"><a href="models.html#agregadores-de-encuestas"><i class="fa fa-check"></i><b>16.1</b> Agregadores de encuestas</a><ul>
<li class="chapter" data-level="16.1.1" data-path="models.html"><a href="models.html#datos-de-encuesta"><i class="fa fa-check"></i><b>16.1.1</b> Datos de encuesta</a></li>
<li class="chapter" data-level="16.1.2" data-path="models.html"><a href="models.html#sesgo-de-los-encuestadores"><i class="fa fa-check"></i><b>16.1.2</b> Sesgo de los encuestadores</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="models.html"><a href="models.html#data-driven-model"><i class="fa fa-check"></i><b>16.2</b> Modelos basados en datos</a></li>
<li class="chapter" data-level="16.3" data-path="models.html"><a href="models.html#ejercicios-30"><i class="fa fa-check"></i><b>16.3</b> Ejercicios</a></li>
<li class="chapter" data-level="16.4" data-path="models.html"><a href="models.html#bayesian-statistics"><i class="fa fa-check"></i><b>16.4</b> Estadísticas bayesianas</a><ul>
<li class="chapter" data-level="16.4.1" data-path="models.html"><a href="models.html#teorema-de-bayes"><i class="fa fa-check"></i><b>16.4.1</b> Teorema de Bayes</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="models.html"><a href="models.html#simulación-del-teorema-de-bayes"><i class="fa fa-check"></i><b>16.5</b> Simulación del teorema de Bayes</a><ul>
<li class="chapter" data-level="16.5.1" data-path="models.html"><a href="models.html#bayes-en-la-práctica"><i class="fa fa-check"></i><b>16.5.1</b> Bayes en la práctica</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="models.html"><a href="models.html#modelos-jerárquicos"><i class="fa fa-check"></i><b>16.6</b> Modelos jerárquicos</a></li>
<li class="chapter" data-level="16.7" data-path="models.html"><a href="models.html#ejercicios-31"><i class="fa fa-check"></i><b>16.7</b> Ejercicios</a></li>
<li class="chapter" data-level="16.8" data-path="models.html"><a href="models.html#election-forecasting"><i class="fa fa-check"></i><b>16.8</b> Estudio de caso: pronóstico de elecciones</a><ul>
<li class="chapter" data-level="16.8.1" data-path="models.html"><a href="models.html#bayesian-approach"><i class="fa fa-check"></i><b>16.8.1</b> Enfoque bayesiano</a></li>
<li class="chapter" data-level="16.8.2" data-path="models.html"><a href="models.html#el-sesgo-general"><i class="fa fa-check"></i><b>16.8.2</b> El sesgo general</a></li>
<li class="chapter" data-level="16.8.3" data-path="models.html"><a href="models.html#representaciones-matemáticas-de-modelos"><i class="fa fa-check"></i><b>16.8.3</b> Representaciones matemáticas de modelos</a></li>
<li class="chapter" data-level="16.8.4" data-path="models.html"><a href="models.html#prediciendo-el-colegio-electoral"><i class="fa fa-check"></i><b>16.8.4</b> Prediciendo el colegio electoral</a></li>
<li class="chapter" data-level="16.8.5" data-path="models.html"><a href="models.html#pronósticos"><i class="fa fa-check"></i><b>16.8.5</b> Pronósticos</a></li>
</ul></li>
<li class="chapter" data-level="16.9" data-path="models.html"><a href="models.html#ejercicios-32"><i class="fa fa-check"></i><b>16.9</b> Ejercicios</a></li>
<li class="chapter" data-level="16.10" data-path="models.html"><a href="models.html#t-dist"><i class="fa fa-check"></i><b>16.10</b> La distribución t</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>17</b> Regresión</a><ul>
<li class="chapter" data-level="17.1" data-path="regression.html"><a href="regression.html#estudio-de-caso-la-altura-es-hereditaria"><i class="fa fa-check"></i><b>17.1</b> Estudio de caso: ¿la altura es hereditaria?</a></li>
<li class="chapter" data-level="17.2" data-path="regression.html"><a href="regression.html#corr-coef"><i class="fa fa-check"></i><b>17.2</b> El coeficiente de correlación</a><ul>
<li class="chapter" data-level="17.2.1" data-path="regression.html"><a href="regression.html#la-correlación-de-muestra-es-una-variable-aleatoria"><i class="fa fa-check"></i><b>17.2.1</b> La correlación de muestra es una variable aleatoria</a></li>
<li class="chapter" data-level="17.2.2" data-path="regression.html"><a href="regression.html#la-correlación-no-siempre-es-un-resumen-útil"><i class="fa fa-check"></i><b>17.2.2</b> La correlación no siempre es un resumen útil</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="regression.html"><a href="regression.html#conditional-expectation"><i class="fa fa-check"></i><b>17.3</b> Valor esperado condicional</a></li>
<li class="chapter" data-level="17.4" data-path="regression.html"><a href="regression.html#la-línea-de-regresión"><i class="fa fa-check"></i><b>17.4</b> La línea de regresión</a><ul>
<li class="chapter" data-level="17.4.1" data-path="regression.html"><a href="regression.html#la-regresión-mejora-la-precisión"><i class="fa fa-check"></i><b>17.4.1</b> La regresión mejora la precisión</a></li>
<li class="chapter" data-level="17.4.2" data-path="regression.html"><a href="regression.html#distribución-normal-de-dos-variables-avanzada"><i class="fa fa-check"></i><b>17.4.2</b> Distribución normal de dos variables (avanzada)</a></li>
<li class="chapter" data-level="17.4.3" data-path="regression.html"><a href="regression.html#varianza-explicada"><i class="fa fa-check"></i><b>17.4.3</b> Varianza explicada</a></li>
<li class="chapter" data-level="17.4.4" data-path="regression.html"><a href="regression.html#advertencia-hay-dos-líneas-de-regresión"><i class="fa fa-check"></i><b>17.4.4</b> Advertencia: hay dos líneas de regresión</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="regression.html"><a href="regression.html#ejercicios-33"><i class="fa fa-check"></i><b>17.5</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="modelos-lineales.html"><a href="modelos-lineales.html"><i class="fa fa-check"></i><b>18</b> Modelos lineales</a><ul>
<li class="chapter" data-level="18.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#estudio-de-caso-moneyball"><i class="fa fa-check"></i><b>18.1</b> Estudio de caso: Moneyball</a><ul>
<li class="chapter" data-level="18.1.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#sabermetrics"><i class="fa fa-check"></i><b>18.1.1</b> Sabermetrics</a></li>
<li class="chapter" data-level="18.1.2" data-path="modelos-lineales.html"><a href="modelos-lineales.html#conceptos-básicos-de-béisbol"><i class="fa fa-check"></i><b>18.1.2</b> Conceptos básicos de béisbol</a></li>
<li class="chapter" data-level="18.1.3" data-path="modelos-lineales.html"><a href="modelos-lineales.html#no-hay-premios-para-bb"><i class="fa fa-check"></i><b>18.1.3</b> No hay premios para BB</a></li>
<li class="chapter" data-level="18.1.4" data-path="modelos-lineales.html"><a href="modelos-lineales.html#base-por-bolas-o-bases-robadas"><i class="fa fa-check"></i><b>18.1.4</b> ¿Base por bolas o bases robadas?</a></li>
<li class="chapter" data-level="18.1.5" data-path="modelos-lineales.html"><a href="modelos-lineales.html#regresión-aplicada-a-las-estadísticas-de-béisbol"><i class="fa fa-check"></i><b>18.1.5</b> Regresión aplicada a las estadísticas de béisbol</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="modelos-lineales.html"><a href="modelos-lineales.html#fix-confusiónvariables-confundidasde-confusiónfactor-de-confusión"><i class="fa fa-check"></i><b>18.2</b> [fix] Confusión/Variables confundidas/de confusión/Factor de confusión</a><ul>
<li class="chapter" data-level="18.2.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#comprender-la-confusión-a-través-de-la-estratificación"><i class="fa fa-check"></i><b>18.2.1</b> Comprender la confusión a través de la estratificación</a></li>
<li class="chapter" data-level="18.2.2" data-path="modelos-lineales.html"><a href="modelos-lineales.html#regresión-con-múltiples-variablesregresión-lineal-múltipleregresión-múltiple-fix"><i class="fa fa-check"></i><b>18.2.2</b> Regresión con múltiples variables/regresión lineal múltiple/regresión múltiple [fix]</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="modelos-lineales.html"><a href="modelos-lineales.html#lse"><i class="fa fa-check"></i><b>18.3</b> Estimaciones de mínimos cuadrados</a><ul>
<li class="chapter" data-level="18.3.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#interpretando-modelos-lineales"><i class="fa fa-check"></i><b>18.3.1</b> Interpretando modelos lineales</a></li>
<li class="chapter" data-level="18.3.2" data-path="modelos-lineales.html"><a href="modelos-lineales.html#estimaciones-de-mínimos-cuadrados-lse"><i class="fa fa-check"></i><b>18.3.2</b> Estimaciones de mínimos cuadrados (LSE)</a></li>
<li class="chapter" data-level="18.3.3" data-path="modelos-lineales.html"><a href="modelos-lineales.html#la-función-lm"><i class="fa fa-check"></i><b>18.3.3</b> La función <code>lm</code></a></li>
<li class="chapter" data-level="18.3.4" data-path="modelos-lineales.html"><a href="modelos-lineales.html#lse-son-variables-aleatorias"><i class="fa fa-check"></i><b>18.3.4</b> LSE son variables aleatorias</a></li>
<li class="chapter" data-level="18.3.5" data-path="modelos-lineales.html"><a href="modelos-lineales.html#los-valores-pronosticados-son-variables-aleatorias"><i class="fa fa-check"></i><b>18.3.5</b> Los valores pronosticados son variables aleatorias</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="modelos-lineales.html"><a href="modelos-lineales.html#ejercicios-34"><i class="fa fa-check"></i><b>18.4</b> Ejercicios</a></li>
<li class="chapter" data-level="18.5" data-path="modelos-lineales.html"><a href="modelos-lineales.html#regresión-lineal-en-el-tidyverse"><i class="fa fa-check"></i><b>18.5</b> Regresión lineal en el tidyverse</a><ul>
<li class="chapter" data-level="18.5.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#el-paquete-de-escoba"><i class="fa fa-check"></i><b>18.5.1</b> El paquete de escoba</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="modelos-lineales.html"><a href="modelos-lineales.html#ejercicios-35"><i class="fa fa-check"></i><b>18.6</b> Ejercicios</a></li>
<li class="chapter" data-level="18.7" data-path="modelos-lineales.html"><a href="modelos-lineales.html#estudio-de-caso-moneyball-continuación"><i class="fa fa-check"></i><b>18.7</b> Estudio de caso: Moneyball (continuación)</a><ul>
<li class="chapter" data-level="18.7.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#agregar-información-de-salario-y-posición"><i class="fa fa-check"></i><b>18.7.1</b> Agregar información de salario y posición</a></li>
<li class="chapter" data-level="18.7.2" data-path="modelos-lineales.html"><a href="modelos-lineales.html#escogiendo-nueve-jugadores"><i class="fa fa-check"></i><b>18.7.2</b> Escogiendo nueve jugadores</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="modelos-lineales.html"><a href="modelos-lineales.html#la-falacia-de-la-regresión"><i class="fa fa-check"></i><b>18.8</b> La falacia de la regresión</a></li>
<li class="chapter" data-level="18.9" data-path="modelos-lineales.html"><a href="modelos-lineales.html#modelos-de-error-de-medición"><i class="fa fa-check"></i><b>18.9</b> Modelos de error de medición</a></li>
<li class="chapter" data-level="18.10" data-path="modelos-lineales.html"><a href="modelos-lineales.html#ejercicios-36"><i class="fa fa-check"></i><b>18.10</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html"><i class="fa fa-check"></i><b>19</b> La asociación no implica la causalidad</a><ul>
<li class="chapter" data-level="19.1" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#correlación-espuria"><i class="fa fa-check"></i><b>19.1</b> Correlación espuria</a></li>
<li class="chapter" data-level="19.2" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#valores-atípicos-1"><i class="fa fa-check"></i><b>19.2</b> Valores atípicos</a></li>
<li class="chapter" data-level="19.3" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#inversión-de-causa-y-efecto"><i class="fa fa-check"></i><b>19.3</b> Inversión de causa y efecto</a></li>
<li class="chapter" data-level="19.4" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#confusores"><i class="fa fa-check"></i><b>19.4</b> Confusores</a><ul>
<li class="chapter" data-level="19.4.1" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#ejemplo-admisiones-uc-berkeley"><i class="fa fa-check"></i><b>19.4.1</b> Ejemplo: admisiones UC Berkeley</a></li>
<li class="chapter" data-level="19.4.2" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#confusión-explicada-gráficamente"><i class="fa fa-check"></i><b>19.4.2</b> Confusión explicada gráficamente</a></li>
<li class="chapter" data-level="19.4.3" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#promedio-después-de-estratificar"><i class="fa fa-check"></i><b>19.4.3</b> Promedio después de estratificar</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#la-paradoja-de-simpson"><i class="fa fa-check"></i><b>19.5</b> La paradoja de Simpson</a></li>
<li class="chapter" data-level="19.6" data-path="la-asociación-no-implica-la-causalidad.html"><a href="la-asociación-no-implica-la-causalidad.html#ejercicios-37"><i class="fa fa-check"></i><b>19.6</b> Ejercicios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la Ciencia de Datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidyverse" class="section level1">
<h1><span class="header-section-number">Capítulo 4</span> <em>tidyverse</em></h1>
<p>Hasta ahora hemos estado manipulando vectores reordenándolos y creando subconjuntos mediante la indexación. Sin embargo, una vez comencemos los análisis más avanzados, la unidad preferida para el almacenamiento de datos no es el vector sino el <em>data frame</em>. En este capítulo aprenderemos a trabajar directamente con <em>data frames</em>, que facilitan enormemente la organización de información. Utilizaremos <em>data frames</em> para la mayoría de este libro. Nos enfocaremos en un formato de datos específico denominado <em>tidy</em> y en una colección específica de paquetes que son particularmente útiles para trabajar con data <em>tidy</em> que se denomina el <em>tidyverse</em>.</p>
<p>Podemos cargar todos los paquetes <em>tidyverse</em> a la vez al instalar y cargar el paquete <strong>tidyverse</strong>:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="tidyverse.html#cb155-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<p>Aprenderemos cómo implementar el enfoque <em>tidyverse</em> a lo largo del libro, pero antes de profundizar en los detalles, en este capítulo presentamos algunos de los aspectos más utilizadas del <em>tidyverse</em>, comenzando con el paquete <strong>dplyr</strong> para manipular los <em>data frames</em> y el paquete <strong>purrr</strong> para trabajar con las funciones. Tengan en cuenta que el <em>tidyverse</em> también incluye un paquete para graficar, <strong>ggplot2</strong>, que presentaremos más adelante en el Capítulo <a href="ggplot2.html#ggplot2">7</a> en la parte “Visualización de datos” del libro; el paquete <strong>readr</strong> discutido en el Capítulo <a href="importing-data.html#importing-data">5</a>; y muchos otros. En este capítulo, primero presentamos el concepto de data <em>tidy</em> y luego demostramos cómo usamos el <em>tidyverse</em> para trabajar con <em>data frames</em> en este formato.</p>
<div id="tidy-data" class="section level2">
<h2><span class="header-section-number">4.1</span> Data <em>tidy</em></h2>
<p>Decimos que una tabla de datos está en formato <em>tidy</em> si cada fila representa una observación y las columnas representan las diferentes variables disponibles para cada una de estas observaciones. El set de datos <code>murders</code> es un ejemplo de un <em>tidy data frame</em>.</p>
<pre><code>#&gt;        state abb region population total
#&gt; 1    Alabama  AL  South    4779736   135
#&gt; 2     Alaska  AK   West     710231    19
#&gt; 3    Arizona  AZ   West    6392017   232
#&gt; 4   Arkansas  AR  South    2915918    93
#&gt; 5 California  CA   West   37253956  1257
#&gt; 6   Colorado  CO   West    5029196    65</code></pre>
<p>Cada fila representa un estado con cada una de las cinco columnas proveyendo una variable diferente relacionada con estos estados: nombre, abreviatura, región, población y total de asesinatos.</p>
<p>Para ver cómo se puede proveer la misma información en diferentes formatos, consideren el siguiente ejemplo:</p>
<pre><code>#&gt;       country year fertility
#&gt; 1     Germany 1960      2.41
#&gt; 2 South Korea 1960      6.16
#&gt; 3     Germany 1961      2.44
#&gt; 4 South Korea 1961      5.99
#&gt; 5     Germany 1962      2.47
#&gt; 6 South Korea 1962      5.79</code></pre>
<p>Este set de datos <em>tidy</em> ofrece tasas de fertilidad para dos países a lo largo de los años. Se considera un set de datos <em>tidy</em> porque cada fila presenta una observación con las tres variables: país, año y tasa de fecundidad. Sin embargo, este set de datos originalmente vino en otro formato y le cambiamos la forma para distribuir a través del paquete <strong>dslabs</strong>. Originalmente, los datos estaban en el siguiente formato:</p>
<pre><code>#&gt;       country 1960 1961 1962
#&gt; 1     Germany 2.41 2.44 2.47
#&gt; 2 South Korea 6.16 5.99 5.79</code></pre>
<p>Se provee la misma información, pero hay dos diferencias importantes en el formato: 1) cada fila incluye varias observaciones y 2) una de las variables, año, se almacena en el encabezado. Para que los paquetes del <em>tidyverse</em> se utilicen de manera óptima, le tenemos que cambiar la forma a los datos para que estén en formato <em>tidy</em>, que aprenderán a hacer en la sección “<em>Wrangling</em> de datos” del libro. Hasta entonces, utilizaremos ejemplos de sets de datos que ya están en formato <em>tidy</em>.</p>
<p>Aunque no es inmediatamente obvio, a medida que avancen en el libro comenzarán a apreciar las ventajas de trabajar en un marco en el que las funciones usan formatos <em>tidy</em> tanto para <em>inputs</em> como para <em>outputs</em>. Verán cómo esto permite que los analistas de datos se enfoquen en los aspectos más importantes del análisis en lugar del formato de los datos.</p>
</div>
<div id="ejercicios-8" class="section level2">
<h2><span class="header-section-number">4.2</span> Ejercicios</h2>
<p>1. Examine el set de datos incluidos en base R <code>co2</code>. ¿Cuál de los siguientes es cierto?</p>
<ol style="list-style-type: lower-alpha">
<li><code>co2</code> son datos <em>tidy</em>: tiene un año para cada fila.</li>
<li><code>co2</code> no es <em>tidy</em>: necesitamos al menos una columna con un vector de caracteres.</li>
<li><code>co2</code> no es <em>tidy</em>: es una matriz en lugar de un <em>data frame</em>.</li>
<li><code>co2</code> no es <em>tidy</em>: para ser <em>tidy</em> tendríamos que cambiarle la forma (<em>wrangle it</em> en inglés) para tener tres columnas (año, mes y valor), y entonces cada observación de CO2 tendría una fila.</li>
</ol>
<p>2. Examine el set de datos incluidos en base R <code>ChickWeight</code>. ¿Cuál de los siguientes es cierto?</p>
<ol style="list-style-type: lower-alpha">
<li><code>ChickWeight</code> no es <em>tidy</em>: cada pollito tiene más de una fila.</li>
<li><code>ChickWeight</code> es <em>tidy</em>: cada observación (un peso) está representada por una fila. El pollito de donde provino esta medida es una de las variables.</li>
<li><code>ChickWeight</code> no es <em>tidy</em>: nos falta la columna del año.</li>
<li><code>ChickWeight</code> es <em>tidy</em>: se almacena en un <em>data frame</em>.</li>
</ol>
<p>3. Examine el set de datos predefinido <code>BOD</code>. ¿Cuál de los siguientes es cierto?</p>
<ol style="list-style-type: lower-alpha">
<li><code>BOD</code> no es <em>tidy</em>: solo tiene seis filas.</li>
<li><code>BOD</code> no es <em>tidy</em>: la primera columna es solo un índice.</li>
<li><code>BOD</code> es <em>tidy</em>: cada fila es una observación con dos valores (tiempo y demanda)</li>
<li><code>BOD</code> es <em>tidy</em>: todos los sets de datos pequeños son <em>tidy</em> por definición.</li>
</ol>
<p>4. ¿Cuál de los siguientes sets de datos integrados es <em>tidy</em>? Puede elegir más de uno.</p>
<ol style="list-style-type: lower-alpha">
<li><code>BJsales</code></li>
<li><code>EuStockMarkets</code></li>
<li><code>DNase</code></li>
<li><code>Formaldehyde</code></li>
<li><code>Orange</code></li>
<li><code>UCBAdmissions</code></li>
</ol>
</div>
<div id="cómo-manipular-los-data-frames" class="section level2">
<h2><span class="header-section-number">4.3</span> Cómo manipular los <em>data frames</em></h2>
<p>El paquete <strong>dplyr</strong> del <em>tidyverse</em> ofrece funciones que realizan algunas de las operaciones más comunes cuando se trabaja con los <em>data frames</em> y usa nombres para estas funciones que son relativamente fáciles de recordar. Por ejemplo, para cambiar la tabla de datos agregando una nueva columna, utilizamos <code>mutate</code>. Para filtrar la tabla de datos a un subconjunto de filas, utilizamos <code>filter</code>. Finalmente, para subdividir los datos seleccionando columnas específicas, usamos <code>select</code>.</p>
<div id="cómo-añadir-una-columna-con-mutate" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Cómo añadir una columna con <code>mutate</code></h3>
<p>Queremos que toda la información necesaria para nuestro análisis se incluya en la tabla de datos. Entonces, la primera tarea es añadir las tasas de asesinatos a nuestro <em>data frame</em> de asesinatos. La función <code>mutate</code> toma el <em>data frame</em> como primer argumento y el nombre y los valores de la variable como segundo argumento usando la convención <code>name = values</code>. Entonces, para añadir tasas de asesinatos, usamos:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="tidyverse.html#cb159-1"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb159-2"><a href="tidyverse.html#cb159-2"></a><span class="kw">data</span>(<span class="st">&quot;murders&quot;</span>)</span>
<span id="cb159-3"><a href="tidyverse.html#cb159-3"></a>murders &lt;-<span class="st"> </span><span class="kw">mutate</span>(murders, <span class="dt">rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>)</span></code></pre></div>
<p>Recuerden que aquí usamos <code>total</code> y <code>population</code> dentro de la función, que son objetos <strong>no</strong> definidos en nuestro espacio de trabajo. Pero, ¿por qué no recibimos un error?</p>
<p>Esta es una de las principales características de <strong>dplyr</strong>. Las funciones en este paquete, como <code>mutate</code>, saben buscar variables en el <em>data frame</em> que el primer argumento le provee. En la llamada a <code>mutate</code> que vemos arriba, <code>total</code> tendrá los valores de <code>murders$total</code>. Este enfoque hace que el código sea mucho más legible.</p>
<p>Podemos ver que se agrega la nueva columna:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="tidyverse.html#cb160-1"></a><span class="kw">head</span>(murders)</span>
<span id="cb160-2"><a href="tidyverse.html#cb160-2"></a><span class="co">#&gt;        state abb region population total rate</span></span>
<span id="cb160-3"><a href="tidyverse.html#cb160-3"></a><span class="co">#&gt; 1    Alabama  AL  South    4779736   135 2.82</span></span>
<span id="cb160-4"><a href="tidyverse.html#cb160-4"></a><span class="co">#&gt; 2     Alaska  AK   West     710231    19 2.68</span></span>
<span id="cb160-5"><a href="tidyverse.html#cb160-5"></a><span class="co">#&gt; 3    Arizona  AZ   West    6392017   232 3.63</span></span>
<span id="cb160-6"><a href="tidyverse.html#cb160-6"></a><span class="co">#&gt; 4   Arkansas  AR  South    2915918    93 3.19</span></span>
<span id="cb160-7"><a href="tidyverse.html#cb160-7"></a><span class="co">#&gt; 5 California  CA   West   37253956  1257 3.37</span></span>
<span id="cb160-8"><a href="tidyverse.html#cb160-8"></a><span class="co">#&gt; 6   Colorado  CO   West    5029196    65 1.29</span></span></code></pre></div>
<p>Aunque hemos sobrescrito el original objeto <code>murders</code>, esto no cambia el objeto que se cargó con <code>data(murders)</code>. Si cargamos la data <code>murders</code> nuevamente, el original sobrescribirá nuestra versión mutada.</p>
</div>
<div id="cómo-crear-subconjuntos-con-filter" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Cómo crear subconjuntos con <code>filter</code></h3>
<p>Ahora supongamos que queremos filtrar la tabla de datos para mostrar solo las entradas para las cuales la tasa de homicidios es inferior a 0.71. Para hacer esto usamos la función <code>filter</code>, que toma la tabla de datos como primer argumento y luego la declaración condicional como el segundo. Igual que con <code>mutate</code>, podemos usar los nombres de variables sin comillas de <code>murders</code> dentro de la función y esta sabrá que nos referimos a las columnas y no a los objetos en el espacio de trabajo.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="tidyverse.html#cb161-1"></a><span class="kw">filter</span>(murders, rate <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.71</span>)</span>
<span id="cb161-2"><a href="tidyverse.html#cb161-2"></a><span class="co">#&gt;           state abb        region population total  rate</span></span>
<span id="cb161-3"><a href="tidyverse.html#cb161-3"></a><span class="co">#&gt; 1        Hawaii  HI          West    1360301     7 0.515</span></span>
<span id="cb161-4"><a href="tidyverse.html#cb161-4"></a><span class="co">#&gt; 2          Iowa  IA North Central    3046355    21 0.689</span></span>
<span id="cb161-5"><a href="tidyverse.html#cb161-5"></a><span class="co">#&gt; 3 New Hampshire  NH     Northeast    1316470     5 0.380</span></span>
<span id="cb161-6"><a href="tidyverse.html#cb161-6"></a><span class="co">#&gt; 4  North Dakota  ND North Central     672591     4 0.595</span></span>
<span id="cb161-7"><a href="tidyverse.html#cb161-7"></a><span class="co">#&gt; 5       Vermont  VT     Northeast     625741     2 0.320</span></span></code></pre></div>
</div>
<div id="cómo-seleccionar-columnas-con-select" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Cómo seleccionar columnas con <code>select</code></h3>
<p>Aunque nuestra tabla de datos solo tiene seis columnas, algunas tablas de datos incluyen cientos. Si queremos ver solo algunas columnas, podemos usar la función <code>select</code> de <strong>dplyr</strong>. En el siguiente código seleccionamos tres, asignamos el resultado a un nuevo objeto y luego filtramos este nuevo objeto:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="tidyverse.html#cb162-1"></a>new_table &lt;-<span class="st"> </span><span class="kw">select</span>(murders, state, region, rate)</span>
<span id="cb162-2"><a href="tidyverse.html#cb162-2"></a><span class="kw">filter</span>(new_table, rate <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.71</span>)</span>
<span id="cb162-3"><a href="tidyverse.html#cb162-3"></a><span class="co">#&gt;           state        region  rate</span></span>
<span id="cb162-4"><a href="tidyverse.html#cb162-4"></a><span class="co">#&gt; 1        Hawaii          West 0.515</span></span>
<span id="cb162-5"><a href="tidyverse.html#cb162-5"></a><span class="co">#&gt; 2          Iowa North Central 0.689</span></span>
<span id="cb162-6"><a href="tidyverse.html#cb162-6"></a><span class="co">#&gt; 3 New Hampshire     Northeast 0.380</span></span>
<span id="cb162-7"><a href="tidyverse.html#cb162-7"></a><span class="co">#&gt; 4  North Dakota North Central 0.595</span></span>
<span id="cb162-8"><a href="tidyverse.html#cb162-8"></a><span class="co">#&gt; 5       Vermont     Northeast 0.320</span></span></code></pre></div>
<p>En la llamada a <code>select</code>, el primer argumento <code>murders</code> es un objeto, pero <code>state</code>, <code>region</code> y <code>rate</code> son nombres de variables.</p>
</div>
</div>
<div id="ejercicios-9" class="section level2">
<h2><span class="header-section-number">4.4</span> Ejercicios</h2>
<p>1. Cargue el paquete <strong>dplyr</strong> y el set de datos de asesinatos de EE.UU..</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="tidyverse.html#cb163-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb163-2"><a href="tidyverse.html#cb163-2"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb163-3"><a href="tidyverse.html#cb163-3"></a><span class="kw">data</span>(murders)</span></code></pre></div>
<p>Puede añadir columnas usando la función <code>mutate</code> de <strong>dplyr</strong>. Esta función reconoce los nombres de la columnas y dentro de la función puede llamarlos sin comillas:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="tidyverse.html#cb164-1"></a>murders &lt;-<span class="st"> </span><span class="kw">mutate</span>(murders, <span class="dt">population_in_millions =</span> population<span class="op">/</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">6</span>)</span></code></pre></div>
<p>Podemos escribir <code>population</code> en vez de <code>murders$population</code>. La función <code>mutate</code> sabe que estamos agarrando columnas de <code>murders</code>.</p>
<p>Use la función <code>mutate</code> para añadir una columna de asesinatos llamada <code>rate</code> con la tasa de asesinatos por 100,000 como en el código del ejemplo anterior. Asegúrese de redefinir <code>murders</code> como se hizo en el código del ejemplo anterior (murders &lt;- [su código]) para que podamos seguir usando esta variable.</p>
<p>2. Si <code>rank(x)</code> le da el rango de las entradas de <code>x</code> de menor a mayor, <code>rank(-x)</code> le da los rangos de mayor a menor. Use la función <code>mutate</code> para añadir una columna <code>rank</code> que contiene el rango de la tasa de asesinatos de mayor a menor. Asegúrese de redefinir <code>murders</code> para poder seguir usando esta variable.</p>
<p>3. Con <strong>dplyr</strong>, podemos usar <code>select</code> para mostrar solo ciertas columnas. Por ejemplo, con este código solo mostraríamos los estados y los tamaños de población:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="tidyverse.html#cb165-1"></a><span class="kw">select</span>(murders, state, population) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</span></code></pre></div>
<p>Utilice <code>select</code> para mostrar los nombres de los estados y las abreviaturas en <code>murders</code>. No redefina <code>murders</code>, solo muestre los resultados.</p>
<p>4. La función <code>filter</code> de <strong>dplyr</strong> se utiliza para elegir filas específicas del <em>data frame</em> para guardar. A diferencia de <code>select</code> que es para columnas, <code>filter</code> es para filas. Por ejemplo, puede mostrar solo la fila de Nueva York así:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="tidyverse.html#cb166-1"></a><span class="kw">filter</span>(murders, state <span class="op">==</span><span class="st"> &quot;New York&quot;</span>)</span></code></pre></div>
<p>Puede usar otros vectores lógicos para filtrar filas.</p>
<p>Utilice <code>filter</code> para mostrar los cinco estados con las tasas de asesinatos más altas. Después de añadir la tasa y el rango de asesinatos, no cambie el set de datos de asesinatos de EE. UU., solo muestre el resultado. Recuerde que puede filtrar basándose en la columna <code>rank</code>.</p>
<p>5. Podemos eliminar filas usando el operador <code>!=</code>. Por ejemplo, para eliminar Florida, haríamos esto:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="tidyverse.html#cb167-1"></a>no_florida &lt;-<span class="st"> </span><span class="kw">filter</span>(murders, state <span class="op">!=</span><span class="st"> &quot;Florida&quot;</span>)</span></code></pre></div>
<p>Cree un nuevo <em>data frame</em> con el nombre <code>no_south</code> que elimina los estados de la región sur. ¿Cuántos estados hay en esta categoría? Puede usar la función <code>nrow</code> para esto.</p>
<p>6. También podemos usar <code>%in%</code> para filtrar con <strong>dplyr</strong>. Por lo tanto, puede ver los datos de Nueva York y Texas de esta manera:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="tidyverse.html#cb168-1"></a><span class="kw">filter</span>(murders, state <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Texas&quot;</span>))</span></code></pre></div>
<p>Cree un nuevo <em>data frame</em> llamado <code>murders_nw</code> con solo los estados del noreste y oeste. ¿Cuántos estados hay en esta categoría?</p>
<p>7. Suponga que desea vivir en el noreste u oeste <strong>y</strong> desea que la tasa de homicidios sea inferior a 1. Queremos ver los datos de los estados que satisfacen estas opciones. Tenga en cuenta que puede usar operadores lógicos con <code>filter</code>. Aquí hay un ejemplo en el que filtramos para mantener solo estados pequeños en la región noreste.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="tidyverse.html#cb169-1"></a><span class="kw">filter</span>(murders, population <span class="op">&lt;</span><span class="st"> </span><span class="dv">5000000</span> <span class="op">&amp;</span><span class="st"> </span>region <span class="op">==</span><span class="st"> &quot;Northeast&quot;</span>)</span></code></pre></div>
<p>Asegúrese que <code>murders</code> ha sido definido con <code>rate</code> y <code>rank</code> y todavía tiene todos los estados. Cree una tabla llamada <code>my_states</code> que contiene filas para los estados que satisfacen ambas condiciones: está en el noreste u oeste y la tasa de homicidios es inferior a 1. Use <code>select</code> para mostrar solo el nombre del estado, la tasa y el rango.</p>
</div>
<div id="el-pipe" class="section level2">
<h2><span class="header-section-number">4.5</span> El <em>pipe</em>: <code>%&gt;%</code></h2>
<p>Con <strong>dplyr</strong> podemos realizar una serie de operaciones, por ejemplo <code>select</code> y entonces <code>filter</code>, enviando los resultados de una función a otra usando lo que se llama el <em>pipe operator</em>: <code>%&gt;%</code>. Algunos detalles se incluyen a continuación.</p>
<p>Escribimos el código anterior para mostrar tres variables (estado, región, tasa) para los estados que tienen tasas de asesinatos por debajo de 0.71. Para hacer esto, definimos el objeto intermedio <code>new_table</code>. En <strong>dplyr</strong> podemos escribir código que se parece más a una descripción de lo que queremos hacer sin objetos intermedios:</p>
<p><span class="math display">\[ \mbox {original data }
\rightarrow \mbox { select }
\rightarrow \mbox { filter } \]</span></p>
<p>Para tal operación, podemos usar el <em>pipe</em> <code>%&gt;%</code>. El código se ve así:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="tidyverse.html#cb170-1"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(state, region, rate) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(rate <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.71</span>)</span>
<span id="cb170-2"><a href="tidyverse.html#cb170-2"></a><span class="co">#&gt;           state        region  rate</span></span>
<span id="cb170-3"><a href="tidyverse.html#cb170-3"></a><span class="co">#&gt; 1        Hawaii          West 0.515</span></span>
<span id="cb170-4"><a href="tidyverse.html#cb170-4"></a><span class="co">#&gt; 2          Iowa North Central 0.689</span></span>
<span id="cb170-5"><a href="tidyverse.html#cb170-5"></a><span class="co">#&gt; 3 New Hampshire     Northeast 0.380</span></span>
<span id="cb170-6"><a href="tidyverse.html#cb170-6"></a><span class="co">#&gt; 4  North Dakota North Central 0.595</span></span>
<span id="cb170-7"><a href="tidyverse.html#cb170-7"></a><span class="co">#&gt; 5       Vermont     Northeast 0.320</span></span></code></pre></div>
<p>Esta línea de código es equivalente a las dos líneas de código anteriores. ¿Qué está pasando aquí?</p>
<p>En general, el <em>pipe</em> envía el resultado que se encuentra en el lado izquierdo del <em>pipe</em> para ser el primer argumento de la función en el lado derecho del <em>pipe</em>. Aquí vemos un ejemplo sencillo:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="tidyverse.html#cb171-1"></a><span class="dv">16</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sqrt</span>()</span>
<span id="cb171-2"><a href="tidyverse.html#cb171-2"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>Podemos continuar canalizando (<em>piping</em> en inglés) valores a lo largo de:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="tidyverse.html#cb172-1"></a><span class="dv">16</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sqrt</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">log2</span>()</span>
<span id="cb172-2"><a href="tidyverse.html#cb172-2"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>La declaración anterior es equivalente a <code>log2(sqrt(16))</code>.</p>
<p>Recuerde que el <em>pipe</em> envía valores al primer argumento, por lo que podemos definir otros argumentos como si el primer argumento ya estuviera definido:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="tidyverse.html#cb173-1"></a><span class="dv">16</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sqrt</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">log</span>(<span class="dt">base =</span> <span class="dv">2</span>)</span>
<span id="cb173-2"><a href="tidyverse.html#cb173-2"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Por lo tanto, al usar el <em>pipe</em> con <em>data frames</em> y <strong>dplyr</strong>, ya no necesitamos especificar el primer argumento requerido puesto que las funciones <strong>dplyr</strong> que hemos descrito toman todos los datos como el primer argumento. En el código que escribimos:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="tidyverse.html#cb174-1"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(state, region, rate) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(rate <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.71</span>)</span></code></pre></div>
<p><code>murders</code> es el primer argumento de la función <code>select</code>, y el nuevo <em>data frame</em> (anteriormente <code>new_table</code>) es el primer argumento de la función <code>filter</code>.</p>
<p>Tengan en cuenta que el <em>pipe</em> funciona bien con las funciones donde el primer argumento son los datos de entrada. Las funciones en los paquetes <strong>tidyverse</strong> y <strong>dplyr</strong> tienen este formato y se pueden usar fácilmente con el <em>pipe</em>.</p>
</div>
<div id="ejercicios-10" class="section level2">
<h2><span class="header-section-number">4.6</span> Ejercicios</h2>
<p>1. El <em>pipe</em> <code>%&gt;%</code> se puede usar para realizar operaciones secuencialmente sin tener que definir objetos intermedios. Comience redefiniendo <em>murders</em> para incluir la tasa y el rango.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="tidyverse.html#cb175-1"></a>murders &lt;-<span class="st"> </span><span class="kw">mutate</span>(murders, <span class="dt">rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>,</span>
<span id="cb175-2"><a href="tidyverse.html#cb175-2"></a><span class="dt">rank =</span> <span class="kw">rank</span>(<span class="op">-</span>rate))</span></code></pre></div>
<p>En la solución al ejercicio anterior, hicimos lo siguiente:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="tidyverse.html#cb176-1"></a>my_states &lt;-<span class="st"> </span><span class="kw">filter</span>(murders, region <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Northeast&quot;</span>, <span class="st">&quot;West&quot;</span>) <span class="op">&amp;</span></span>
<span id="cb176-2"><a href="tidyverse.html#cb176-2"></a>rate <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb176-3"><a href="tidyverse.html#cb176-3"></a></span>
<span id="cb176-4"><a href="tidyverse.html#cb176-4"></a><span class="kw">select</span>(my_states, state, rate, rank)</span></code></pre></div>
<p>El <em>pipe</em> <code>%&gt;%</code> nos permite realizar ambas operaciones secuencialmente sin tener que definir una variable intermedia <code>my_states</code>. Por lo tanto, podríamos haber mutado y seleccionado en la misma línea de esta manera:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="tidyverse.html#cb177-1"></a><span class="kw">mutate</span>(murders, <span class="dt">rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>,</span>
<span id="cb177-2"><a href="tidyverse.html#cb177-2"></a><span class="dt">rank =</span> <span class="kw">rank</span>(<span class="op">-</span>rate)) <span class="op">%&gt;%</span></span>
<span id="cb177-3"><a href="tidyverse.html#cb177-3"></a><span class="kw">select</span>(state, rate, rank)</span></code></pre></div>
<p>Note que <code>select</code> ya no tiene un <em>data frame</em> como primer argumento. Se supone que el primer argumento sea el resultado de la operación realizada justo antes de <code>%&gt;%</code>.</p>
<p>Repita el ejercicio anterior, pero ahora, en lugar de crear un nuevo objeto, muestre el resultado y solo incluya las columnas de estado, velocidad y rango. Use un <em>pipe</em> <code>%&gt;%</code> para hacer esto en una sola línea.</p>
<p>2. Reinicie <code>murders</code> a la tabla original usando <code>data(murders)</code>. Use un <em>pipe</em> para crear un nuevo <em>data frame</em> llamado <code>my_states</code> que considera solo los estados del noreste u oeste que tienen una tasa de homicidios inferior a 1 y contiene solo las columnas de estado, tasa y rango. El <em>pipe</em> también debe tener cuatro componentes separados por tres <code>%&gt;%</code>. El código debería verse algo similar a lo siguiente:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="tidyverse.html#cb178-1"></a>my_states &lt;-<span class="st"> </span>murders <span class="op">%&gt;%</span></span>
<span id="cb178-2"><a href="tidyverse.html#cb178-2"></a>mutate SOMETHING <span class="op">%&gt;%</span></span>
<span id="cb178-3"><a href="tidyverse.html#cb178-3"></a>filter SOMETHING <span class="op">%&gt;%</span></span>
<span id="cb178-4"><a href="tidyverse.html#cb178-4"></a>select SOMETHING</span></code></pre></div>
</div>
<div id="cómo-resumir-datos" class="section level2">
<h2><span class="header-section-number">4.7</span> Cómo resumir datos</h2>
<p>Una parte importante del análisis exploratorio de datos es resumir los datos. La desviación promedio y estándar son dos ejemplos de estadísticas de resumen ampliamente utilizadas. A menudo se pueden obtener resúmenes más informativos dividiendo primero los datos en grupos. En esta sección, cubrimos dos nuevos verbos de <strong>dplyr</strong> que facilitan estos cálculos: <code>summarize</code> y <code>group_by</code>. Aprendemos a acceder a los valores resultantes utilizando la función <code>pull</code>.</p>
<div id="summarize" class="section level3">
<h3><span class="header-section-number">4.7.1</span> <code>summarize</code></h3>
<p>La función <code>summarize</code> de <strong>dplyr</strong> ofrece una forma de calcular estadísticas de resumen con código intuitivo y legible. Comenzamos con un ejemplo sencillo basado en alturas. El set de datos <code>heights</code> incluye las alturas y el sexo reportado por los estudiantes en una encuesta en clase.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="tidyverse.html#cb179-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb179-2"><a href="tidyverse.html#cb179-2"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb179-3"><a href="tidyverse.html#cb179-3"></a><span class="kw">data</span>(heights)</span></code></pre></div>
<p>El siguiente código calcula la desviación promedio y estándar para las hembras:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="tidyverse.html#cb180-1"></a>s &lt;-<span class="st"> </span>heights <span class="op">%&gt;%</span></span>
<span id="cb180-2"><a href="tidyverse.html#cb180-2"></a><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb180-3"><a href="tidyverse.html#cb180-3"></a><span class="kw">summarize</span>(<span class="dt">average =</span> <span class="kw">mean</span>(height), <span class="dt">standard_deviation =</span> <span class="kw">sd</span>(height))</span>
<span id="cb180-4"><a href="tidyverse.html#cb180-4"></a>s</span>
<span id="cb180-5"><a href="tidyverse.html#cb180-5"></a><span class="co">#&gt;   average standard_deviation</span></span>
<span id="cb180-6"><a href="tidyverse.html#cb180-6"></a><span class="co">#&gt; 1    64.9               3.76</span></span></code></pre></div>
<p>Esto toma nuestra tabla de datos original como entrada, la filtra para incluir solo a las filas representando hembras y luego produce una nueva tabla resumida con solo el promedio y la desviación estándar de las alturas. Podemos elegir los nombres de las columnas de la tabla resultante. Por ejemplo, arriba decidimos usar <code>average</code> y <code>standard_deviation</code>, pero podríamos haber usado otros nombres de la misma manera.</p>
<p>Como la tabla resultante almacenada en <code>s</code> es un <em>data frame</em>, podemos acceder a los componentes con el operador de acceso <code>$</code>:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="tidyverse.html#cb181-1"></a>s<span class="op">$</span>average</span>
<span id="cb181-2"><a href="tidyverse.html#cb181-2"></a><span class="co">#&gt; [1] 64.9</span></span>
<span id="cb181-3"><a href="tidyverse.html#cb181-3"></a>s<span class="op">$</span>standard_deviation</span>
<span id="cb181-4"><a href="tidyverse.html#cb181-4"></a><span class="co">#&gt; [1] 3.76</span></span></code></pre></div>
<p>Igual que con la mayoría de las otras funciones de <strong>dplyr</strong>, <code>summarize</code> conoce los nombres de las variables y podemos usarlas directamente. Entonces, cuando escribimos <code>mean(height)</code> dentro de la llamada a la función <code>summarize</code>, la función accede a la columna con el nombre “height”, o altura, y luego calcula el promedio del vector numérico resultante. Podemos calcular cualquier otro resumen que opera en vectores y devuelve un solo valor. Por ejemplo, podemos añadir las alturas mediana, mínima y máxima de esta manera:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="tidyverse.html#cb182-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb182-2"><a href="tidyverse.html#cb182-2"></a><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb182-3"><a href="tidyverse.html#cb182-3"></a><span class="kw">summarize</span>(<span class="dt">median =</span> <span class="kw">median</span>(height), <span class="dt">minimum =</span> <span class="kw">min</span>(height),</span>
<span id="cb182-4"><a href="tidyverse.html#cb182-4"></a><span class="dt">maximum =</span> <span class="kw">max</span>(height))</span>
<span id="cb182-5"><a href="tidyverse.html#cb182-5"></a><span class="co">#&gt;   median minimum maximum</span></span>
<span id="cb182-6"><a href="tidyverse.html#cb182-6"></a><span class="co">#&gt; 1     65      51      79</span></span></code></pre></div>
<p>Podemos obtener estos tres valores con solo una línea usando la función <code>quantile</code>: por ejemplo, <code>quantile(x, c(0,0.5,1))</code> devuelve el mínimo (percentil 0), la mediana (percentil 50) y el máximo (percentil 100) del vector <code>x</code>. Sin embargo, si intentamos usar una función como esta que devuelve dos o más valores dentro de <code>summarize</code>:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="tidyverse.html#cb183-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb183-2"><a href="tidyverse.html#cb183-2"></a><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb183-3"><a href="tidyverse.html#cb183-3"></a><span class="kw">summarize</span>(<span class="dt">range =</span> <span class="kw">quantile</span>(height, <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>)))</span></code></pre></div>
<p>recibiremos un error: <code>Error: expecting result of length one, got : 2</code>. Con la función <code>summarize</code>, solo podemos llamar a funciones que devuelven un solo valor. En la sección <a href="tidyverse.html#do">4.12</a>, aprenderemos cómo lidiar con funciones que devuelven más de un valor.</p>
<p>Para otro ejemplo de cómo podemos usar la función <code>summarize</code>, calculemos la tasa promedio de asesinatos en Estados Unidos. Recuerden que nuestra tabla de datos incluye los asesinatos totales y el tamaño de la población para cada estado y ya hemos usado <strong>dplyr</strong> para añadir una columna de índice de asesinatos:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="tidyverse.html#cb184-1"></a>murders &lt;-<span class="st"> </span>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">rate =</span> total<span class="op">/</span>population<span class="op">*</span><span class="dv">100000</span>)</span></code></pre></div>
<p>Recuerden que la tasa de asesinatos en EE. UU. <strong>no</strong> es el promedio de las tasas de asesinatos estatales:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="tidyverse.html#cb185-1"></a><span class="kw">summarize</span>(murders, <span class="kw">mean</span>(rate))</span>
<span id="cb185-2"><a href="tidyverse.html#cb185-2"></a><span class="co">#&gt;   mean(rate)</span></span>
<span id="cb185-3"><a href="tidyverse.html#cb185-3"></a><span class="co">#&gt; 1       2.78</span></span></code></pre></div>
<p>Esto se debe a que en el cálculo anterior, los estados pequeños tienen el mismo peso que los grandes. La tasa de homicidios de Estados Unidos es el número total de asesinatos en Estados Unidos dividido por la población total. Entonces el cálculo correcto es:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="tidyverse.html#cb186-1"></a>us_murder_rate &lt;-<span class="st"> </span>murders <span class="op">%&gt;%</span></span>
<span id="cb186-2"><a href="tidyverse.html#cb186-2"></a><span class="kw">summarize</span>(<span class="dt">rate =</span> <span class="kw">sum</span>(total)<span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(population) <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>)</span>
<span id="cb186-3"><a href="tidyverse.html#cb186-3"></a>us_murder_rate</span>
<span id="cb186-4"><a href="tidyverse.html#cb186-4"></a><span class="co">#&gt;   rate</span></span>
<span id="cb186-5"><a href="tidyverse.html#cb186-5"></a><span class="co">#&gt; 1 3.03</span></span></code></pre></div>
<p>Este cálculo cuenta estados más grandes proporcionalmente a su tamaño, lo que da como resultado un valor mayor.</p>
</div>
<div id="pull" class="section level3">
<h3><span class="header-section-number">4.7.2</span> <code>pull</code></h3>
<p>El objeto <code>us_murder_rate</code> definido anteriormente representa solo un número. Sin embargo, lo estamos almacenando en un <em>data frame</em>:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="tidyverse.html#cb187-1"></a><span class="kw">class</span>(us_murder_rate)</span>
<span id="cb187-2"><a href="tidyverse.html#cb187-2"></a><span class="co">#&gt; [1] &quot;data.frame&quot;</span></span></code></pre></div>
<p>ya que, como la mayoría de las funciones de <strong>dplyr</strong>, <code>summarize</code> siempre devuelve un <em>data frame</em>.</p>
<p>Esto podría ser problemático si queremos usar este resultado con funciones que requieren un valor numérico. Aquí mostramos un truco útil para acceder a los valores almacenados en los datos cuando usamos <em>pipes</em>: cuando un objeto de datos se canaliza (<em>is piped</em> en inglés), ese objeto y sus columnas se pueden acceder usando la función <code>pull</code>. Para entender lo que queremos decir, consideren esta línea de código:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="tidyverse.html#cb188-1"></a>us_murder_rate <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(rate)</span>
<span id="cb188-2"><a href="tidyverse.html#cb188-2"></a><span class="co">#&gt; [1] 3.03</span></span></code></pre></div>
<p>Esto devuelve el valor en la columna <code>rate</code> de <code>us_murder_rate</code> haciéndolo equivalente a <code>us_murder_rate$rate</code>.</p>
<p>Para obtener un número de la tabla de datos original con una línea de código, podemos escribir:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="tidyverse.html#cb189-1"></a>us_murder_rate &lt;-<span class="st"> </span>murders <span class="op">%&gt;%</span></span>
<span id="cb189-2"><a href="tidyverse.html#cb189-2"></a><span class="kw">summarize</span>(<span class="dt">rate =</span> <span class="kw">sum</span>(total)<span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(population) <span class="op">*</span><span class="st"> </span><span class="dv">100000</span>) <span class="op">%&gt;%</span></span>
<span id="cb189-3"><a href="tidyverse.html#cb189-3"></a><span class="kw">pull</span>(rate)</span>
<span id="cb189-4"><a href="tidyverse.html#cb189-4"></a></span>
<span id="cb189-5"><a href="tidyverse.html#cb189-5"></a>us_murder_rate</span>
<span id="cb189-6"><a href="tidyverse.html#cb189-6"></a><span class="co">#&gt; [1] 3.03</span></span></code></pre></div>
<p>que ahora es numérico:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="tidyverse.html#cb190-1"></a><span class="kw">class</span>(us_murder_rate)</span>
<span id="cb190-2"><a href="tidyverse.html#cb190-2"></a><span class="co">#&gt; [1] &quot;numeric&quot;</span></span></code></pre></div>
</div>
<div id="group-by" class="section level3">
<h3><span class="header-section-number">4.7.3</span> Cómo agrupar y luego resumir con <code>group_by</code></h3>
<p>Una operación común en la exploración de datos es dividir primero los datos en grupos y luego calcular resúmenes para cada grupo. Por ejemplo, podemos querer calcular la desviación promedio y estándar para las alturas de hombres y mujeres por separado. La función <code>group_by</code> nos ayuda a hacer esto.</p>
<p>Si escribimos esto:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="tidyverse.html#cb191-1"></a>heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(sex)</span>
<span id="cb191-2"><a href="tidyverse.html#cb191-2"></a><span class="co">#&gt; # A tibble: 1,050 x 2</span></span>
<span id="cb191-3"><a href="tidyverse.html#cb191-3"></a><span class="co">#&gt; # Groups:   sex [2]</span></span>
<span id="cb191-4"><a href="tidyverse.html#cb191-4"></a><span class="co">#&gt;   sex   height</span></span>
<span id="cb191-5"><a href="tidyverse.html#cb191-5"></a><span class="co">#&gt;   &lt;fct&gt;  &lt;dbl&gt;</span></span>
<span id="cb191-6"><a href="tidyverse.html#cb191-6"></a><span class="co">#&gt; 1 Male      75</span></span>
<span id="cb191-7"><a href="tidyverse.html#cb191-7"></a><span class="co">#&gt; 2 Male      70</span></span>
<span id="cb191-8"><a href="tidyverse.html#cb191-8"></a><span class="co">#&gt; 3 Male      68</span></span>
<span id="cb191-9"><a href="tidyverse.html#cb191-9"></a><span class="co">#&gt; 4 Male      74</span></span>
<span id="cb191-10"><a href="tidyverse.html#cb191-10"></a><span class="co">#&gt; 5 Male      61</span></span>
<span id="cb191-11"><a href="tidyverse.html#cb191-11"></a><span class="co">#&gt; # … with 1,045 more rows</span></span></code></pre></div>
<p>El resultado no se ve muy diferente de <code>heights</code>, excepto que vemos <code>Groups: sex [2]</code> cuando imprimimos el objeto. Aunque no es inmediatamente obvio por su apariencia, esto ahora es un <em>data frame</em> especial llamado un <em>grouped data frame</em>, y las funciones de <strong>dplyr</strong>, en particular <code>summarize</code>, se comportarán de manera diferente cuando actúen sobre este objeto. Conceptualmente, pueden pensar en esta tabla como muchas tablas, con las mismas columnas pero no necesariamente el mismo número de filas, apiladas juntas en un objeto. Cuando resumimos los datos después de la agrupación, esto es lo que sucede:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="tidyverse.html#cb192-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb192-2"><a href="tidyverse.html#cb192-2"></a><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb192-3"><a href="tidyverse.html#cb192-3"></a><span class="kw">summarize</span>(<span class="dt">average =</span> <span class="kw">mean</span>(height), <span class="dt">standard_deviation =</span> <span class="kw">sd</span>(height))</span>
<span id="cb192-4"><a href="tidyverse.html#cb192-4"></a><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></span>
<span id="cb192-5"><a href="tidyverse.html#cb192-5"></a><span class="co">#&gt; # A tibble: 2 x 3</span></span>
<span id="cb192-6"><a href="tidyverse.html#cb192-6"></a><span class="co">#&gt;   sex    average standard_deviation</span></span>
<span id="cb192-7"><a href="tidyverse.html#cb192-7"></a><span class="co">#&gt;   &lt;fct&gt;    &lt;dbl&gt;              &lt;dbl&gt;</span></span>
<span id="cb192-8"><a href="tidyverse.html#cb192-8"></a><span class="co">#&gt; 1 Female    64.9               3.76</span></span>
<span id="cb192-9"><a href="tidyverse.html#cb192-9"></a><span class="co">#&gt; 2 Male      69.3               3.61</span></span></code></pre></div>
<p>La función <code>summarize</code> aplica el resumen a cada grupo por separado.</p>
<p>Para ver otro ejemplo, calculemos la tasa media de asesinatos en las cuatro regiones del país:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="tidyverse.html#cb193-1"></a>murders <span class="op">%&gt;%</span></span>
<span id="cb193-2"><a href="tidyverse.html#cb193-2"></a><span class="kw">group_by</span>(region) <span class="op">%&gt;%</span></span>
<span id="cb193-3"><a href="tidyverse.html#cb193-3"></a><span class="kw">summarize</span>(<span class="dt">median_rate =</span> <span class="kw">median</span>(rate))</span>
<span id="cb193-4"><a href="tidyverse.html#cb193-4"></a><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></span>
<span id="cb193-5"><a href="tidyverse.html#cb193-5"></a><span class="co">#&gt; # A tibble: 4 x 2</span></span>
<span id="cb193-6"><a href="tidyverse.html#cb193-6"></a><span class="co">#&gt;   region        median_rate</span></span>
<span id="cb193-7"><a href="tidyverse.html#cb193-7"></a><span class="co">#&gt;   &lt;fct&gt;               &lt;dbl&gt;</span></span>
<span id="cb193-8"><a href="tidyverse.html#cb193-8"></a><span class="co">#&gt; 1 Northeast            1.80</span></span>
<span id="cb193-9"><a href="tidyverse.html#cb193-9"></a><span class="co">#&gt; 2 South                3.40</span></span>
<span id="cb193-10"><a href="tidyverse.html#cb193-10"></a><span class="co">#&gt; 3 North Central        1.97</span></span>
<span id="cb193-11"><a href="tidyverse.html#cb193-11"></a><span class="co">#&gt; 4 West                 1.29</span></span></code></pre></div>
</div>
</div>
<div id="cómo-ordenar-los-data-frames" class="section level2">
<h2><span class="header-section-number">4.8</span> Cómo ordenar los <em>data frames</em></h2>
<p>Al examinar un set de datos, a menudo es conveniente ordenar, numérica o alfabéticamente, basado en una o más de las columnas de la tabla. Conocemos las funciones <code>order</code> y <code>sort</code>, pero para ordenar tablas enteras, la función <code>arrange</code> de <strong>dplyr</strong> es útil. Por ejemplo, aquí ordenamos los estados según el tamaño de la población:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="tidyverse.html#cb194-1"></a>murders <span class="op">%&gt;%</span></span>
<span id="cb194-2"><a href="tidyverse.html#cb194-2"></a><span class="kw">arrange</span>(population) <span class="op">%&gt;%</span></span>
<span id="cb194-3"><a href="tidyverse.html#cb194-3"></a><span class="kw">head</span>()</span>
<span id="cb194-4"><a href="tidyverse.html#cb194-4"></a><span class="co">#&gt;                  state abb        region population total   rate</span></span>
<span id="cb194-5"><a href="tidyverse.html#cb194-5"></a><span class="co">#&gt; 1              Wyoming  WY          West     563626     5  0.887</span></span>
<span id="cb194-6"><a href="tidyverse.html#cb194-6"></a><span class="co">#&gt; 2 District of Columbia  DC         South     601723    99 16.453</span></span>
<span id="cb194-7"><a href="tidyverse.html#cb194-7"></a><span class="co">#&gt; 3              Vermont  VT     Northeast     625741     2  0.320</span></span>
<span id="cb194-8"><a href="tidyverse.html#cb194-8"></a><span class="co">#&gt; 4         North Dakota  ND North Central     672591     4  0.595</span></span>
<span id="cb194-9"><a href="tidyverse.html#cb194-9"></a><span class="co">#&gt; 5               Alaska  AK          West     710231    19  2.675</span></span>
<span id="cb194-10"><a href="tidyverse.html#cb194-10"></a><span class="co">#&gt; 6         South Dakota  SD North Central     814180     8  0.983</span></span></code></pre></div>
<p>Con <code>arrange</code> podemos decidir cuál columna usar para ordenar. Para ver los estados por población, de menor a mayor, organizamos por el <code>rate</code> :</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="tidyverse.html#cb195-1"></a>murders <span class="op">%&gt;%</span></span>
<span id="cb195-2"><a href="tidyverse.html#cb195-2"></a><span class="kw">arrange</span>(rate) <span class="op">%&gt;%</span></span>
<span id="cb195-3"><a href="tidyverse.html#cb195-3"></a><span class="kw">head</span>()</span>
<span id="cb195-4"><a href="tidyverse.html#cb195-4"></a><span class="co">#&gt;           state abb        region population total  rate</span></span>
<span id="cb195-5"><a href="tidyverse.html#cb195-5"></a><span class="co">#&gt; 1       Vermont  VT     Northeast     625741     2 0.320</span></span>
<span id="cb195-6"><a href="tidyverse.html#cb195-6"></a><span class="co">#&gt; 2 New Hampshire  NH     Northeast    1316470     5 0.380</span></span>
<span id="cb195-7"><a href="tidyverse.html#cb195-7"></a><span class="co">#&gt; 3        Hawaii  HI          West    1360301     7 0.515</span></span>
<span id="cb195-8"><a href="tidyverse.html#cb195-8"></a><span class="co">#&gt; 4  North Dakota  ND North Central     672591     4 0.595</span></span>
<span id="cb195-9"><a href="tidyverse.html#cb195-9"></a><span class="co">#&gt; 5          Iowa  IA North Central    3046355    21 0.689</span></span>
<span id="cb195-10"><a href="tidyverse.html#cb195-10"></a><span class="co">#&gt; 6         Idaho  ID          West    1567582    12 0.766</span></span></code></pre></div>
<p>Tengan en cuenta que el comportamiento por defecto es ordenar en orden ascendente. En <strong>dplyr</strong>, la función <code>desc</code> transforma un vector para que esté en orden descendente. Para ordenar la tabla en orden descendente, podemos escribir:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="tidyverse.html#cb196-1"></a>murders <span class="op">%&gt;%</span></span>
<span id="cb196-2"><a href="tidyverse.html#cb196-2"></a><span class="kw">arrange</span>(<span class="kw">desc</span>(rate))</span></code></pre></div>
<div id="cómo-ordenar-anidadamente" class="section level3">
<h3><span class="header-section-number">4.8.1</span> Cómo ordenar anidadamente</h3>
<p>Si estamos ordenando una columna cuando hay empates, podemos usar una segunda columna para romper el empate. Del mismo modo, se puede usar una tercera columna para romper empates entre la primera y la segunda, y así sucesivamente. Aquí ordenamos por <code>region</code>, luego dentro de la región ordenamos por tasa de asesinatos:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="tidyverse.html#cb197-1"></a>murders <span class="op">%&gt;%</span></span>
<span id="cb197-2"><a href="tidyverse.html#cb197-2"></a><span class="kw">arrange</span>(region, rate) <span class="op">%&gt;%</span></span>
<span id="cb197-3"><a href="tidyverse.html#cb197-3"></a><span class="kw">head</span>()</span>
<span id="cb197-4"><a href="tidyverse.html#cb197-4"></a><span class="co">#&gt;           state abb    region population total  rate</span></span>
<span id="cb197-5"><a href="tidyverse.html#cb197-5"></a><span class="co">#&gt; 1       Vermont  VT Northeast     625741     2 0.320</span></span>
<span id="cb197-6"><a href="tidyverse.html#cb197-6"></a><span class="co">#&gt; 2 New Hampshire  NH Northeast    1316470     5 0.380</span></span>
<span id="cb197-7"><a href="tidyverse.html#cb197-7"></a><span class="co">#&gt; 3         Maine  ME Northeast    1328361    11 0.828</span></span>
<span id="cb197-8"><a href="tidyverse.html#cb197-8"></a><span class="co">#&gt; 4  Rhode Island  RI Northeast    1052567    16 1.520</span></span>
<span id="cb197-9"><a href="tidyverse.html#cb197-9"></a><span class="co">#&gt; 5 Massachusetts  MA Northeast    6547629   118 1.802</span></span>
<span id="cb197-10"><a href="tidyverse.html#cb197-10"></a><span class="co">#&gt; 6      New York  NY Northeast   19378102   517 2.668</span></span></code></pre></div>
</div>
<div id="los-primeros-n" class="section level3">
<h3><span class="header-section-number">4.8.2</span> Los primeros <span class="math inline">\(n\)</span></h3>
<p>En el código anterior, usamos la función <code>head</code> para evitar que la página se llene con todo el set de datos. Si queremos ver una mayor proporción, podemos usar la función<code>top_n</code>. Esta función toma un <em>data frame</em> como primer argumento, el número de filas para mostrar en el segundo y la variable para filtrar en el tercero. Aquí hay un ejemplo de cómo ver las 5 filas superiores:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="tidyverse.html#cb198-1"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">top_n</span>(<span class="dv">5</span>, rate)</span>
<span id="cb198-2"><a href="tidyverse.html#cb198-2"></a><span class="co">#&gt;                  state abb        region population total  rate</span></span>
<span id="cb198-3"><a href="tidyverse.html#cb198-3"></a><span class="co">#&gt; 1 District of Columbia  DC         South     601723    99 16.45</span></span>
<span id="cb198-4"><a href="tidyverse.html#cb198-4"></a><span class="co">#&gt; 2            Louisiana  LA         South    4533372   351  7.74</span></span>
<span id="cb198-5"><a href="tidyverse.html#cb198-5"></a><span class="co">#&gt; 3             Maryland  MD         South    5773552   293  5.07</span></span>
<span id="cb198-6"><a href="tidyverse.html#cb198-6"></a><span class="co">#&gt; 4             Missouri  MO North Central    5988927   321  5.36</span></span>
<span id="cb198-7"><a href="tidyverse.html#cb198-7"></a><span class="co">#&gt; 5       South Carolina  SC         South    4625364   207  4.48</span></span></code></pre></div>
<p>Tengan en cuenta que las filas no están ordenadas por <code>rate</code>, solo filtradas. Si queremos ordenar, necesitamos usar <code>arrange</code>. Recuerden que si el tercer argumento se deja en blanco, <code>top_n</code> filtra por la última columna.</p>
</div>
</div>
<div id="ejercicios-11" class="section level2">
<h2><span class="header-section-number">4.9</span> Ejercicios</h2>
<p>Para estos ejercicios, utilizaremos los datos de la encuesta recopilada por el Centro Nacional de Estadísticas de Salud de Estados Unidos (NCHS, por sus siglas en inglés). Este centro ha realizado una serie de encuestas de salud y nutrición desde la década de 1960. A partir de 1999, alrededor de 5,000 individuos de todas las edades han sido entrevistados cada año y completan el componente de examen de salud de la encuesta. Parte de los datos está disponible a través del paquete <strong>NHANES</strong>. Una vez que instalen el paquete <strong>NHANES</strong>, pueden cargar los datos así:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="tidyverse.html#cb199-1"></a><span class="kw">library</span>(NHANES)</span>
<span id="cb199-2"><a href="tidyverse.html#cb199-2"></a><span class="kw">data</span>(NHANES)</span></code></pre></div>
<p>Los datos <strong>NHANES</strong> tienen muchos valores faltantes. Las funciones <code>mean</code> y <code>sd</code> devolverán <code>NA</code> si alguna de las entradas del vector de entrada es un <code>NA</code>. Aquí hay un ejemplo:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="tidyverse.html#cb200-1"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb200-2"><a href="tidyverse.html#cb200-2"></a><span class="kw">data</span>(na_example)</span>
<span id="cb200-3"><a href="tidyverse.html#cb200-3"></a><span class="kw">mean</span>(na_example)</span>
<span id="cb200-4"><a href="tidyverse.html#cb200-4"></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb200-5"><a href="tidyverse.html#cb200-5"></a><span class="kw">sd</span>(na_example)</span>
<span id="cb200-6"><a href="tidyverse.html#cb200-6"></a><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Para ignorar los <code>NA</code>s podemos usar el argumento <code>na.rm</code>:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="tidyverse.html#cb201-1"></a><span class="kw">mean</span>(na_example, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb201-2"><a href="tidyverse.html#cb201-2"></a><span class="co">#&gt; [1] 2.3</span></span>
<span id="cb201-3"><a href="tidyverse.html#cb201-3"></a><span class="kw">sd</span>(na_example, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb201-4"><a href="tidyverse.html#cb201-4"></a><span class="co">#&gt; [1] 1.22</span></span></code></pre></div>
<p>Exploremos ahora los datos de <strong>NHANES</strong>.</p>
<p>1. Le ofrecemos algunos datos básicos sobre la presión arterial. Primero, seleccionemos un grupo para establecer el estándar. Utilizaremos hembras de 20 a 29 años. <code>AgeDecade</code> es una variable categórica con estas edades. Tenga en cuenta que la categoría está codificada como “20-29”, ¡con un espacio al frente! ¿Cuál es el promedio y la desviación estándar de la presión arterial sistólica según se guarda en el variable <code>BPSysAve</code>? Guárdela en una variable llamada <code>ref</code>.</p>
<p>Sugerencia: use <code>filter</code> y <code>summarize</code> y use el argumento <code>na.rm = TRUE</code> al calcular el promedio y la desviación estándar. También puede filtrar los valores de NA utilizando <code>filter</code>.</p>
<p>2. Usando un <em>pipe</em>, asigne el promedio a una variable numérica <code>ref_avg</code>. Sugerencia: use el código similar al anterior y luego <code>pull</code>.</p>
<p>3. Ahora indique los valores mínimo y máximo para el mismo grupo.</p>
<p>4. Calcule el promedio y la desviación estándar para las hembras, pero para cada grupo de edad por separado en lugar de una década seleccionada como en la pregunta 1. Tenga en cuenta que los grupos de edad se definen por <code>AgeDecade</code>. Sugerencia: en lugar de filtrar por edad y género, filtre por <code>Gender</code> y luego use <code>group_by</code>.</p>
<p>5. Repita el ejercicio 4 para los varones.</p>
<p>6. Podemos combinar ambos resúmenes para los ejercicios 4 y 5 en una línea de código. Esto es porque <code>group_by</code> nos permite agrupar por más de una variable. Obtenga una gran tabla de resumen usando <code>group_by(AgeDecade, Gender)</code>.</p>
<p>7. Para los varones entre las edades de 40-49, compare la presión arterial sistólica según raza, como aparece en la variable <code>Race1</code>. Ordene la tabla resultante según la presión arterial sistólica promedio de más baja a más alta.</p>
</div>
<div id="tibbles" class="section level2">
<h2><span class="header-section-number">4.10</span> <em>Tibbles</em></h2>
<p>Los datos <em>tidy</em> deben almacenarse en <em>data frames</em>. Discutimos el <em>data frame</em> en la Sección <a href="r-basics.html#data-frames">2.4.1</a> y hemos estado usando el <em>data frame</em> <code>murders</code> en todo el libro. En la sección <a href="tidyverse.html#group-by">4.7.3</a> presentamos la función <code>group_by</code>, que permite estratificar los datos antes de calcular las estadísticas de resumen. Pero, ¿dónde se almacena la información del grupo en el <em>data frame</em>?</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="tidyverse.html#cb202-1"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(region)</span>
<span id="cb202-2"><a href="tidyverse.html#cb202-2"></a><span class="co">#&gt; # A tibble: 51 x 6</span></span>
<span id="cb202-3"><a href="tidyverse.html#cb202-3"></a><span class="co">#&gt; # Groups:   region [4]</span></span>
<span id="cb202-4"><a href="tidyverse.html#cb202-4"></a><span class="co">#&gt;   state      abb   region population total  rate</span></span>
<span id="cb202-5"><a href="tidyverse.html#cb202-5"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt; &lt;fct&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb202-6"><a href="tidyverse.html#cb202-6"></a><span class="co">#&gt; 1 Alabama    AL    South     4779736   135  2.82</span></span>
<span id="cb202-7"><a href="tidyverse.html#cb202-7"></a><span class="co">#&gt; 2 Alaska     AK    West       710231    19  2.68</span></span>
<span id="cb202-8"><a href="tidyverse.html#cb202-8"></a><span class="co">#&gt; 3 Arizona    AZ    West      6392017   232  3.63</span></span>
<span id="cb202-9"><a href="tidyverse.html#cb202-9"></a><span class="co">#&gt; 4 Arkansas   AR    South     2915918    93  3.19</span></span>
<span id="cb202-10"><a href="tidyverse.html#cb202-10"></a><span class="co">#&gt; 5 California CA    West     37253956  1257  3.37</span></span>
<span id="cb202-11"><a href="tidyverse.html#cb202-11"></a><span class="co">#&gt; # … with 46 more rows</span></span></code></pre></div>
<p>Observen que no hay columnas con esta información. Pero si miran el <em>output</em> anterior, verán la línea <code>A tibble</code> seguida por unas dimensiones. Podemos aprender la clase del objeto devuelto usando:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="tidyverse.html#cb203-1"></a>murders <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(region) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">class</span>()</span>
<span id="cb203-2"><a href="tidyverse.html#cb203-2"></a><span class="co">#&gt; [1] &quot;grouped_df&quot; &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>El <code>tbl</code> es un tipo especial de <em>data frame</em>. Las funciones <code>group_by</code> y <code>summarize</code> siempre devuelven este tipo de <em>data frame</em>. La función <code>group_by</code> devuelve un tipo especial de <code>tbl</code>, el <code>grouped_df</code>. Discutiremos esto más adelante. Por coherencia, los verbos de manipulación <strong>dplyr</strong> ( <code>select</code>, <code>filter</code>, <code>mutate</code> y <code>arrange</code>) preservan la clase del <em>input</em>: si reciben un <em>data frame</em> regular, devuelven un <em>data frame</em> regular, mientras que si reciben un <em>tibble</em>, devuelven un tibble. Pero los <em>tibbles</em> son el formato preferido por el <em>tidyverse</em> y, como resultado, las funciones <em>tidyverse</em> que producen un <em>data frame</em> desde cero devuelven un <em>tibble</em>. Por ejemplo, en el capítulo <a href="importing-data.html#importing-data">5</a> veremos que las funciones del <em>tidyverse</em> que se usan para importar datos crean <em>tibbles</em>.</p>
<p>Los <em>tibbles</em> son muy similares a los <em>data frames</em>. De hecho, pueden pensar en ellos como una versión moderna de <em>data frames</em>. Sin embargo, hay tres diferencias importantes que describiremos a continuación.</p>
<div id="los-tibbles-se-ven-mejor" class="section level3">
<h3><span class="header-section-number">4.10.1</span> Los <em>tibbles</em> se ven mejor</h3>
<p>El método de impresión para <em>tibbles</em> es más legible que el de un <em>data frame</em>. Para ver esto, comparen el <em>output</em> de escribir <code>murders</code> y el <em>output</em> de asesinatos si los convertimos en un <em>tibble</em>. Podemos hacer esto usando <code>as_tibble(murders)</code>. Si usan RStudio, el <em>output</em> para un <em>tibble</em> se ajusta al tamaño de sus ventanas. Para ver esto, cambien el ancho de su consola R y observen cómo se muestran más/menos columnas.</p>
</div>
<div id="los-subconjuntos-de-tibbles-son-tibbles" class="section level3">
<h3><span class="header-section-number">4.10.2</span> Los subconjuntos de <em>tibbles</em> son <em>tibbles</em></h3>
<p>Si creamos subconjuntos de las columnas de un <em>data frame</em>, le pueden devolver un objeto que no es un <em>data frame</em>, como un vector o escalar. Por ejemplo:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="tidyverse.html#cb204-1"></a><span class="kw">class</span>(murders[,<span class="dv">4</span>])</span>
<span id="cb204-2"><a href="tidyverse.html#cb204-2"></a><span class="co">#&gt; [1] &quot;numeric&quot;</span></span></code></pre></div>
<p>no es un <em>data frame</em>. Con <em>tibbles</em> esto no sucede:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="tidyverse.html#cb205-1"></a><span class="kw">class</span>(<span class="kw">as_tibble</span>(murders)[,<span class="dv">4</span>])</span>
<span id="cb205-2"><a href="tidyverse.html#cb205-2"></a><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
<p>Esto es útil en el <em>tidyverse</em> ya que las funciones requieren <em>data frames</em> como <em>input</em>.</p>
<p>Con <em>tibbles</em>, si desean acceder al vector que define una columna y no recuperar un <em>data frame</em>, deben usar el operador de acceso <code>$</code>:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="tidyverse.html#cb206-1"></a><span class="kw">class</span>(<span class="kw">as_tibble</span>(murders)<span class="op">$</span>population)</span>
<span id="cb206-2"><a href="tidyverse.html#cb206-2"></a><span class="co">#&gt; [1] &quot;numeric&quot;</span></span></code></pre></div>
<p>Una característica relacionada es que <em>tibbles</em> les dará una advertencia si intentan acceder a una columna que no existe. Por ejemplo, si escribimos accidentalmente <code>Population</code> en lugar de <code>population</code> vemos que:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="tidyverse.html#cb207-1"></a>murders<span class="op">$</span>Population</span>
<span id="cb207-2"><a href="tidyverse.html#cb207-2"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
<p>devuelve un <code>NULL</code> sin advertencia, lo que puede dificultar la depuración. Por el contrario, si intentamos esto con un <em>tibble</em>, obtenemos una advertencia informativa:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="tidyverse.html#cb208-1"></a><span class="kw">as_tibble</span>(murders)<span class="op">$</span>Population</span>
<span id="cb208-2"><a href="tidyverse.html#cb208-2"></a><span class="co">#&gt; Warning: Unknown or uninitialised column: `Population`.</span></span>
<span id="cb208-3"><a href="tidyverse.html#cb208-3"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div id="los-tibbles-pueden-tener-entradas-complejas" class="section level3">
<h3><span class="header-section-number">4.10.3</span> Los <em>tibbles</em> pueden tener entradas complejas</h3>
<p>Si bien las columnas del <em>data frame</em> deben ser vectores de números, cadenas o valores lógicos, los <em>tibbles</em> pueden tener objetos más complejos, como listas o funciones. Además, podemos crear <em>tibbles</em> con funciones:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="tidyverse.html#cb209-1"></a><span class="kw">tibble</span>(<span class="dt">id =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">func =</span> <span class="kw">c</span>(mean, median, sd))</span>
<span id="cb209-2"><a href="tidyverse.html#cb209-2"></a><span class="co">#&gt; # A tibble: 3 x 2</span></span>
<span id="cb209-3"><a href="tidyverse.html#cb209-3"></a><span class="co">#&gt;      id func  </span></span>
<span id="cb209-4"><a href="tidyverse.html#cb209-4"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;list&gt;</span></span>
<span id="cb209-5"><a href="tidyverse.html#cb209-5"></a><span class="co">#&gt; 1     1 &lt;fn&gt;  </span></span>
<span id="cb209-6"><a href="tidyverse.html#cb209-6"></a><span class="co">#&gt; 2     2 &lt;fn&gt;  </span></span>
<span id="cb209-7"><a href="tidyverse.html#cb209-7"></a><span class="co">#&gt; 3     3 &lt;fn&gt;</span></span></code></pre></div>
</div>
<div id="los-tibbles-se-pueden-agrupar" class="section level3">
<h3><span class="header-section-number">4.10.4</span> Los <em>tibbles</em> se pueden agrupar</h3>
<p>La función <code>group_by</code> devuelve un tipo especial de <em>tibble</em>: un <em>tibble</em> agrupado. Esta clase almacena información que les permite saber qué filas están en qué grupos. Las funciones <em>tidyverse</em>, en particular la función <code>summarize</code>, son conscientes de la información del grupo.</p>
</div>
<div id="cómo-crear-un-tibble-usando-tibble-en-lugar-de-data.frame" class="section level3">
<h3><span class="header-section-number">4.10.5</span> Cómo crear un <em>tibble</em> usando <code>tibble</code> en lugar de <code>data.frame</code></h3>
<p>A veces es útil para nosotros crear nuestros propios <em>data frames</em>. Para crear un <em>data frame</em> en formato <em>tibble</em>, pueden utilizar la función <code>tibble</code>.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="tidyverse.html#cb210-1"></a>grades &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Juan&quot;</span>, <span class="st">&quot;Jean&quot;</span>, <span class="st">&quot;Yao&quot;</span>),</span>
<span id="cb210-2"><a href="tidyverse.html#cb210-2"></a><span class="dt">exam_1 =</span> <span class="kw">c</span>(<span class="dv">95</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">85</span>),</span>
<span id="cb210-3"><a href="tidyverse.html#cb210-3"></a><span class="dt">exam_2 =</span> <span class="kw">c</span>(<span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">85</span>, <span class="dv">90</span>))</span></code></pre></div>
<p>Tengan en cuenta que la base R (sin paquetes cargados) tiene una función con un nombre muy similar, <code>data.frame</code>, que se puede usar para crear un <em>data frame</em> regular en vez de un <em>tibble</em>. Otra diferencia importante es que por defecto <code>data.frame</code> fuerza una conversion de caracteres en factores sin proveer una advertencia o un mensaje:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="tidyverse.html#cb211-1"></a>grades &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Juan&quot;</span>, <span class="st">&quot;Jean&quot;</span>, <span class="st">&quot;Yao&quot;</span>),</span>
<span id="cb211-2"><a href="tidyverse.html#cb211-2"></a><span class="dt">exam_1 =</span> <span class="kw">c</span>(<span class="dv">95</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">85</span>),</span>
<span id="cb211-3"><a href="tidyverse.html#cb211-3"></a><span class="dt">exam_2 =</span> <span class="kw">c</span>(<span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">85</span>, <span class="dv">90</span>))</span>
<span id="cb211-4"><a href="tidyverse.html#cb211-4"></a><span class="kw">class</span>(grades<span class="op">$</span>names)</span>
<span id="cb211-5"><a href="tidyverse.html#cb211-5"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span></code></pre></div>
<p>Para evitar esto, usamos el argumento bastante engorroso <code>stringsAsFactors</code>:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="tidyverse.html#cb212-1"></a>grades &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Juan&quot;</span>, <span class="st">&quot;Jean&quot;</span>, <span class="st">&quot;Yao&quot;</span>),</span>
<span id="cb212-2"><a href="tidyverse.html#cb212-2"></a><span class="dt">exam_1 =</span> <span class="kw">c</span>(<span class="dv">95</span>, <span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">85</span>),</span>
<span id="cb212-3"><a href="tidyverse.html#cb212-3"></a><span class="dt">exam_2 =</span> <span class="kw">c</span>(<span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">85</span>, <span class="dv">90</span>),</span>
<span id="cb212-4"><a href="tidyverse.html#cb212-4"></a><span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</span>
<span id="cb212-5"><a href="tidyverse.html#cb212-5"></a><span class="kw">class</span>(grades<span class="op">$</span>names)</span>
<span id="cb212-6"><a href="tidyverse.html#cb212-6"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span></code></pre></div>
<p>Para convertir un <em>data frame</em> normal en un <em>tibble</em>, pueden usar la función <code>as_tibble</code>.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="tidyverse.html#cb213-1"></a><span class="kw">as_tibble</span>(grades) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">class</span>()</span>
<span id="cb213-2"><a href="tidyverse.html#cb213-2"></a><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span></code></pre></div>
</div>
</div>
<div id="el-operador-punto" class="section level2">
<h2><span class="header-section-number">4.11</span> El operador punto</h2>
<p>Una de las ventajas de utilizar el <em>pipe</em> <code>%&gt;%</code> es que no tenemos que seguir nombrando nuevos objetos mientras manipulamos el <em>data frame</em>. Recuerden que si queremos calcular la tasa de asesinatos promedio para los estados del sur, en lugar de escribir:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="tidyverse.html#cb214-1"></a>tab_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">filter</span>(murders, region <span class="op">==</span><span class="st"> &quot;South&quot;</span>)</span>
<span id="cb214-2"><a href="tidyverse.html#cb214-2"></a>tab_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">mutate</span>(tab_<span class="dv">1</span>, <span class="dt">rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">5</span>)</span>
<span id="cb214-3"><a href="tidyverse.html#cb214-3"></a>rates &lt;-<span class="st"> </span>tab_<span class="dv">2</span><span class="op">$</span>rate</span>
<span id="cb214-4"><a href="tidyverse.html#cb214-4"></a><span class="kw">median</span>(rates)</span>
<span id="cb214-5"><a href="tidyverse.html#cb214-5"></a><span class="co">#&gt; [1] 3.4</span></span></code></pre></div>
<p>podemos evitar definir nuevos objetos intermedios escribiendo:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="tidyverse.html#cb215-1"></a><span class="kw">filter</span>(murders, region <span class="op">==</span><span class="st"> &quot;South&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb215-2"><a href="tidyverse.html#cb215-2"></a><span class="kw">mutate</span>(<span class="dt">rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb215-3"><a href="tidyverse.html#cb215-3"></a><span class="kw">summarize</span>(<span class="dt">median =</span> <span class="kw">median</span>(rate)) <span class="op">%&gt;%</span></span>
<span id="cb215-4"><a href="tidyverse.html#cb215-4"></a><span class="kw">pull</span>(median)</span>
<span id="cb215-5"><a href="tidyverse.html#cb215-5"></a><span class="co">#&gt; [1] 3.4</span></span></code></pre></div>
<p>Podemos hacer esto porque cada una de estas funciones toma un <em>data frame</em> como primer argumento. Pero, ¿qué pasa si queremos acceder a un componente del <em>data frame</em>? Por ejemplo, ¿qué pasa si la función <code>pull</code> no está disponible y queremos acceder <code>tab_2$rate</code>? ¿Qué nombre de <em>data frame</em> usamos? La respuesta es el operador punto (<em>dot operator</em> en inglés).</p>
<p>Por ejemplo, para acceder al vector de velocidad sin la función <code>pull</code>, podríamos usar:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="tidyverse.html#cb216-1"></a>rates &lt;-<span class="kw">filter</span>(murders, region <span class="op">==</span><span class="st"> &quot;South&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb216-2"><a href="tidyverse.html#cb216-2"></a><span class="kw">mutate</span>(<span class="dt">rate =</span> total<span class="op">/</span><span class="st"> </span>population <span class="op">*</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">5</span>) <span class="op">%&gt;%</span></span>
<span id="cb216-3"><a href="tidyverse.html#cb216-3"></a>.<span class="op">$</span>rate</span>
<span id="cb216-4"><a href="tidyverse.html#cb216-4"></a><span class="kw">median</span>(rates)</span>
<span id="cb216-5"><a href="tidyverse.html#cb216-5"></a><span class="co">#&gt; [1] 3.4</span></span></code></pre></div>
<p>En la siguiente sección, veremos otras instancias en las que usar el <code>.</code> es útil.</p>
</div>
<div id="do" class="section level2">
<h2><span class="header-section-number">4.12</span> <code>do</code></h2>
<p>Las funciones del <em>tidyverse</em> saben interpretar <em>tibbles</em> agrupados. Además, para facilitar la secuencia de comandos a través del <em>pipe</em> <code>%&gt;%</code>, las funciones del <em>tidyverse</em> constantemente devuelven <em>data frames</em>, ya que esto asegura que el <em>output</em> de una función sea aceptada como el <em>input</em> de otra. Pero la mayoría de las funciones de R no reconocen los <em>tibbles</em> agrupados ni devuelven <em>data frames</em>. La función <code>quantile</code> es un ejemplo que describimos en la Sección <a href="tidyverse.html#summarize">4.7.1</a>. La función <code>do</code> sirve como puente entre las funciones de R, como <code>quantile</code> y el <em>tidyverse</em>. La función <code>do</code>entiende <em>tibbles</em> agrupados y siempre devuelve un <em>data frame</em>.</p>
<p>En la sección <a href="tidyverse.html#summarize">4.7.1</a>, notamos que si intentamos usar <code>quantile</code> para obtener el mínimo, la mediana y el máximo en una llamada, recibiremos un error: <code>Error: expecting result of length one, got : 2</code>.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="tidyverse.html#cb217-1"></a><span class="kw">data</span>(heights)</span>
<span id="cb217-2"><a href="tidyverse.html#cb217-2"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb217-3"><a href="tidyverse.html#cb217-3"></a><span class="kw">filter</span>(sex <span class="op">==</span><span class="st"> &quot;Female&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb217-4"><a href="tidyverse.html#cb217-4"></a><span class="kw">summarize</span>(<span class="dt">range =</span> <span class="kw">quantile</span>(height, <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>)))</span></code></pre></div>
<p>Podemos usar la función <code>do</code> para arreglar esto.</p>
<p>Primero tenemos que escribir una función que se ajuste al enfoque del <em>tidyverse</em>: es decir, recibe un <em>data frame</em> y devuelve un <em>data frame</em>.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="tidyverse.html#cb218-1"></a>my_summary &lt;-<span class="st"> </span><span class="cf">function</span>(dat){</span>
<span id="cb218-2"><a href="tidyverse.html#cb218-2"></a>x &lt;-<span class="st"> </span><span class="kw">quantile</span>(dat<span class="op">$</span>height, <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>))</span>
<span id="cb218-3"><a href="tidyverse.html#cb218-3"></a><span class="kw">tibble</span>(<span class="dt">min =</span> x[<span class="dv">1</span>], <span class="dt">median =</span> x[<span class="dv">2</span>], <span class="dt">max =</span> x[<span class="dv">3</span>])</span>
<span id="cb218-4"><a href="tidyverse.html#cb218-4"></a>}</span></code></pre></div>
<p>Ahora podemos aplicar la función al set de datos de alturas para obtener los resúmenes:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="tidyverse.html#cb219-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb219-2"><a href="tidyverse.html#cb219-2"></a><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb219-3"><a href="tidyverse.html#cb219-3"></a>my_summary</span>
<span id="cb219-4"><a href="tidyverse.html#cb219-4"></a><span class="co">#&gt; # A tibble: 1 x 3</span></span>
<span id="cb219-5"><a href="tidyverse.html#cb219-5"></a><span class="co">#&gt;     min median   max</span></span>
<span id="cb219-6"><a href="tidyverse.html#cb219-6"></a><span class="co">#&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb219-7"><a href="tidyverse.html#cb219-7"></a><span class="co">#&gt; 1    50   68.5  82.7</span></span></code></pre></div>
<p>Pero esto no es lo que queremos. Queremos un resumen para cada sexo y el código devolvió solo un resumen. Esto es porque <code>my_summary</code> no es parte del <em>tidyverse</em> y no sabe cómo manejar los <em>tibbles</em> agrupados. <code>do</code> hace esta conexión:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="tidyverse.html#cb220-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb220-2"><a href="tidyverse.html#cb220-2"></a><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb220-3"><a href="tidyverse.html#cb220-3"></a><span class="kw">do</span>(<span class="kw">my_summary</span>(.))</span>
<span id="cb220-4"><a href="tidyverse.html#cb220-4"></a><span class="co">#&gt; # A tibble: 2 x 4</span></span>
<span id="cb220-5"><a href="tidyverse.html#cb220-5"></a><span class="co">#&gt; # Groups:   sex [2]</span></span>
<span id="cb220-6"><a href="tidyverse.html#cb220-6"></a><span class="co">#&gt;   sex      min median   max</span></span>
<span id="cb220-7"><a href="tidyverse.html#cb220-7"></a><span class="co">#&gt;   &lt;fct&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb220-8"><a href="tidyverse.html#cb220-8"></a><span class="co">#&gt; 1 Female    51   65.0  79  </span></span>
<span id="cb220-9"><a href="tidyverse.html#cb220-9"></a><span class="co">#&gt; 2 Male      50   69    82.7</span></span></code></pre></div>
<p>Recuerden que aquí necesitamos usar el operador punto. El <em>tibble</em> creado por <code>group_by</code> se canaliza a <code>do</code>. Dentro de la llamada a <code>do</code>, el nombre de este <em>tibble</em> es <code>.</code> y queremos enviarlo a <code>my_summary</code>. Si no usan el punto, entonces <code>my_summary</code> no tiene ningún argumento y devuelve un error que nos dice que falta el <code>argument "dat"</code> . Pueden ver el error escribiendo:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="tidyverse.html#cb221-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb221-2"><a href="tidyverse.html#cb221-2"></a><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb221-3"><a href="tidyverse.html#cb221-3"></a><span class="kw">do</span>(<span class="kw">my_summary</span>())</span></code></pre></div>
<p>Si no usan el paréntesis, entonces la función no se ejecuta y en su lugar <code>do</code> intenta devolver la función. Esto da un error porque <code>do</code> siempre debe devolver un <em>data frame</em>. Pueden ver el error escribiendo:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="tidyverse.html#cb222-1"></a>heights <span class="op">%&gt;%</span></span>
<span id="cb222-2"><a href="tidyverse.html#cb222-2"></a><span class="kw">group_by</span>(sex) <span class="op">%&gt;%</span></span>
<span id="cb222-3"><a href="tidyverse.html#cb222-3"></a><span class="kw">do</span>(my_summary)</span></code></pre></div>
</div>
<div id="el-paquete-purrr" class="section level2">
<h2><span class="header-section-number">4.13</span> El paquete <strong>purrr</strong></h2>
<p>En la sección <a href="conceptos-básicos-de-programación.html#vectorization">3.5</a> aprendimos sobre la función <code>sapply</code>, que nos permitió aplicar la misma función a cada elemento de un vector. Construimos una función y utilizamos <code>sapply</code> para calcular la suma de los primeros <code>n</code> enteros para varios valores de <code>n</code> así:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="tidyverse.html#cb223-1"></a>compute_s_n &lt;-<span class="st"> </span><span class="cf">function</span>(n){</span>
<span id="cb223-2"><a href="tidyverse.html#cb223-2"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>n</span>
<span id="cb223-3"><a href="tidyverse.html#cb223-3"></a><span class="kw">sum</span>(x)</span>
<span id="cb223-4"><a href="tidyverse.html#cb223-4"></a>}</span>
<span id="cb223-5"><a href="tidyverse.html#cb223-5"></a>n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">25</span></span>
<span id="cb223-6"><a href="tidyverse.html#cb223-6"></a>s_n &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, compute_s_n)</span></code></pre></div>
<p>Este tipo de operación, que aplica la misma función o procedimiento a elementos de un objeto, es bastante común en el análisis de datos. El paquete <strong>purrr</strong> incluye funciones similares a <code>sapply</code> pero que interactúan mejor con otras funciones del <em>tidyverse</em>. La principal ventaja es que podemos controlar mejor el tipo de resultado de las funciones. En contraste, <code>sapply</code> puede devolver varios tipos de objetos diferentes, convirtiéndolos cuando sea conveniente. Las funciones de <strong>purrr</strong> nunca harán esto: devolverán objetos de un tipo específico o devolverán un error si esto no es posible.</p>
<p>La primera función de <strong>purrr</strong> que aprenderemos es <code>map</code>, que funciona muy similar a <code>sapply</code> pero siempre, sin excepción, devuelve una lista:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="tidyverse.html#cb224-1"></a><span class="kw">library</span>(purrr)</span>
<span id="cb224-2"><a href="tidyverse.html#cb224-2"></a>s_n &lt;-<span class="st"> </span><span class="kw">map</span>(n, compute_s_n)</span>
<span id="cb224-3"><a href="tidyverse.html#cb224-3"></a><span class="kw">class</span>(s_n)</span>
<span id="cb224-4"><a href="tidyverse.html#cb224-4"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span></code></pre></div>
<p>Si queremos un vector numérico, podemos usar <code>map_dbl</code> que siempre devuelve un vector de valores numéricos.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="tidyverse.html#cb225-1"></a>s_n &lt;-<span class="st"> </span><span class="kw">map_dbl</span>(n, compute_s_n)</span>
<span id="cb225-2"><a href="tidyverse.html#cb225-2"></a><span class="kw">class</span>(s_n)</span>
<span id="cb225-3"><a href="tidyverse.html#cb225-3"></a><span class="co">#&gt; [1] &quot;numeric&quot;</span></span></code></pre></div>
<p>Esto produce los mismos resultados que la llamada <code>sapply</code> que vemos arriba.</p>
<p>Una función de <strong>purrr</strong> particularmente útil para interactuar con el resto del <em>tidyverse</em> es <code>map_df</code>, que siempre devuelve un <em>tibble data frame</em>. Sin embargo, la función que se llama debe devolver un vector o una lista con nombres. Por esta razón, el siguiente código daría como resultado un error <code>Argument 1 must have names</code>:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="tidyverse.html#cb226-1"></a>s_n &lt;-<span class="st"> </span><span class="kw">map_df</span>(n, compute_s_n)</span></code></pre></div>
<p>Necesitamos cambiar la función para arreglar esto:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="tidyverse.html#cb227-1"></a>compute_s_n &lt;-<span class="st"> </span><span class="cf">function</span>(n){</span>
<span id="cb227-2"><a href="tidyverse.html#cb227-2"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>n</span>
<span id="cb227-3"><a href="tidyverse.html#cb227-3"></a><span class="kw">tibble</span>(<span class="dt">sum =</span> <span class="kw">sum</span>(x))</span>
<span id="cb227-4"><a href="tidyverse.html#cb227-4"></a>}</span>
<span id="cb227-5"><a href="tidyverse.html#cb227-5"></a>s_n &lt;-<span class="st"> </span><span class="kw">map_df</span>(n, compute_s_n)</span></code></pre></div>
<p>El paquete <strong>purrr</strong> ofrece mucha más funcionalidad no discutida aquí. Para obtener más detalles, puede consultar <a href="https://jennybc.github.io/purrr-tutorial/">este recurso en línea</a>.</p>
</div>
<div id="los-condicionales-de-tidyverse" class="section level2">
<h2><span class="header-section-number">4.14</span> Los condicionales de <em>tidyverse</em></h2>
<p>Un análisis de datos típicos frecuentemente implicará una o más operaciones condicionales. En la sección <a href="conceptos-básicos-de-programación.html#conditionals">3.1</a> describimos la función <code>ifelse</code>, que utilizaremos ampliamente en este libro. En esta sección presentamos dos funciones de <strong>dplyr</strong> que ofrecen una funcionalidad adicional para realizar operaciones condicionales.</p>
<div id="case_when" class="section level3">
<h3><span class="header-section-number">4.14.1</span> <code>case_when</code></h3>
<p>La función <code>case_when</code> es útil para vectorizar declaraciones condicionales. Esto es similar a <code>ifelse</code> pero puede generar cualquier cantidad de valores, en lugar de solo <code>TRUE</code> o <code>FALSE</code>. Aquí hay un ejemplo que divide los números en negativo, positivo y 0:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="tidyverse.html#cb228-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">-1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb228-2"><a href="tidyverse.html#cb228-2"></a><span class="kw">case_when</span>(x <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> &quot;Negative&quot;</span>, x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> &quot;Positive&quot;</span>, <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> &quot;Zero&quot;</span>)</span>
<span id="cb228-3"><a href="tidyverse.html#cb228-3"></a><span class="co">#&gt; [1] &quot;Negative&quot; &quot;Negative&quot; &quot;Zero&quot;     &quot;Positive&quot; &quot;Positive&quot;</span></span></code></pre></div>
<p>Un uso común de esta función es definir unas variables categóricas basadas en variables existentes. Por ejemplo, supongamos que queremos comparar las tasas de homicidios en cuatro grupos de estados: <em>New England</em>, <em>West Coast</em>, <em>South</em> y <em>Other</em>. Para cada estado, primero preguntamos si está en <em>New England</em>. Si la respuesta es no, entonces preguntamos si está en el <em>West Coast</em>, y si no, preguntamos si está en el <em>South</em> y, si no, entonces asignamos ninguna de las anteriores (<em>Other</em>). Aquí vemos como usamos <code>case_when</code> para hacer esto:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="tidyverse.html#cb229-1"></a>murders <span class="op">%&gt;%</span></span>
<span id="cb229-2"><a href="tidyverse.html#cb229-2"></a><span class="kw">mutate</span>(<span class="dt">group =</span> <span class="kw">case_when</span>(</span>
<span id="cb229-3"><a href="tidyverse.html#cb229-3"></a>abb <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ME&quot;</span>, <span class="st">&quot;NH&quot;</span>, <span class="st">&quot;VT&quot;</span>, <span class="st">&quot;MA&quot;</span>, <span class="st">&quot;RI&quot;</span>, <span class="st">&quot;CT&quot;</span>) <span class="op">~</span><span class="st"> &quot;New England&quot;</span>,</span>
<span id="cb229-4"><a href="tidyverse.html#cb229-4"></a>abb <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;WA&quot;</span>, <span class="st">&quot;OR&quot;</span>, <span class="st">&quot;CA&quot;</span>) <span class="op">~</span><span class="st"> &quot;West Coast&quot;</span>,</span>
<span id="cb229-5"><a href="tidyverse.html#cb229-5"></a>region <span class="op">==</span><span class="st"> &quot;South&quot;</span> <span class="op">~</span><span class="st"> &quot;South&quot;</span>,</span>
<span id="cb229-6"><a href="tidyverse.html#cb229-6"></a><span class="ot">TRUE</span> <span class="op">~</span><span class="st"> &quot;Other&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb229-7"><a href="tidyverse.html#cb229-7"></a><span class="kw">group_by</span>(group) <span class="op">%&gt;%</span></span>
<span id="cb229-8"><a href="tidyverse.html#cb229-8"></a><span class="kw">summarize</span>(<span class="dt">rate =</span> <span class="kw">sum</span>(total)<span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(population) <span class="op">*</span><span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="dv">5</span>)</span>
<span id="cb229-9"><a href="tidyverse.html#cb229-9"></a><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></span>
<span id="cb229-10"><a href="tidyverse.html#cb229-10"></a><span class="co">#&gt; # A tibble: 4 x 2</span></span>
<span id="cb229-11"><a href="tidyverse.html#cb229-11"></a><span class="co">#&gt;   group        rate</span></span>
<span id="cb229-12"><a href="tidyverse.html#cb229-12"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;dbl&gt;</span></span>
<span id="cb229-13"><a href="tidyverse.html#cb229-13"></a><span class="co">#&gt; 1 New England  1.72</span></span>
<span id="cb229-14"><a href="tidyverse.html#cb229-14"></a><span class="co">#&gt; 2 Other        2.71</span></span>
<span id="cb229-15"><a href="tidyverse.html#cb229-15"></a><span class="co">#&gt; 3 South        3.63</span></span>
<span id="cb229-16"><a href="tidyverse.html#cb229-16"></a><span class="co">#&gt; 4 West Coast   2.90</span></span></code></pre></div>
</div>
<div id="between" class="section level3">
<h3><span class="header-section-number">4.14.2</span> <code>between</code></h3>
<p>Una operación común en el análisis de datos es determinar si un valor cae dentro de un intervalo. Podemos verificar esto usando condicionales. Por ejemplo, para verificar si los elementos de un vector <code>x</code> están entre <code>a</code> y <code>b</code> podemos escribir:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="tidyverse.html#cb230-1"></a>x <span class="op">&gt;=</span><span class="st"> </span>a <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;=</span><span class="st"> </span>b</span></code></pre></div>
<p>Sin embargo, esto puede volverse engorroso, especialmente dentro del enfoque <em>tidyverse</em>. La función <code>between</code> realiza la misma operación:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="tidyverse.html#cb231-1"></a><span class="kw">between</span>(x, a, b)</span></code></pre></div>
</div>
</div>
<div id="ejercicios-12" class="section level2">
<h2><span class="header-section-number">4.15</span> Ejercicios</h2>
<p>1. Cargue el set de datos <code>murders</code>. ¿Cuál de los siguientes es cierto?</p>
<ol style="list-style-type: lower-alpha">
<li><code>murders</code> está en formato <em>tidy</em> y se almacena en un <em>tibble</em>.</li>
<li><code>murders</code> está en formato <em>tidy</em> y se almacena en un <em>data frame</em>.</li>
<li><code>murders</code> no está en formato <em>tidy</em> y se almacena en un <em>tibble</em>.</li>
<li><code>murders</code> no está en formato <em>tidy</em> y se almacena en un <em>data frame</em>.</li>
</ol>
<p>2. Utilice <code>as_tibble</code> para convertir la tabla de datos <code>murders</code> en un <em>tibble</em> y guárdelo en un objeto llamado <code>murders_tibble</code>.</p>
<p>3. Utilice la función <code>group_by</code> para convertir <code>murders</code> en un <em>tibble</em> que se agrupa por región.</p>
<p>4. Escriba el código <em>tidyverse</em> que es equivalente a este código:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="tidyverse.html#cb232-1"></a><span class="kw">exp</span>(<span class="kw">mean</span>(<span class="kw">log</span>(murders<span class="op">$</span>population)))</span></code></pre></div>
<p>Escríbalo usando el <em>pipe</em> para que cada función se llame sin argumentos. Use el operador punto para acceder a la población. Sugerencia: el código debe comenzar con <code>murders %&gt;%</code>.</p>
<p>5. Utilice el <code>map_df</code> para crear un <em>data frame</em> con tres columnas que se denominan <code>n</code>, <code>s_n</code> y <code>s_n_2</code>. La primera columna debe contener los números del 1 al 100. La segunda y la tercera columna deben contener la suma del 1 al 100 <span class="math inline">\(n\)</span> con <span class="math inline">\(n\)</span> representando el número de fila.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="conceptos-básicos-de-programación.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="importing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslibro/edit/master/R/tidyverse.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
